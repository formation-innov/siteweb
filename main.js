(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"2Op9":function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("GPjf"),a=n("Ma0W"),u=n("NqFF"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.k)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.i)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.3.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.i)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.l)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.l)(e,t)},createSubscribe:s.j,ErrorFactory:s.b,deepExtend:s.l}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.p)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.v)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var _=v;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,"0.6.16",void 0),t.registerVersion("fire-js","")}(_),e.a=_},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"3a3M":function(t,e,n){var r;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,i){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,u=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},c=o.push,l=o.indexOf,h={},f=h.toString,d=h.hasOwnProperty,p=d.toString,g=p.call(Object),v={},b=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},m=function(t){return null!=t&&t===t.window},y=n.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function w(t,e,n){var r,i,o=(n=n||y).createElement("script");if(o.text=t,e)for(r in _)(i=e[r]||e.getAttribute&&e.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function C(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?h[f.call(t)]||"object":typeof t}var O="3.6.0",S=function(t,e){return new S.fn.init(t,e)};function E(t){var e=!!t&&"length"in t&&t.length,n=C(t);return!b(t)&&!m(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}S.fn=S.prototype={jquery:O,constructor:S,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return S.each(this,t)},map:function(t){return this.pushStack(S.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},S.extend=S.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||b(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)r=t[e],"__proto__"!==e&&s!==r&&(c&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[e],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,s[e]=S.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},S.extend({expando:"jQuery"+(O+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==f.call(t)||(e=s(t))&&("function"!=typeof(n=d.call(e,"constructor")&&e.constructor)||p.call(n)!==g))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){w(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(E(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(E(Object(t))?S.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:l.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,s=!n;i<o;i++)!e(t[i],i)!==s&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,s=[];if(E(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&s.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&s.push(i);return u(s)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=o[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){h["[object "+e+"]"]=e.toLowerCase()});var x=function(t){var e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,v,b,m,y,_="sizzle"+1*new Date,w=t.document,C=0,O=0,S=ut(),E=ut(),x=ut(),T=ut(),I=function(t,e){return t===e&&(h=!0),0},P={}.hasOwnProperty,j=[],A=j.pop,k=j.push,D=j.push,N=j.slice,R=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",U="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\[[\\x20\\t\\r\\n\\f]*("+U+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+L+"*\\]",V=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),q=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),z=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),B=new RegExp(L+"|>"),W=new RegExp(V),G=new RegExp("^"+U+"$"),$={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){f()},st=_t(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{D.apply(j=N.call(w.childNodes),w.childNodes)}catch(Et){D={apply:j.length?function(t,e){k.apply(t,N.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function at(t,e,r,i){var o,a,c,l,h,p,b,m=e&&e.ownerDocument,w=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return r;if(!i&&(f(e),e=e||d,g)){if(11!==w&&(h=J.exec(t)))if(o=h[1]){if(9===w){if(!(c=e.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(m&&(c=m.getElementById(o))&&y(e,c)&&c.id===o)return r.push(c),r}else{if(h[2])return D.apply(r,e.getElementsByTagName(t)),r;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return D.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!T[t+" "]&&(!v||!v.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(b=t,m=e,1===w&&(B.test(t)||z.test(t))){for((m=tt.test(t)&&bt(e.parentNode)||e)===e&&n.scope||((l=e.getAttribute("id"))?l=l.replace(rt,it):e.setAttribute("id",l=_)),a=(p=s(t)).length;a--;)p[a]=(l?"#"+l:":scope")+" "+yt(p[a]);b=p.join(",")}try{return D.apply(r,m.querySelectorAll(b)),r}catch(C){T(t,!0)}finally{l===_&&e.removeAttribute("id")}}}return u(t.replace(q,"$1"),e,r,i)}function ut(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function ct(t){return t[_]=!0,t}function lt(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(Et){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=e}function ft(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function dt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function vt(t){return ct(function(e){return e=+e,ct(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function bt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},o=at.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!Y.test(t&&t.namespaceURI||e&&e.nodeName||"HTML")},f=at.setDocument=function(t){var e,i,s=t?t.ownerDocument||t:w;return s!=d&&9===s.nodeType&&s.documentElement?(p=(d=s).documentElement,g=!o(d),w!=d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ot,!1):i.attachEvent&&i.attachEvent("onunload",ot)),n.scope=lt(function(t){return p.appendChild(t).appendChild(d.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),n.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=lt(function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(d.getElementsByClassName),n.getById=lt(function(t){return p.appendChild(t).id=_,!d.getElementsByName||!d.getElementsByName(_).length}),n.getById?(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},b=[],v=[],(n.qsa=Z.test(d.querySelectorAll))&&(lt(function(t){var e;p.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+M+")"),t.querySelectorAll("[id~="+_+"-]").length||v.push("~="),(e=d.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||v.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||v.push(".#.+[+~]"),t.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=Z.test(m=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&lt(function(t){n.disconnectedMatch=m.call(t,"*"),m.call(t,"[s!='']:x"),b.push("!=",V)}),v=v.length&&new RegExp(v.join("|")),b=b.length&&new RegExp(b.join("|")),e=Z.test(p.compareDocumentPosition),y=e||Z.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},I=e?function(t,e){if(t===e)return h=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t==d||t.ownerDocument==w&&y(w,t)?-1:e==d||e.ownerDocument==w&&y(w,e)?1:l?R(l,t)-R(l,e):0:4&r?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!i||!o)return t==d?-1:e==d?1:i?-1:o?1:l?R(l,t)-R(l,e):0;if(i===o)return ft(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?ft(s[r],a[r]):s[r]==w?-1:a[r]==w?1:0},d):d},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(f(t),n.matchesSelector&&g&&!T[e+" "]&&(!b||!b.test(e))&&(!v||!v.test(e)))try{var r=m.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(Et){T(e,!0)}return at(e,d,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=d&&f(t),y(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=d&&f(t);var i=r.attrHandle[e.toLowerCase()],o=i&&P.call(r.attrHandle,e.toLowerCase())?i(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},at.escape=function(t){return(t+"").replace(rt,it)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,r=[],i=0,o=0;if(h=!n.detectDuplicates,l=!n.sortStable&&t.slice(0),t.sort(I),h){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return l=null,t},i=at.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(r=at.selectors={cacheLength:50,createPseudo:ct,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return $.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&W.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+L+"|$)"))&&S(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var i=at.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(Q," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,h,f,d,p,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,b=a&&e.nodeName.toLowerCase(),m=!u&&!a,y=!1;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===b:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?v.firstChild:v.lastChild],s&&m){for(y=(d=(c=(l=(h=(f=v)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===C&&c[1])&&c[2],f=d&&v.childNodes[d];f=++d&&f&&f[g]||(y=d=0)||p.pop();)if(1===f.nodeType&&++y&&f===e){l[t]=[C,d,y];break}}else if(m&&(y=d=(c=(l=(h=(f=e)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===C&&c[1]),!1===y)for(;(f=++d&&f&&f[g]||(y=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==b:1!==f.nodeType)||!++y||(m&&((l=(h=f[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[C,y]),f!==e)););return(y-=i)===r||y%r==0&&y/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return i[_]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?ct(function(t,n){for(var r,o=i(t,e),s=o.length;s--;)t[r=R(t,o[s])]=!(n[r]=o[s])}):function(t){return i(t,0,n)}):i}},pseudos:{not:ct(function(t){var e=[],n=[],r=a(t.replace(q,"$1"));return r[_]?ct(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:ct(function(t){return function(e){return at(t,e).length>0}}),contains:ct(function(t){return t=t.replace(et,nt),function(e){return(e.textContent||i(e)).indexOf(t)>-1}}),lang:ct(function(t){return G.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return X.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:vt(function(){return[0]}),last:vt(function(t,e){return[e-1]}),eq:vt(function(t,e,n){return[n<0?n+e:n]}),even:vt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:vt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:vt(function(t,e,n){for(var r=n<0?n+e:n>e?e:n;--r>=0;)t.push(r);return t}),gt:vt(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=dt(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=pt(e);function mt(){}function yt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function _t(t,e,n){var r=e.dir,i=e.next,o=i||r,s=n&&"parentNode"===o,a=O++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||s)return t(e,n,i);return!1}:function(e,n,u){var c,l,h,f=[C,a];if(u){for(;e=e[r];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||s)if(l=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((c=l[o])&&c[0]===C&&c[1]===a)return f[2]=c[2];if(l[o]=f,f[2]=t(e,n,u))return!0}return!1}}function wt(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function Ct(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),c&&e.push(a)));return s}function Ot(t,e,n,r,i,o){return r&&!r[_]&&(r=Ot(r)),i&&!i[_]&&(i=Ot(i,o)),ct(function(o,s,a,u){var c,l,h,f=[],d=[],p=s.length,g=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)at(t,e[r],n);return n}(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?g:Ct(g,f,t,a,u),b=n?i||(o?t:p||r)?[]:s:v;if(n&&n(v,b,a,u),r)for(c=Ct(b,d),r(c,[],a,u),l=c.length;l--;)(h=c[l])&&(b[d[l]]=!(v[d[l]]=h));if(o){if(i||t){if(i){for(c=[],l=b.length;l--;)(h=b[l])&&c.push(v[l]=h);i(null,b=[],c,u)}for(l=b.length;l--;)(h=b[l])&&(c=i?R(o,h):f[l])>-1&&(o[c]=!(s[c]=h))}}else b=Ct(b===s?b.splice(p,b.length):b),i?i(null,s,b,u):D.apply(s,b)})}function St(t){for(var e,n,i,o=t.length,s=r.relative[t[0].type],a=s||r.relative[" "],u=s?1:0,l=_t(function(t){return t===e},a,!0),h=_t(function(t){return R(e,t)>-1},a,!0),f=[function(t,n,r){var i=!s&&(r||n!==c)||((e=n).nodeType?l(t,n,r):h(t,n,r));return e=null,i}];u<o;u++)if(n=r.relative[t[u].type])f=[_t(wt(f),n)];else{if((n=r.filter[t[u].type].apply(null,t[u].matches))[_]){for(i=++u;i<o&&!r.relative[t[i].type];i++);return Ot(u>1&&wt(f),u>1&&yt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(q,"$1"),n,u<i&&St(t.slice(u,i)),i<o&&St(t=t.slice(i)),i<o&&yt(t))}f.push(n)}return wt(f)}return mt.prototype=r.filters=r.pseudos,r.setFilters=new mt,s=at.tokenize=function(t,e){var n,i,o,s,a,u,c,l=E[t+" "];if(l)return e?0:l.slice(0);for(a=t,u=[],c=r.preFilter;a;){for(s in n&&!(i=H.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),n=!1,(i=z.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(q," ")}),a=a.slice(n.length)),r.filter)!(i=$[s].exec(a))||c[s]&&!(i=c[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):E(t,u).slice(0)},a=at.compile=function(t,e){var n,i=[],o=[],a=x[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=St(e[n]))[_]?i.push(a):o.push(a);(a=x(t,function(t,e){var n=e.length>0,i=t.length>0,o=function(o,s,a,u,l){var h,p,v,b=0,m="0",y=o&&[],_=[],w=c,O=o||i&&r.find.TAG("*",l),S=C+=null==w?1:Math.random()||.1,E=O.length;for(l&&(c=s==d||s||l);m!==E&&null!=(h=O[m]);m++){if(i&&h){for(p=0,s||h.ownerDocument==d||(f(h),a=!g);v=t[p++];)if(v(h,s||d,a)){u.push(h);break}l&&(C=S)}n&&((h=!v&&h)&&b--,o&&y.push(h))}if(b+=m,n&&m!==b){for(p=0;v=e[p++];)v(y,_,s,a);if(o){if(b>0)for(;m--;)y[m]||_[m]||(_[m]=A.call(u));_=Ct(_)}D.apply(u,_),l&&!o&&_.length>0&&b+e.length>1&&at.uniqueSort(u)}return l&&(C=S,c=w),y};return n?ct(o):o}(o,i))).selector=t}return a},u=at.select=function(t,e,n,i){var o,u,c,l,h,f="function"==typeof t&&t,d=!i&&s(t=f.selector||t);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&9===e.nodeType&&g&&r.relative[u[1].type]){if(!(e=(r.find.ID(c.matches[0].replace(et,nt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=$.needsContext.test(t)?0:u.length;o--&&!r.relative[l=(c=u[o]).type];)if((h=r.find[l])&&(i=h(c.matches[0].replace(et,nt),tt.test(u[0].type)&&bt(e.parentNode)||e))){if(u.splice(o,1),!(t=i.length&&yt(u)))return D.apply(n,i),n;break}}return(f||a(t,d))(i,e,!g,n,!e||tt.test(t)&&bt(e.parentNode)||e),n},n.sortStable=_.split("").sort(I).join("")===_,n.detectDuplicates=!!h,f(),n.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ht("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ht("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ht(M,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),at}(n);S.find=x,S.expr=x.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=x.uniqueSort,S.text=x.getText,S.isXMLDoc=x.isXML,S.contains=x.contains,S.escapeSelector=x.escape;var T=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&S(t).is(n))break;r.push(t)}return r},I=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},P=S.expr.match.needsContext;function j(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function k(t,e,n){return b(e)?S.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?S.grep(t,function(t){return t===e!==n}):"string"!=typeof e?S.grep(t,function(t){return l.call(e,t)>-1!==n}):S.filter(e,t,n)}S.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?S.find.matchesSelector(r,t)?[r]:[]:S.find.matches(t,S.grep(e,function(t){return 1===t.nodeType}))},S.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(S(t).filter(function(){for(e=0;e<r;e++)if(S.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)S.find(t,i[e],n);return r>1?S.uniqueSort(n):n},filter:function(t){return this.pushStack(k(this,t||[],!1))},not:function(t){return this.pushStack(k(this,t||[],!0))},is:function(t){return!!k(this,"string"==typeof t&&P.test(t)?S(t):t||[],!1).length}});var D,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||D,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:N.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(S.merge(this,S.parseHTML(r[1],(e=e instanceof S?e[0]:e)&&e.nodeType?e.ownerDocument||e:y,!0)),A.test(r[1])&&S.isPlainObject(e))for(r in e)b(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=y.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):b(t)?void 0!==n.ready?n.ready(t):t(S):S.makeArray(t,this)}).prototype=S.fn,D=S(y);var R=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function L(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(S.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],s="string"!=typeof t&&S(t);if(!P.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&S.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?S.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?l.call(S(t),this[0]):l.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return T(t,"parentNode")},parentsUntil:function(t,e,n){return T(t,"parentNode",n)},next:function(t){return L(t,"nextSibling")},prev:function(t){return L(t,"previousSibling")},nextAll:function(t){return T(t,"nextSibling")},prevAll:function(t){return T(t,"previousSibling")},nextUntil:function(t,e,n){return T(t,"nextSibling",n)},prevUntil:function(t,e,n){return T(t,"previousSibling",n)},siblings:function(t){return I((t.parentNode||{}).firstChild,t)},children:function(t){return I(t.firstChild)},contents:function(t){return null!=t.contentDocument&&s(t.contentDocument)?t.contentDocument:(j(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},function(t,e){S.fn[t]=function(n,r){var i=S.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=S.filter(r,i)),this.length>1&&(M[t]||S.uniqueSort(i),R.test(t)&&i.reverse()),this.pushStack(i)}});var U=/[^\x20\t\r\n\f]+/g;function F(t){return t}function V(t){throw t}function Q(t,e,n,r){var i;try{t&&b(i=t.promise)?i.call(t).done(e).fail(n):t&&b(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}S.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return S.each(t.match(U)||[],function(t,n){e[n]=!0}),e}(t):S.extend({},t);var e,n,r,i,o=[],s=[],a=-1,u=function(){for(i=i||t.once,r=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){S.each(n,function(n,r){b(r)?t.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==C(r)&&e(r)})}(arguments),n&&!e&&u()),this},remove:function(){return S.each(arguments,function(t,e){for(var n;(n=S.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?S.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},S.extend({Deferred:function(t){var e=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return S.Deferred(function(n){S.each(e,function(e,r){var i=b(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&b(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,r,i){var o=0;function s(t,e,r,i){return function(){var a=this,u=arguments,c=function(){var n,c;if(!(t<o)){if((n=r.apply(a,u))===e.promise())throw new TypeError("Thenable self-resolution");b(c=n&&("object"==typeof n||"function"==typeof n)&&n.then)?i?c.call(n,s(o,e,F,i),s(o,e,V,i)):(o++,c.call(n,s(o,e,F,i),s(o,e,V,i),s(o,e,F,e.notifyWith))):(r!==F&&(a=void 0,u=[n]),(i||e.resolveWith)(a,u))}},l=i?c:function(){try{c()}catch(n){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(n,l.stackTrace),t+1>=o&&(r!==V&&(a=void 0,u=[n]),e.rejectWith(a,u))}};t?l():(S.Deferred.getStackHook&&(l.stackTrace=S.Deferred.getStackHook()),n.setTimeout(l))}}return S.Deferred(function(n){e[0][3].add(s(0,n,b(i)?i:F,n.notifyWith)),e[1][3].add(s(0,n,b(t)?t:F)),e[2][3].add(s(0,n,b(r)?r:V))}).promise()},promise:function(t){return null!=t?S.extend(t,i):i}},o={};return S.each(e,function(t,n){var s=n[2],a=n[5];i[n[1]]=s.add,a&&s.add(function(){r=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=a.call(arguments),o=S.Deferred(),s=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?a.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(Q(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||b(i[n]&&i[n].then)))return o.then();for(;n--;)Q(i[n],s(n),o.reject);return o.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&q.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},S.readyException=function(t){n.setTimeout(function(){throw t})};var H=S.Deferred();function z(){y.removeEventListener("DOMContentLoaded",z),n.removeEventListener("load",z),S.ready()}S.fn.ready=function(t){return H.then(t).catch(function(t){S.readyException(t)}),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==t&&--S.readyWait>0||H.resolveWith(y,[S]))}}),S.ready.then=H.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?n.setTimeout(S.ready):(y.addEventListener("DOMContentLoaded",z),n.addEventListener("load",z));var B=function(t,e,n,r,i,o,s){var a=0,u=t.length,c=null==n;if("object"===C(n))for(a in i=!0,n)B(t,e,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,b(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(S(t),n)})),e))for(;a<u;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):u?e(t[0],n):o},W=/^-ms-/,G=/-([a-z])/g;function $(t,e){return e.toUpperCase()}function Y(t){return t.replace(W,"ms-").replace(G,$)}var K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=S.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[Y(e)]=n;else for(r in e)i[Y(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Y(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Y):(e=Y(e))in r?[e]:e.match(U)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||S.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var Z=new X,J=new X,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(i){}J.set(t,e,n)}else n=void 0;return n}S.extend({hasData:function(t){return J.hasData(t)||Z.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return Z.access(t,e,n)},_removeData:function(t,e){Z.remove(t,e)}}),S.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=J.get(o),1===o.nodeType&&!Z.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=Y(r.slice(5)),nt(o,r,i[r]));Z.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){J.set(this,t)}):B(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=J.get(o,t))||void 0!==(n=nt(o,t))?n:void 0;this.each(function(){J.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){J.remove(this,t)})}}),S.extend({queue:function(t,e,n){var r;if(t)return r=Z.get(t,e=(e||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=Z.access(t,e,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){var n=S.queue(t,e=e||"fx"),r=n.length,i=n.shift(),o=S._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){S.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Z.get(t,n)||Z.access(t,n,{empty:S.Callbacks("once memory").add(function(){Z.remove(t,[e+"queue",n])})})}}),S.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?S.queue(this[0],t):void 0===e?this:this.each(function(){var n=S.queue(this,t,e);S._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&S.dequeue(this,t)})},dequeue:function(t){return this.each(function(){S.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=S.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Z.get(o[s],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=y.documentElement,at=function(t){return S.contains(t.ownerDocument,t)},ut={composed:!0};st.getRootNode&&(at=function(t){return S.contains(t.ownerDocument,t)||t.getRootNode(ut)===t.ownerDocument});var ct=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===S.css(t,"display")};function lt(t,e,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return S.css(t,e,"")},u=a(),c=n&&n[3]||(S.cssNumber[e]?"":"px"),l=t.nodeType&&(S.cssNumber[e]||"px"!==c&&+u)&&it.exec(S.css(t,e));if(l&&l[3]!==c){for(c=c||l[3],l=+(u/=2)||1;s--;)S.style(t,e,l+c),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),l/=o;S.style(t,e,(l*=2)+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var ht={};function ft(t){var e,n=t.ownerDocument,r=t.nodeName,i=ht[r];return i||(e=n.body.appendChild(n.createElement(r)),i=S.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),ht[r]=i,i)}function dt(t,e){for(var n,r,i=[],o=0,s=t.length;o<s;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=Z.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ct(r)&&(i[o]=ft(r))):"none"!==n&&(i[o]="none",Z.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}S.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ct(this)?S(this).show():S(this).hide()})}});var pt,gt,vt=/^(?:checkbox|radio)$/i,bt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,mt=/^$|^module$|\/(?:java|ecma)script/i;pt=y.createDocumentFragment().appendChild(y.createElement("div")),(gt=y.createElement("input")).setAttribute("type","radio"),gt.setAttribute("checked","checked"),gt.setAttribute("name","t"),pt.appendChild(gt),v.checkClone=pt.cloneNode(!0).cloneNode(!0).lastChild.checked,pt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!pt.cloneNode(!0).lastChild.defaultValue,pt.innerHTML="<option></option>",v.option=!!pt.lastChild;var yt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _t(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&j(t,e)?S.merge([t],n):n}function wt(t,e){for(var n=0,r=t.length;n<r;n++)Z.set(t[n],"globalEval",!e||Z.get(e[n],"globalEval"))}yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td,v.option||(yt.optgroup=yt.option=[1,"<select multiple='multiple'>","</select>"]);var Ct=/<|&#?\w+;/;function Ot(t,e,n,r,i){for(var o,s,a,u,c,l,h=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===C(o))S.merge(f,o.nodeType?[o]:o);else if(Ct.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(bt.exec(o)||["",""])[1].toLowerCase(),s.innerHTML=(u=yt[a]||yt._default)[1]+S.htmlPrefilter(o)+u[2],l=u[0];l--;)s=s.lastChild;S.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(r&&S.inArray(o,r)>-1)i&&i.push(o);else if(c=at(o),s=_t(h.appendChild(o),"script"),c&&wt(s),n)for(l=0;o=s[l++];)mt.test(o.type||"")&&n.push(o);return h}var St=/^([^.]*)(?:\.(.+)|)/;function Et(){return!0}function xt(){return!1}function Tt(t,e){return t===function(){try{return y.activeElement}catch(t){}}()==("focus"===e)}function It(t,e,n,r,i,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(r=r||n,n=void 0),e)It(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=xt;else if(!i)return t;return 1===o&&(s=i,(i=function(t){return S().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=S.guid++)),t.each(function(){S.event.add(this,e,i,r,n)})}function Pt(t,e,n){n?(Z.set(t,e,!1),S.event.add(t,e,{namespace:!1,handler:function(t){var r,i,o=Z.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(S.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=a.call(arguments),Z.set(this,e,o),r=n(this,e),this[e](),o!==(i=Z.get(this,e))||r?Z.set(this,e,!1):i={},o!==i)return t.stopImmediatePropagation(),t.preventDefault(),i&&i.value}else o.length&&(Z.set(this,e,{value:S.event.trigger(S.extend(o[0],S.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Z.get(t,e)&&S.event.add(t,e,Et)}S.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,c,l,h,f,d,p,g,v=Z.get(t);if(K(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(st,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(s=v.handle)||(s=v.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(U)||[""]).length;c--;)d=g=(a=St.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),d&&(h=S.event.special[d]||{},h=S.event.special[d=(i?h.delegateType:h.bindType)||d]||{},l=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=u[d])||((f=u[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,r,p,s)||t.addEventListener&&t.addEventListener(d,s)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),S.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,c,l,h,f,d,p,g,v=Z.hasData(t)&&Z.get(t);if(v&&(u=v.events)){for(c=(e=(e||"").match(U)||[""]).length;c--;)if(d=g=(a=St.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),d){for(h=S.event.special[d]||{},f=u[d=(r?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)l=f[o],!i&&g!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(t,l));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,p,v.handle)||S.removeEvent(t,d,v.handle),delete u[d])}else for(d in u)S.event.remove(t,d+e[c],n,r,!0);S.isEmptyObject(u)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,s,a=new Array(arguments.length),u=S.event.fix(t),c=(Z.get(this,"events")||Object.create(null))[u.type]||[],l=S.event.special[u.type]||{};for(a[0]=u,e=1;e<arguments.length;e++)a[e]=arguments[e];if(u.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,u)){for(s=S.event.handlers.call(this,u,c),e=0;(i=s[e++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,u),u.result}},handlers:function(t,e){var n,r,i,o,s,a=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[i=(r=e[n]).selector+" "]&&(s[i]=r.needsContext?S(i,this).index(c)>-1:S.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,u<e.length&&a.push({elem:c,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:b(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return vt.test(e.type)&&e.click&&j(e,"input")&&Pt(e,"click",Et),!1},trigger:function(t){var e=this||t;return vt.test(e.type)&&e.click&&j(e,"input")&&Pt(e,"click"),!0},_default:function(t){var e=t.target;return vt.test(e.type)&&e.click&&j(e,"input")&&Z.get(e,"click")||j(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Et:xt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:xt,isPropagationStopped:xt,isImmediatePropagationStopped:xt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Et,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Et,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Et,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(t,e){S.event.special[t]={setup:function(){return Pt(this,t,Tt),!1},trigger:function(){return Pt(this,t),!0},_default:function(){return!0},delegateType:e}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){S.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||S.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),S.fn.extend({on:function(t,e,n,r){return It(this,t,e,n,r)},one:function(t,e,n,r){return It(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,S(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=xt),this.each(function(){S.event.remove(this,t,n,e)})}});var jt=/<script|<style|<link/i,At=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Dt(t,e){return j(t,"table")&&j(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function Nt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Rt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Mt(t,e){var n,r,i,o,s,a;if(1===e.nodeType){if(Z.hasData(t)&&(a=Z.get(t).events))for(i in Z.remove(e,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)S.event.add(e,i,a[i][n]);J.hasData(t)&&(o=J.access(t),s=S.extend({},o),J.set(e,s))}}function Lt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&vt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Ut(t,e,n,r){e=u(e);var i,o,s,a,c,l,h=0,f=t.length,d=f-1,p=e[0],g=b(p);if(g||f>1&&"string"==typeof p&&!v.checkClone&&At.test(p))return t.each(function(i){var o=t.eq(i);g&&(e[0]=p.call(this,i,o.html())),Ut(o,e,n,r)});if(f&&(o=(i=Ot(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=S.map(_t(i,"script"),Nt)).length;h<f;h++)c=i,h!==d&&(c=S.clone(c,!0,!0),a&&S.merge(s,_t(c,"script"))),n.call(t[h],c,h);if(a)for(l=s[s.length-1].ownerDocument,S.map(s,Rt),h=0;h<a;h++)mt.test((c=s[h]).type||"")&&!Z.access(c,"globalEval")&&S.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?S._evalUrl&&!c.noModule&&S._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):w(c.textContent.replace(kt,""),c,l))}return t}function Ft(t,e,n){for(var r,i=e?S.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(_t(r)),r.parentNode&&(n&&at(r)&&wt(_t(r,"script")),r.parentNode.removeChild(r));return t}S.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),u=at(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(s=_t(a),r=0,i=(o=_t(t)).length;r<i;r++)Lt(o[r],s[r]);if(e)if(n)for(o=o||_t(t),s=s||_t(a),r=0,i=o.length;r<i;r++)Mt(o[r],s[r]);else Mt(t,a);return(s=_t(a,"script")).length>0&&wt(s,!u&&_t(t,"script")),a},cleanData:function(t){for(var e,n,r,i=S.event.special,o=0;void 0!==(n=t[o]);o++)if(K(n)){if(e=n[Z.expando]){if(e.events)for(r in e.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,e.handle);n[Z.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),S.fn.extend({detach:function(t){return Ft(this,t,!0)},remove:function(t){return Ft(this,t)},text:function(t){return B(this,function(t){return void 0===t?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ut(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Dt(this,t).appendChild(t)})},prepend:function(){return Ut(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Dt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ut(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Ut(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(_t(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return S.clone(this,t,e)})},html:function(t){return B(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!jt.test(t)&&!yt[(bt.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(S.cleanData(_t(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Ut(this,arguments,function(e){var n=this.parentNode;S.inArray(this,t)<0&&(S.cleanData(_t(this)),n&&n.replaceChild(e,this))},t)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){S.fn[t]=function(t){for(var n,r=[],i=S(t),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),S(i[s])[e](n),c.apply(r,n.get());return this.pushStack(r)}});var Vt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Qt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},qt=function(t,e,n){var r,i,o={};for(i in e)o[i]=t.style[i],t.style[i]=e[i];for(i in r=n.call(t),e)t.style[i]=o[i];return r},Ht=new RegExp(ot.join("|"),"i");function zt(t,e,n){var r,i,o,s,a=t.style;return(n=n||Qt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||at(t)||(s=S.style(t,e)),!v.pixelBoxStyles()&&Vt.test(s)&&Ht.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function Bt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",st.appendChild(c).appendChild(l);var t=n.getComputedStyle(l);r="1%"!==t.top,u=12===e(t.marginLeft),l.style.right="60%",s=36===e(t.right),i=36===e(t.width),l.style.position="absolute",o=12===e(l.offsetWidth/3),st.removeChild(c),l=null}}function e(t){return Math.round(parseFloat(t))}var r,i,o,s,a,u,c=y.createElement("div"),l=y.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,r,i;return null==a&&(t=y.createElement("table"),e=y.createElement("tr"),r=y.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",r.style.height="9px",r.style.display="block",st.appendChild(t).appendChild(e).appendChild(r),i=n.getComputedStyle(e),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===e.offsetHeight,st.removeChild(t)),a}}))}();var Wt=["Webkit","Moz","ms"],Gt=y.createElement("div").style,$t={};function Yt(t){return S.cssProps[t]||$t[t]||(t in Gt?t:$t[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Wt.length;n--;)if((t=Wt[n]+e)in Gt)return t}(t)||t)}var Kt=/^(none|table(?!-c[ea]).+)/,Xt=/^--/,Zt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:"0",fontWeight:"400"};function te(t,e,n){var r=it.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function ee(t,e,n,r,i,o){var s="width"===e?1:0,a=0,u=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=S.css(t,n+ot[s],!0,i)),r?("content"===n&&(u-=S.css(t,"padding"+ot[s],!0,i)),"margin"!==n&&(u-=S.css(t,"border"+ot[s]+"Width",!0,i))):(u+=S.css(t,"padding"+ot[s],!0,i),"padding"!==n?u+=S.css(t,"border"+ot[s]+"Width",!0,i):a+=S.css(t,"border"+ot[s]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))||0),u}function ne(t,e,n){var r=Qt(t),i=(!v.boxSizingReliable()||n)&&"border-box"===S.css(t,"boxSizing",!1,r),o=i,s=zt(t,e,r),a="offset"+e[0].toUpperCase()+e.slice(1);if(Vt.test(s)){if(!n)return s;s="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&j(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===S.css(t,"display",!1,r))&&t.getClientRects().length&&(i="border-box"===S.css(t,"boxSizing",!1,r),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+ee(t,e,n||(i?"border":"content"),o,r,s)+"px"}function re(t,e,n,r,i){return new re.prototype.init(t,e,n,r,i)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=zt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=Y(e),u=Xt.test(e),c=t.style;if(u||(e=Yt(a)),s=S.cssHooks[e]||S.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:c[e];"string"==(o=typeof n)&&(i=it.exec(n))&&i[1]&&(n=lt(t,e,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,r){var i,o,s,a=Y(e);return Xt.test(e)||(e=Yt(a)),(s=S.cssHooks[e]||S.cssHooks[a])&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=zt(t,e,r)),"normal"===i&&e in Jt&&(i=Jt[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(t,e){S.cssHooks[e]={get:function(t,n,r){if(n)return!Kt.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ne(t,e,r):qt(t,Zt,function(){return ne(t,e,r)})},set:function(t,n,r){var i,o=Qt(t),s=!v.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===S.css(t,"boxSizing",!1,o),u=r?ee(t,e,r,a,o):0;return a&&s&&(u-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ee(t,e,"border",!1,o)-.5)),u&&(i=it.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=S.css(t,e)),te(0,n,u)}}}),S.cssHooks.marginLeft=Bt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(zt(t,"marginLeft"))||t.getBoundingClientRect().left-qt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(t,e){S.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+ot[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(S.cssHooks[t+e].set=te)}),S.fn.extend({css:function(t,e){return B(this,function(t,e,n){var r,i,o={},s=0;if(Array.isArray(e)){for(r=Qt(t),i=e.length;s<i;s++)o[e[s]]=S.css(t,e[s],!1,r);return o}return void 0!==n?S.style(t,e,n):S.css(t,e)},t,e,arguments.length>1)}}),S.Tween=re,(re.prototype={constructor:re,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var t=re.propHooks[this.prop];return t&&t.get?t.get(this):re.propHooks._default.get(this)},run:function(t){var e,n=re.propHooks[this.prop];return this.pos=e=this.options.duration?S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):re.propHooks._default.set(this),this}}).init.prototype=re.prototype,(re.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=S.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||!S.cssHooks[t.prop]&&null==t.elem.style[Yt(t.prop)]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=re.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=re.prototype.init,S.fx.step={};var ie,oe,se=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;function ue(){oe&&(!1===y.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ue):n.setTimeout(ue,S.fx.interval),S.fx.tick())}function ce(){return n.setTimeout(function(){ie=void 0}),ie=Date.now()}function le(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=ot[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function he(t,e,n){for(var r,i=(fe.tweeners[e]||[]).concat(fe.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function fe(t,e,n){var r,i,o=0,s=fe.prefilters.length,a=S.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=ie||ce(),n=Math.max(0,c.startTime+c.duration-e),r=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(r);return a.notifyWith(t,[c,r,n]),r<1&&s?n:(s||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||ce(),duration:n.duration,tweens:[],createTween:function(e,n){var r=S.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),l=c.props;for(function(t,e){var n,r,i,o,s;for(n in t)if(i=e[r=Y(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(s=S.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(l,c.opts.specialEasing);o<s;o++)if(r=fe.prefilters[o].call(c,t,l,c.opts))return b(r.stop)&&(S._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return S.map(l,he,c),b(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),S.fx.timer(S.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c}S.Animation=S.extend(fe,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return lt(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){b(t)?(e=t,t=["*"]):t=t.match(U);for(var n,r=0,i=t.length;r<i;r++)(fe.tweeners[n=t[r]]=fe.tweeners[n]||[]).unshift(e)},prefilters:[function(t,e,n){var r,i,o,s,a,u,c,l,h="width"in e||"height"in e,f=this,d={},p=t.style,g=t.nodeType&&ct(t),v=Z.get(t,"fxshow");for(r in n.queue||(null==(s=S._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,S.queue(t,"fx").length||s.empty.fire()})})),e)if(se.test(i=e[r])){if(delete e[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(t,r)}if((u=!S.isEmptyObject(e))||!S.isEmptyObject(d))for(r in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=v&&v.display)&&(c=Z.get(t,"display")),"none"===(l=S.css(t,"display"))&&(c?l=c:(dt([t],!0),c=t.style.display||c,l=S.css(t,"display"),dt([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===S.css(t,"float")&&(u||(f.done(function(){p.display=c}),null==c&&(c="none"===(l=p.display)?"":l)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Z.access(t,"fxshow",{display:c}),o&&(v.hidden=!g),g&&dt([t],!0),f.done(function(){for(r in g||dt([t]),Z.remove(t,"fxshow"),d)S.style(t,r,d[r])})),u=he(g?v[r]:0,r,f),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?fe.prefilters.unshift(t):fe.prefilters.push(t)}}),S.speed=function(t,e,n){var r=t&&"object"==typeof t?S.extend({},t):{complete:n||!n&&e||b(t)&&t,duration:t,easing:n&&e||e&&!b(e)&&e};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration=r.duration in S.fx.speeds?S.fx.speeds[r.duration]:S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){b(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(t,e,n,r){return this.filter(ct).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),s=function(){var e=fe(this,S.extend({},t),o);(i||Z.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=S.timers,s=Z.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&ae.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||S.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Z.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=S.timers,s=r?r.length:0;for(n.finish=!0,S.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),S.each(["toggle","show","hide"],function(t,e){var n=S.fn[e];S.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(le(e,!0),t,r,i)}}),S.each({slideDown:le("show"),slideUp:le("hide"),slideToggle:le("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){S.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),S.timers=[],S.fx.tick=function(){var t,e=0,n=S.timers;for(ie=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||S.fx.stop(),ie=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){oe||(oe=!0,ue())},S.fx.stop=function(){oe=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(t,e){return t=S.fx&&S.fx.speeds[t]||t,this.queue(e=e||"fx",function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})},function(){var t=y.createElement("input"),e=y.createElement("select").appendChild(y.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=y.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var de,pe=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return B(this,S.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){S.removeAttr(this,t)})}}),S.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?S.prop(t,e,n):(1===o&&S.isXMLDoc(t)||(i=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?de:void 0)),void 0!==n?null===n?void S.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=S.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&j(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(U);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),de={set:function(t,e,n){return!1===e?S.removeAttr(t,n):t.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(t,e){var n=pe[e]||S.find.attr;pe[e]=function(t,e,r){var i,o,s=e.toLowerCase();return r||(o=pe[s],pe[s]=i,i=null!=n(t,e,r)?s:null,pe[s]=o),i}});var ge=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;function be(t){return(t.match(U)||[]).join(" ")}function me(t){return t.getAttribute&&t.getAttribute("class")||""}function ye(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(U)||[]}S.fn.extend({prop:function(t,e){return B(this,S.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[S.propFix[t]||t]})}}),S.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(t)||(i=S.propHooks[e=S.propFix[e]||e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):ge.test(t.nodeName)||ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(S.propHooks.selected={get:function(t){return null},set:function(t){}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,s,a,u=0;if(b(t))return this.each(function(e){S(this).addClass(t.call(this,e,me(this)))});if((e=ye(t)).length)for(;n=this[u++];)if(i=me(n),r=1===n.nodeType&&" "+be(i)+" "){for(s=0;o=e[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(a=be(r))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,o,s,a,u=0;if(b(t))return this.each(function(e){S(this).removeClass(t.call(this,e,me(this)))});if(!arguments.length)return this.attr("class","");if((e=ye(t)).length)for(;n=this[u++];)if(i=me(n),r=1===n.nodeType&&" "+be(i)+" "){for(s=0;o=e[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(a=be(r))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):b(t)?this.each(function(n){S(this).toggleClass(t.call(this,n,me(this),e),e)}):this.each(function(){var e,i,o,s;if(r)for(i=0,o=S(this),s=ye(t);e=s[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=me(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+be(me(n))+" ").indexOf(e)>-1)return!0;return!1}});var _e=/\r/g;S.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=b(t),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,S(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=S.map(i,function(t){return null==t?"":t+""})),(e=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=S.valHooks[i.type]||S.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(_e,""):null==n?"":n:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:be(S.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:i.length;for(r=o<0?u:s?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!j(n.parentNode,"optgroup"))){if(e=S(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=S.makeArray(e),s=i.length;s--;)((r=i[s]).selected=S.inArray(S.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=S.inArray(S(t).val(),e)>-1}},v.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in n;var we=/^(?:focusinfocus|focusoutblur)$/,Ce=function(t){t.stopPropagation()};S.extend(S.event,{trigger:function(t,e,r,i){var o,s,a,u,c,l,h,f,p=[r||y],g=d.call(t,"type")?t.type:t,v=d.call(t,"namespace")?t.namespace.split("."):[];if(s=f=a=r=r||y,3!==r.nodeType&&8!==r.nodeType&&!we.test(g+S.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[S.expando]?t:new S.Event(g,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:S.makeArray(e,[t]),h=S.event.special[g]||{},i||!h.trigger||!1!==h.trigger.apply(r,e))){if(!i&&!h.noBubble&&!m(r)){for(we.test((u=h.delegateType||g)+g)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||y)&&p.push(a.defaultView||a.parentWindow||n)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)f=s,t.type=o>1?u:h.bindType||g,(l=(Z.get(s,"events")||Object.create(null))[t.type]&&Z.get(s,"handle"))&&l.apply(s,e),(l=c&&s[c])&&l.apply&&K(s)&&(t.result=l.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),e)||!K(r)||c&&b(r[g])&&!m(r)&&((a=r[c])&&(r[c]=null),S.event.triggered=g,t.isPropagationStopped()&&f.addEventListener(g,Ce),r[g](),t.isPropagationStopped()&&f.removeEventListener(g,Ce),S.event.triggered=void 0,a&&(r[c]=a)),t.result}},simulate:function(t,e,n){var r=S.extend(new S.Event,n,{type:t,isSimulated:!0});S.event.trigger(r,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each(function(){S.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return S.event.trigger(t,e,n,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){S.event.simulate(e,t.target,S.event.fix(t))};S.event.special[e]={setup:function(){var r=this.ownerDocument||this.document||this,i=Z.access(r,e);i||r.addEventListener(t,n,!0),Z.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=Z.access(r,e)-1;i?Z.access(r,e,i):(r.removeEventListener(t,n,!0),Z.remove(r,e))}}});var Oe=n.location,Se={guid:Date.now()},Ee=/\?/;S.parseXML=function(t){var e,r;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(i){}return r=e&&e.getElementsByTagName("parsererror")[0],e&&!r||S.error("Invalid XML: "+(r?S.map(r.childNodes,function(t){return t.textContent}).join("\n"):t)),e};var xe=/\[\]$/,Te=/\r?\n/g,Ie=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;function je(t,e,n,r){var i;if(Array.isArray(e))S.each(e,function(e,i){n||xe.test(t)?r(t,i):je(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==C(e))r(t,e);else for(i in e)je(t+"["+i+"]",e[i],n,r)}S.param=function(t,e){var n,r=[],i=function(t,e){var n=b(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,function(){i(this.name,this.value)});else for(n in t)je(n,t[n],e,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&Pe.test(this.nodeName)&&!Ie.test(t)&&(this.checked||!vt.test(t))}).map(function(t,e){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:n.replace(Te,"\r\n")}}).get()}});var Ae=/%20/g,ke=/#.*$/,De=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,Re=/^(?:GET|HEAD)$/,Me=/^\/\//,Le={},Ue={},Fe="*/".concat("*"),Ve=y.createElement("a");function Qe(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(U)||[];if(b(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function qe(t,e,n,r){var i={},o=t===Ue;function s(a){var u;return i[a]=!0,S.each(t[a]||[],function(t,a){var c=a(e,n,r);return"string"!=typeof c||o||i[c]?o?!(u=c):void 0:(e.dataTypes.unshift(c),s(c),!1)}),u}return s(e.dataTypes[0])||!i["*"]&&s("*")}function He(t,e){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&S.extend(!0,t,r),t}Ve.href=Oe.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Oe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Oe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?He(He(t,S.ajaxSettings),e):He(S.ajaxSettings,t)},ajaxPrefilter:Qe(Le),ajaxTransport:Qe(Ue),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var r,i,o,s,a,u,c,l,h,f,d=S.ajaxSetup({},e=e||{}),p=d.context||d,g=d.context&&(p.nodeType||p.jquery)?S(p):S.event,v=S.Deferred(),b=S.Callbacks("once memory"),m=d.statusCode||{},_={},w={},C="canceled",O={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Ne.exec(o);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)O.always(t[O.status]);else for(e in t)m[e]=[m[e],t[e]];return this},abort:function(t){var e=t||C;return r&&r.abort(e),E(0,e),this}};if(v.promise(O),d.url=((t||d.url||Oe.href)+"").replace(Me,Oe.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(U)||[""],null==d.crossDomain){u=y.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Ve.protocol+"//"+Ve.host!=u.protocol+"//"+u.host}catch(x){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=S.param(d.data,d.traditional)),qe(Le,d,e,O),c)return O;for(h in(l=S.event&&d.global)&&0==S.active++&&S.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Re.test(d.type),i=d.url.replace(ke,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ae,"+")):(f=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(Ee.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(De,"$1"),f=(Ee.test(i)?"&":"?")+"_="+Se.guid+++f),d.url=i+f),d.ifModified&&(S.lastModified[i]&&O.setRequestHeader("If-Modified-Since",S.lastModified[i]),S.etag[i]&&O.setRequestHeader("If-None-Match",S.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&O.setRequestHeader("Content-Type",d.contentType),O.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Fe+"; q=0.01":""):d.accepts["*"]),d.headers)O.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(p,O,d)||c))return O.abort();if(C="abort",b.add(d.complete),O.done(d.success),O.fail(d.error),r=qe(Ue,d,e,O)){if(O.readyState=1,l&&g.trigger("ajaxSend",[O,d]),c)return O;d.async&&d.timeout>0&&(a=n.setTimeout(function(){O.abort("timeout")},d.timeout));try{c=!1,r.send(_,E)}catch(x){if(c)throw x;E(-1,x)}}else E(-1,"No Transport");function E(t,e,s,u){var h,f,y,_,w,C=e;c||(c=!0,a&&n.clearTimeout(a),r=void 0,o=u||"",O.readyState=t>0?4:0,h=t>=200&&t<300||304===t,s&&(_=function(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(d,O,s)),!h&&S.inArray("script",d.dataTypes)>-1&&S.inArray("json",d.dataTypes)<0&&(d.converters["text script"]=function(){}),_=function(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=c[u+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(x){return{state:"parsererror",error:s?x:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(d,_,O,h),h?(d.ifModified&&((w=O.getResponseHeader("Last-Modified"))&&(S.lastModified[i]=w),(w=O.getResponseHeader("etag"))&&(S.etag[i]=w)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=_.state,f=_.data,h=!(y=_.error))):(y=C,!t&&C||(C="error",t<0&&(t=0))),O.status=t,O.statusText=(e||C)+"",h?v.resolveWith(p,[f,C,O]):v.rejectWith(p,[O,C,y]),O.statusCode(m),m=void 0,l&&g.trigger(h?"ajaxSuccess":"ajaxError",[O,d,h?f:y]),b.fireWith(p,[O,C]),l&&(g.trigger("ajaxComplete",[O,d]),--S.active||S.event.trigger("ajaxStop")))}return O},getJSON:function(t,e,n){return S.get(t,e,n,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],function(t,e){S[e]=function(t,n,r,i){return b(n)&&(i=i||r,r=n,n=void 0),S.ajax(S.extend({url:t,type:e,dataType:i,data:n,success:r},S.isPlainObject(t)&&t))}}),S.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),S._evalUrl=function(t,e,n){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){S.globalEval(t,e,n)}})},S.fn.extend({wrapAll:function(t){var e;return this[0]&&(b(t)&&(t=t.call(this[0])),e=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return b(t)?this.each(function(e){S(this).wrapInner(t.call(this,e))}):this.each(function(){var e=S(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=b(t);return this.each(function(n){S(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var ze={0:200,1223:204},Be=S.ajaxSettings.xhr();v.cors=!!Be&&"withCredentials"in Be,v.ajax=Be=!!Be,S.ajaxTransport(function(t){var e,r;if(v.cors||Be&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);e=function(t){return function(){e&&(e=r=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(ze[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),r=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(u){if(e)throw u}},abort:function(){e&&e()}}}),S.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),S.ajaxTransport("script",function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,i){e=S("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),y.head.appendChild(e[0])},abort:function(){n&&n()}}});var We,Ge=[],$e=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ge.pop()||S.expando+"_"+Se.guid++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",function(t,e,r){var i,o,s,a=!1!==t.jsonp&&($e.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&$e.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=b(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace($e,"$1"+i):!1!==t.jsonp&&(t.url+=(Ee.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||S.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){s=arguments},r.always(function(){void 0===o?S(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ge.push(i)),s&&b(o)&&o(s[0]),s=o=void 0}),"script"}),v.createHTMLDocument=((We=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===We.childNodes.length),S.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((r=(e=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,e.head.appendChild(r)):e=y),o=!n&&[],(i=A.exec(t))?[e.createElement(i[1])]:(i=Ot([t],e,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(t,e,n){var r,i,o,s=this,a=t.indexOf(" ");return a>-1&&(r=be(t.slice(a)),t=t.slice(0,a)),b(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&S.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?S("<div>").append(S.parseHTML(t)).find(r):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,c=S.css(t,"position"),l=S(t),h={};"static"===c&&(t.style.position="relative"),a=l.offset(),o=S.css(t,"top"),u=S.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(s=(r=l.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),b(e)&&(e=e.call(t,n,S.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+i),"using"in e?e.using.call(t,h):l.css(h)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?{top:(e=r.getBoundingClientRect()).top+(n=r.ownerDocument.defaultView).pageYOffset,left:e.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),i.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-S.css(r,"marginTop",!0),left:e.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||st})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;S.fn[t]=function(r){return B(this,function(t,r,i){var o;if(m(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),S.each(["top","left"],function(t,e){S.cssHooks[e]=Bt(v.pixelPosition,function(t,n){if(n)return n=zt(t,e),Vt.test(n)?S(t).position()[e]+"px":n})}),S.each({Height:"height",Width:"width"},function(t,e){S.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){S.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return B(this,function(e,n,i){var o;return m(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?S.css(e,n,a):S.style(e,n,i,a)},e,s?i:void 0,s)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){S.fn[e]=function(t){return this.on(e,t)}}),S.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){S.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}});var Ye=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),b(t))return r=a.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(a.call(arguments)))}).guid=t.guid=t.guid||S.guid++,i},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=j,S.isFunction=b,S.isWindow=m,S.camelCase=Y,S.type=C,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},S.trim=function(t){return null==t?"":(t+"").replace(Ye,"")},void 0===(r=(function(){return S}).apply(e,[]))||(t.exports=r);var Ke=n.jQuery,Xe=n.$;return S.noConflict=function(t){return n.$===S&&(n.$=Xe),t&&n.jQuery===S&&(n.jQuery=Ke),S},void 0===i&&(n.jQuery=n.$=S),S})},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},GPjf:function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return S}),n.d(e,"c",function(){return O}),n.d(e,"d",function(){return L}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return k}),n.d(e,"j",function(){return U}),n.d(e,"k",function(){return l}),n.d(e,"l",function(){return h}),n.d(e,"m",function(){return q}),n.d(e,"n",function(){return d}),n.d(e,"o",function(){return A}),n.d(e,"p",function(){return v}),n.d(e,"q",function(){return b}),n.d(e,"r",function(){return y}),n.d(e,"s",function(){return N}),n.d(e,"t",function(){return _}),n.d(e,"u",function(){return p}),n.d(e,"v",function(){return g}),n.d(e,"w",function(){return C}),n.d(e,"x",function(){return m}),n.d(e,"y",function(){return w}),n.d(e,"z",function(){return j}),n.d(e,"A",function(){return T}),n.d(e,"B",function(){return R}),n.d(e,"C",function(){return M}),n.d(e,"D",function(){return D}),n.d(e,"E",function(){return W}),n.d(e,"F",function(){return B}),n.d(e,"G",function(){return I}),n.d(e,"H",function(){return Q}),n.d(e,"I",function(){return H}),n.d(e,"J",function(){return z});var r=n("mrSG"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=s(t);return a.encodeByteArray(e,!0)},c=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function g(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function v(){return"object"==typeof self&&self.self===self}function b(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return d().indexOf("Electron/")>=0}function _(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return d().indexOf("MSAppHost/")>=0}function C(){return!1}var O=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,S.prototype.create),o}return Object(r.c)(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?E(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new O(i,a,r);return u},t}();function E(t,e){return t.replace(x,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var x=/\{\$([^}]+)}/g;function T(t){return JSON.parse(t)}function I(t){return JSON.stringify(t)}var P=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=T(c(o[0])||""),n=T(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},j=function(t){var e=P(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},A=function(t){var e=P(t).claims;return"object"==typeof e&&!0===e.admin};function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function N(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function R(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function M(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var L=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function U(t,e){var n=new F(t,e);return n.subscribe.bind(n)}var F=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=V),void 0===r.error&&(r.error=V),void 0===r.complete&&(r.complete=V);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function V(){}var Q=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function q(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}function H(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(q(t,e,r)+"must be a valid function.")}function z(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(q(t,e,r)+"must be a valid context object.")}var B=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var s=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},W=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("mCNh"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},Ma0W:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a});var r=n("mrSG"),i=n("GPjf"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},NqFF:function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EY2u"),i=n("LRne"),o=n("HDdC");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},"ZBx/":function(t,e,n){"use strict";var r=n("2Op9");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.0","app")},aOsy:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return v}),n.d(e,"j",function(){return C});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("ZBx/");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],v=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new u.r("angularfire2.app.options"),y=new u.r("angularfire2.app.nameOrConfig"),_=new u.P("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&O("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const C=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const E={provide:class{},useFactory:w,deps:[m,u.A,[new u.B,y]]};let x=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:y,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Ub(u.C))},t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({providers:[E]}),t})()}).call(this,n("3UD+")(t))},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return nn}),n.d(e,"b",function(){return Eu}),n.d(e,"c",function(){return _u}),n.d(e,"d",function(){return mu}),n.d(e,"e",function(){return yu}),n.d(e,"f",function(){return mc}),n.d(e,"g",function(){return uc}),n.d(e,"h",function(){return Ca}),n.d(e,"i",function(){return Mu}),n.d(e,"j",function(){return Ws}),n.d(e,"k",function(){return Iu}),n.d(e,"l",function(){return Ks}),n.d(e,"m",function(){return Cr}),n.d(e,"n",function(){return eu}),n.d(e,"o",function(){return so}),n.d(e,"p",function(){return Cn}),n.d(e,"q",function(){return P}),n.d(e,"r",function(){return en}),n.d(e,"s",function(){return Oo}),n.d(e,"t",function(){return ga}),n.d(e,"u",function(){return ba}),n.d(e,"v",function(){return Tu}),n.d(e,"w",function(){return Da}),n.d(e,"x",function(){return lc}),n.d(e,"y",function(){return ka}),n.d(e,"z",function(){return rc}),n.d(e,"A",function(){return Fu}),n.d(e,"B",function(){return On}),n.d(e,"C",function(){return Su}),n.d(e,"D",function(){return Ou}),n.d(e,"E",function(){return Js}),n.d(e,"F",function(){return Zs}),n.d(e,"G",function(){return Tr}),n.d(e,"H",function(){return ea}),n.d(e,"I",function(){return pr}),n.d(e,"J",function(){return Sn}),n.d(e,"K",function(){return dc}),n.d(e,"L",function(){return Ia}),n.d(e,"M",function(){return Wu}),n.d(e,"N",function(){return rn}),n.d(e,"O",function(){return ra}),n.d(e,"P",function(){return na}),n.d(e,"Q",function(){return Ra}),n.d(e,"R",function(){return R}),n.d(e,"S",function(){return ic}),n.d(e,"T",function(){return ec}),n.d(e,"U",function(){return d}),n.d(e,"V",function(){return tc}),n.d(e,"W",function(){return vc}),n.d(e,"X",function(){return Yu}),n.d(e,"Y",function(){return xu}),n.d(e,"Z",function(){return uo}),n.d(e,"ab",function(){return ks}),n.d(e,"bb",function(){return fr}),n.d(e,"cb",function(){return Yn}),n.d(e,"db",function(){return Un}),n.d(e,"eb",function(){return Vn}),n.d(e,"fb",function(){return zn}),n.d(e,"gb",function(){return qn}),n.d(e,"hb",function(){return Qn}),n.d(e,"ib",function(){return Hn}),n.d(e,"jb",function(){return Is}),n.d(e,"kb",function(){return gc}),n.d(e,"lb",function(){return Ps}),n.d(e,"mb",function(){return js}),n.d(e,"nb",function(){return Fn}),n.d(e,"ob",function(){return V}),n.d(e,"pb",function(){return ko}),n.d(e,"qb",function(){return Xo}),n.d(e,"rb",function(){return Yo}),n.d(e,"sb",function(){return Ko}),n.d(e,"tb",function(){return Ts}),n.d(e,"ub",function(){return St}),n.d(e,"vb",function(){return l}),n.d(e,"wb",function(){return Ln}),n.d(e,"xb",function(){return Eo}),n.d(e,"yb",function(){return mt}),n.d(e,"zb",function(){return Hs}),n.d(e,"Ab",function(){return li}),n.d(e,"Bb",function(){return Uo}),n.d(e,"Cb",function(){return ls}),n.d(e,"Db",function(){return cs}),n.d(e,"Eb",function(){return pu}),n.d(e,"Fb",function(){return X}),n.d(e,"Gb",function(){return it}),n.d(e,"Hb",function(){return _}),n.d(e,"Ib",function(){return w}),n.d(e,"Jb",function(){return et}),n.d(e,"Kb",function(){return ot}),n.d(e,"Lb",function(){return Vo}),n.d(e,"Mb",function(){return Bo}),n.d(e,"Nb",function(){return Go}),n.d(e,"Ob",function(){return Wo}),n.d(e,"Pb",function(){return zo}),n.d(e,"Qb",function(){return Ho}),n.d(e,"Rb",function(){return $o}),n.d(e,"Sb",function(){return Ke}),n.d(e,"Tb",function(){return Os}),n.d(e,"Ub",function(){return yn}),n.d(e,"Vb",function(){return Ze}),n.d(e,"Wb",function(){return bu}),n.d(e,"Xb",function(){return Zo}),n.d(e,"Yb",function(){return gu}),n.d(e,"Zb",function(){return es}),n.d(e,"ac",function(){return Qo}),n.d(e,"bc",function(){return Ka}),n.d(e,"cc",function(){return Xa}),n.d(e,"dc",function(){return Za}),n.d(e,"ec",function(){return Ja}),n.d(e,"fc",function(){return du}),n.d(e,"gc",function(){return Er}),n.d(e,"hc",function(){return Ht}),n.d(e,"ic",function(){return gr}),n.d(e,"jc",function(){return br}),n.d(e,"kc",function(){return vr}),n.d(e,"lc",function(){return nt}),n.d(e,"mc",function(){return Fo}),n.d(e,"nc",function(){return _s}),n.d(e,"oc",function(){return ws}),n.d(e,"pc",function(){return Cs});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function m(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function y(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${m(t)} found${n}`)}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return{providers:t.providers||[],imports:t.imports||[]}}function C(t){return O(t,E)||O(t,T)}function O(t,e){return t.hasOwnProperty(e)?t[e]:null}function S(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(I))?t[x]:null}const E=u({"\u0275prov":u}),x=u({"\u0275inj":u}),T=u({ngInjectableDef:u}),I=u({ngInjectorDef:u});var P=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let j;function A(t){const e=j;return j=t,e}function k(t,e,n){const r=C(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&P.Optional?null:void 0!==e?e:void y(l(t),"Injector")}function D(t){return{toString:t}.toString()}var N=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),R=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,L="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,F="undefined"!=typeof global&&global,V=M||F||L||U,Q={},q=[],H=u({"\u0275cmp":u}),z=u({"\u0275dir":u}),B=u({"\u0275pipe":u}),W=u({"\u0275mod":u}),G=u({"\u0275loc":u}),$=u({"\u0275fac":u}),Y=u({__NG_ELEMENT_ID__:u});let K=0;function X(t){return D(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||q,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||R.Emulated,id:"c",styles:t.styles||q,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=K++,n.inputs=rt(t.inputs,e),n.outputs=rt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Z):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(J):null,n})}function Z(t){return st(t)||function(t){return t[z]||null}(t)}function J(t){return function(t){return t[B]||null}(t)}const tt={};function et(t){const e={type:t.type,bootstrap:t.bootstrap||q,declarations:t.declarations||q,imports:t.imports||q,exports:t.exports||q,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&D(()=>{tt[t.id]=t.type}),e}function nt(t,e){return D(()=>{const n=at(t,!0);n.declarations=e.declarations||q,n.imports=e.imports||q,n.exports=e.exports||q})}function rt(t,e){if(null==t)return Q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const it=X;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function st(t){return t[H]||null}function at(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ut=20,ct=10;function lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ht(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function dt(t){return 2==(2&t.flags)}function pt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty($)?t[$]:null}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function mt(){return yt}function yt(t){return t.type.prototype.ngOnChanges&&(t.setInput=wt),_t}function _t(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function wt(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Q,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new bt(u&&u.currentValue,e,s===Q),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}let Ot;function St(t){Ot=t}function Et(){return void 0!==Ot?Ot:"undefined"!=typeof document?document:void 0}function xt(t){return!!t.listen}mt.ngInherit=!0;const Tt={createRenderer:(t,e)=>Et()};function It(t){for(;Array.isArray(t);)t=t[0];return t}function Pt(t,e){return It(e[t])}function jt(t,e){return It(e[t.index])}function At(t,e){return t.data[e]}function kt(t,e){const n=e[t];return lt(n)?n:n[0]}function Dt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Nt(t){return 4==(4&t[2])}function Rt(t){return 128==(128&t[2])}function Mt(t,e){return null==e?null:t[e]}function Lt(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ft={lFrame:ue(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vt(){return Ft.bindingsEnabled}function Qt(){return Ft.lFrame.lView}function qt(){return Ft.lFrame.tView}function Ht(t){Ft.lFrame.contextLView=t}function zt(){let t=Bt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bt(){return Ft.lFrame.currentTNode}function Wt(t,e){const n=Ft.lFrame;n.currentTNode=t,n.isParent=e}function Gt(){return Ft.lFrame.isParent}function $t(){Ft.lFrame.isParent=!1}function Yt(){return Ft.isInCheckNoChangesMode}function Kt(t){Ft.isInCheckNoChangesMode=t}function Xt(){const t=Ft.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Zt(){return Ft.lFrame.bindingIndex++}function Jt(t){const e=Ft.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function te(t,e){const n=Ft.lFrame;n.bindingIndex=n.bindingRootIndex=t,ee(e)}function ee(t){Ft.lFrame.currentDirectiveIndex=t}function ne(){return Ft.lFrame.currentQueryIndex}function re(t){Ft.lFrame.currentQueryIndex=t}function ie(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function oe(t,e,n){if(n&P.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&P.Host||(r=ie(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ft.lFrame=ae();return r.currentTNode=e,r.lView=t,!0}function se(t){const e=ae(),n=t[1];Ft.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ae(){const t=Ft.lFrame,e=null===t?null:t.child;return null===e?ue(t):e}function ue(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ce(){const t=Ft.lFrame;return Ft.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const le=ce;function he(){const t=ce();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fe(){return Ft.lFrame.selectedIndex}function de(t){Ft.lFrame.selectedIndex=t}function pe(){const t=Ft.lFrame;return At(t.tView,t.selectedIndex)}function ge(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ve(t,e,n){ye(t,e,3,n)}function be(t,e,n,r){(3&t[2])===n&&ye(t,e,n,r)}function me(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ye(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(_e(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function _e(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const we=-1;class Ce{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Oe(t,e,n){const r=xt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ee(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Se(t){return 3===t||4===t||6===t}function Ee(t){return 64===t.charCodeAt(0)}function xe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Te(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Te(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ie(t){return t!==we}function Pe(t){return 32767&t}function je(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ae=!0;function ke(t){const e=Ae;return Ae=t,e}let De=0;function Ne(t,e){const n=Me(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Re(r.data,t),Re(e,null),Re(r.blueprint,null));const i=Le(t,e),o=t.injectorIndex;if(Ie(i)){const t=Pe(i),n=je(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Re(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Me(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Le(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return we;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return we}function Ue(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=De++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Fe(t,e,n){if(n&P.Optional)return t;y(e,"NodeInjector")}function Ve(t,e,n,r){if(n&P.Optional&&void 0===r&&(r=null),0==(n&(P.Self|P.Host))){const i=t[9],o=A(void 0);try{return i?i.get(e,r,n&P.Optional):k(e,r,n&P.Optional)}finally{A(o)}}return Fe(r,e,n)}function Qe(t,e,n,r=P.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:He:e}(n);if("function"==typeof o){if(!oe(e,t,r))return r&P.Host?Fe(i,n,r):Ve(e,n,r,i);try{const t=o();if(null!=t||r&P.Optional)return t;y(n)}finally{le()}}else if("number"==typeof o){let i=null,s=Me(t,e),a=we,u=r&P.Host?e[16][6]:null;for((-1===s||r&P.SkipSelf)&&(a=-1===s?Le(t,e):e[s+8],a!==we&&$e(r,!1)?(i=e[1],s=Pe(a),e=je(a,e)):s=-1);-1!==s;){const t=e[1];if(Ge(o,s,t.data)){const t=ze(s,e,n,i,r,u);if(t!==qe)return t}a=e[s+8],a!==we&&$e(r,e[1].data[s+8]===u)&&Ge(o,s,e)?(i=t,s=Pe(a),e=je(a,e)):s=-1}}}return Ve(e,n,r,i)}const qe={};function He(){return new Ye(zt(),Qt())}function ze(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Be(a,s,n,null==r?dt(a)&&Ae:r!=s&&0!=(3&a.type),i&P.Host&&o===a);return null!==u?We(e,s,u,a):qe}function Be(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&gt(t)&&t.type===n)return u}return null}function We(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ce){const s=i;s.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(m(o[n]));const a=ke(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?A(s.injectImpl):null;oe(t,r,P.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=yt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&A(u),ke(a),s.resolving=!1,le()}}return i}function Ge(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function $e(t,e){return!(t&P.Self||t&P.Host&&e)}class Ye{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Qe(this._tNode,this._lView,t,void 0,e)}}function Ke(t){return D(()=>{const e=t.prototype.constructor,n=e[$]||Xe(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[$]||Xe(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Xe(t){return g(t)?()=>{const e=Xe(p(t));return e&&e()}:vt(t)}function Ze(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Se(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(zt(),t)}const Je="__parameters__";function tn(t,e,n){return D(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Je)?t[Je]:Object.defineProperty(t,Je,{value:[]})[Je];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class en{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nn=new en("AnalyzeForEntryComponents"),rn=Function;function on(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),on(r,e)):e!==t&&e.push(r)}return e}function sn(t,e){t.forEach(t=>Array.isArray(t)?sn(t,e):e(t))}function an(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function un(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function cn(t,e,n){let r=hn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ln(t,e){const n=hn(t,e);if(n>=0)return t[1|n]}function hn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const fn={},dn=/\n/gm,pn="__source",gn=u({provide:String,useValue:u});let vn;function bn(t){const e=vn;return vn=t,e}function mn(t,e=P.Default){if(void 0===vn)throw new Error("inject() must be called from an injection context");return null===vn?k(t,void 0,e):vn.get(t,e&P.Optional?null:void 0,e)}function yn(t,e=P.Default){return(j||mn)(p(t),e)}function _n(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=P.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(yn(t,n))}else e.push(yn(r))}return e}function wn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Cn=wn(tn("Inject",t=>({token:t})),-1),On=wn(tn("Optional"),8),Sn=wn(tn("SkipSelf"),4);let En,xn;function Tn(t){var e;return(null===(e=function(){if(void 0===En&&(En=null,V.trustedTypes))try{En=V.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return En}())||void 0===e?void 0:e.createHTML(t))||t}function In(){if(void 0===xn&&(xn=null,V.trustedTypes))try{xn=V.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return xn}function Pn(t){var e;return(null===(e=In())||void 0===e?void 0:e.createHTML(t))||t}function jn(t){var e;return(null===(e=In())||void 0===e?void 0:e.createScriptURL(t))||t}class An{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class kn extends An{getTypeName(){return"HTML"}}class Dn extends An{getTypeName(){return"Style"}}class Nn extends An{getTypeName(){return"Script"}}class Rn extends An{getTypeName(){return"URL"}}class Mn extends An{getTypeName(){return"ResourceURL"}}function Ln(t){return t instanceof An?t.changingThisBreaksApplicationSecurity:t}function Un(t,e){const n=Fn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Fn(t){return t instanceof An&&t.getTypeName()||null}function Vn(t){return new kn(t)}function Qn(t){return new Dn(t)}function qn(t){return new Nn(t)}function Hn(t){return new Rn(t)}function zn(t){return new Mn(t)}class Bn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Tn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Wn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Tn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Tn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Gn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$n=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yn(t){return(t=String(t)).match(Gn)||t.match($n)?t:"unsafe:"+t}function Kn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Xn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Zn=Kn("area,br,col,hr,img,wbr"),Jn=Kn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tr=Kn("rp,rt"),er=Xn(tr,Jn),nr=Xn(Zn,Xn(Jn,Kn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xn(tr,Kn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),er),rr=Kn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ir=Kn("srcset"),or=Xn(rr,ir,Kn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sr=Kn("script,style,template");class ar{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!nr.hasOwnProperty(e))return this.sanitizedSomething=!0,!sr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!or.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;rr[o]&&(s=Yn(s)),ir[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Yn(t.trim())).join(", ")),this.buf.push(" ",e,'="',lr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();nr.hasOwnProperty(e)&&!Zn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(lr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ur=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cr=/([^\#-~ |!])/g;function lr(t){return t.replace(/&/g,"&amp;").replace(ur,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(cr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hr;function fr(t,e){let n=null;try{hr=hr||function(t){const e=new Wn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Tn(""),"text/html")}catch(t){return!1}}()?new Bn(e):e}(t);let r=e?String(e):"";n=hr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=hr.getInertBodyElement(r)}while(r!==o);return Tn((new ar).sanitizeChildren(dr(n)||n))}finally{if(n){const t=dr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function dr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var pr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function gr(t){const e=mr();return e?Pn(e.sanitize(pr.HTML,t)||""):Un(t,"HTML")?Pn(Ln(t)):fr(Et(),b(t))}function vr(t){const e=mr();return e?e.sanitize(pr.URL,t)||"":Un(t,"URL")?Ln(t):Yn(b(t))}function br(t){const e=mr();if(e)return jn(e.sanitize(pr.RESOURCE_URL,t)||"");if(Un(t,"ResourceURL"))return jn(Ln(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function mr(){const t=Qt();return t&&t[12]}function yr(t){return t.ngDebugContext}function _r(t){return t.ngOriginalError}function wr(t,...e){t.error(...e)}class Cr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||wr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?yr(t)?yr(t):this._findContext(_r(t)):null}_findOriginalError(t){let e=_r(t);for(;e&&_r(e);)e=_r(e);return e}}function Or(t,e){t.__ngContext__=e}const Sr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V))();function Er(t){return{name:"document",target:t.ownerDocument}}function xr(t){return t instanceof Function?t():t}var Tr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ir(t,e){return(void 0)(t,e)}function Pr(t){const e=t[3];return ht(e)?e[3]:e}function jr(t){return kr(t[13])}function Ar(t){return kr(t[4])}function kr(t){for(;null!==t&&!ht(t);)t=t[4];return t}function Dr(t,e,n,r,i){if(null!=r){let o,s=!1;ht(r)?o=r:lt(r)&&(s=!0,r=r[0]);const a=It(r);0===t&&null!==n?null==i?Vr(e,n,a):Fr(e,n,a,i||null,!0):1===t&&null!==n?Fr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=qr(t,e);r&&function(t,e,n,r){xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==It(n)&&Dr(e,t,r,o,i);for(let s=ct;s<n.length;s++){const i=n[s];$r(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Nr(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Rr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function Mr(t,e){if(t.length<=ct)return;const n=ct+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Rr(o,r),e>0&&(t[n-1][4]=r[4]);const s=un(t,ct+e);$r(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Lr(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&$r(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ur(t[1],t);for(;e;){let n=null;if(lt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)lt(e)&&Ur(e[1],e),e=e[3];null===e&&(e=t),lt(e)&&Ur(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ur(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ce)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):It(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ht(e[3])){n!==e[3]&&Rr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Fr(t,e,n,r,i){xt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Vr(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function Qr(t,e,n,r,i){null!==r?Fr(t,e,n,r,i):Vr(t,e,n)}function qr(t,e){return xt(t)?t.parentNode(e):e.parentNode}function Hr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===R.None||e===R.Emulated)return null}return jt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?jt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Qr(o,i,n[a],s,!1);else Qr(o,i,n,s,!1)}function zr(t,e){if(null!==e){const n=e.type;if(3&n)return jt(e,t);if(4&n)return Wr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return zr(t,n);{const n=t[e.index];return ht(n)?Wr(-1,n):It(n)}}if(32&n)return Ir(e,t)()||It(t[e.index]);{const n=Br(t,e);return null!==n?Array.isArray(n)?n[0]:zr(Pr(t[16]),n):zr(t,e.next)}}return null}function Br(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Wr(t,e){const n=ct+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return zr(t,r)}return e[7]}function Gr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Or(It(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Gr(t,e,n.child,r,i,o,!1),Dr(e,t,i,a,o);else if(32&u){const s=Ir(n,r);let u;for(;u=s();)Dr(e,t,i,u,o);Dr(e,t,i,a,o)}else 16&u?Yr(t,e,r,n,i,o):Dr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function $r(t,e,n,r,i,o){Gr(n,r,t.firstChild,e,i,o,!1)}function Yr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Dr(e,t,i,a[u],o);else Gr(t,e,a,s[3],i,o,!0)}function Kr(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Xr(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Zr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Jr="ng-template";function ti(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Zr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ei(t){return 4===t.type&&t.value!==Jr}function ni(t,e,n){return e===(4!==t.type||n?t.value:Jr)}function ri(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Se(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ni(t,u,n)||""===u&&1===e.length){if(ii(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ti(t.attrs,c,n)){if(ii(r))return!1;s=!0}continue}const l=oi(8&r?"class":u,i,ei(t),n);if(-1===l){if(ii(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Zr(e,c,0)||2&r&&c!==t){if(ii(r))return!1;s=!0}}}}else{if(!s&&!ii(r)&&!ii(u))return!1;if(s&&ii(u))continue;s=!1,r=u|1&r}}return ii(r)||s}function ii(t){return 0==(1&t)}function oi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function si(t,e,n=!1){for(let r=0;r<e.length;r++)if(ri(t,e[r],n))return!0;return!1}function ai(t,e){return t?":not("+e.trim()+")":e}function ui(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ii(s)||(e+=ai(o,i),i=""),r=s,o=o||!ii(r);n++}return""!==i&&(e+=ai(o,i)),e}const ci={};function li(t){hi(qt(),Qt(),fe()+t,Yt())}function hi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ve(e,r,n)}else{const r=t.preOrderHooks;null!==r&&be(e,r,0,n)}de(n)}function fi(t,e){return t<<17|e<<2}function di(t){return t>>17&32767}function pi(t){return 2|t}function gi(t){return(131068&t)>>2}function vi(t,e){return-131069&t|e<<2}function bi(t){return 1|t}function mi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];re(i),n.contentQueries(2,e[o],o)}}}function yi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Lt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function _i(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Bt(),s=Gt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Ft.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Ft.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Wt(o,!0),o}function wi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ci(t,e,n){se(e);try{const r=t.viewQuery;null!==r&&Zi(1,r,n);const i=t.template;null!==i&&Ei(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mi(t,e),t.staticViewQueries&&Zi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,he()}}function Oi(t,e,n,r){const i=e[2];if(256==(256&i))return;se(e);const o=Yt();try{Lt(e),Ft.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ei(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&ve(e,n,null)}else{const n=t.preOrderHooks;null!==n&&be(e,n,0,null),me(e,0)}if(function(t){for(let e=jr(t);null!==e;e=Ar(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ut(r,1),n[2]|=1024}}}(e),function(t){for(let e=jr(t);null!==e;e=Ar(e))for(let t=ct;t<e.length;t++){const n=e[t],r=n[1];Rt(n)&&Oi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&mi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&ve(e,n)}else{const n=t.contentHooks;null!==n&&be(e,n,1),me(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)de(~r);else{const i=r,o=n[++t],s=n[++t];te(o,i),s(2,e[i])}}}finally{de(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Bi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Zi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&ve(e,n)}else{const n=t.viewHooks;null!==n&&be(e,n,2),me(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{he()}}function Si(t,e,n,r){const i=e[10],o=!Yt(),s=Nt(e);try{o&&!s&&i.begin&&i.begin(),s&&Ci(t,e,r),Oi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ei(t,e,n,r,i){const o=fe();try{de(-1),2&r&&e.length>ut&&hi(t,e,ut,Yt()),n(r,i)}finally{de(o)}}function xi(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ti(t,e,n){Vt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ne(n,e),Or(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=gt(r);o&&Qi(e,n,r);const u=We(e,t,a,n);Or(u,e),null!==s&&qi(0,a-i,u,r,0,s),o&&(kt(n.index,e)[8]=u)}}(t,e,n,jt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ft.lFrame.currentDirectiveIndex;try{de(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ee(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Mi(r,i)}}finally{de(-1),ee(s)}}(t,e,n))}function Ii(t,e,n=jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Pi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ji(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ji(t,e,n,r,i,o,s,a,u,c){const l=ut+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ci);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ai(t,e,n,r){const i=to(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&eo(t).push(r,i.length-1))}function ki(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Di(t,e,n,r,i,o,s,a){const u=jt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(ro(t,n,c,r,i),dt(e)&&function(t,e){const n=kt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,xt(o)?o.setProperty(u,r,i):Ee(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ni(t,e,n,r){let i=!1;if(Vt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];si(n,s.selectors,!1)&&(i||(i=[]),Ue(Ne(n,e),t,s.type),gt(s)?(Li(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Fi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=wi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=xe(n.mergedAttrs,c.hostAttrs),Vi(t,n,e,u,c),Ui(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ei(e)?null:Hi(n,i);o.push(c),s=ki(n,u,s),a=ki(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=xe(n.mergedAttrs,n.attrs),i}function Ri(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Mi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Li(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ui(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function Fi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Vi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=vt(i.type)),s=new Ce(o,gt(i),null);t.blueprint[r]=s,n[r]=s,Ri(t,e,0,r,wi(t,n,i.hostVars,ci),i)}function Qi(t,e,n){const r=jt(e,t),i=Pi(n),o=t[10],s=$i(t,yi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function qi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Hi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function zi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Bi(t,e){const n=kt(e,t);if(Rt(n)){const t=n[1];80&n[2]?Oi(t,n,t.template,n[8]):n[5]>0&&Wi(n)}}function Wi(t){for(let n=jr(t);null!==n;n=Ar(n))for(let t=ct;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Oi(t,e,t.template,e[8])}else e[5]>0&&Wi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=kt(e[n],t);Rt(r)&&r[5]>0&&Wi(r)}}function Gi(t,e){const n=kt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ci(r,n,n[8])}function $i(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Yi(t){for(;t;){t[2]|=64;const e=Pr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ki(t,e,n){const r=e[10];r.begin&&r.begin();try{Oi(t,e,t.template,n)}catch(i){throw no(e,i),i}finally{r.end&&r.end()}}function Xi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Dt(n),i=r[1];Si(i,r,i.template,n)}}(t[8])}function Zi(t,e,n){re(0),e(t,n)}const Ji=(()=>Promise.resolve(null))();function to(t){return t[7]||(t[7]=[])}function eo(t){return t.cleanup||(t.cleanup=[])}function no(t,e){const n=t[9],r=n?n.get(Cr,null):null;r&&r.handleError(e)}function ro(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function io(t,e,n){const r=Pt(e,t);!function(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function oo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const so=new en("INJECTOR",-1);class ao{get(t,e=fn){if(e===fn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const uo=new en("Set Injector scope."),co={},lo={},ho=[];let fo;function po(){return void 0===fo&&(fo=new ao),fo}function go(t,e=null,n=null,r){return new vo(t,n,e||po(),r)}class vo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&sn(e,n=>this.processProvider(n,t,e)),sn([t],t=>this.processInjectorType(t,[],i)),this.records.set(so,yo(void 0,this));const o=this.records.get(uo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=fn,n=P.Default){this.assertNotDestroyed();const r=bn(this);try{if(!(n&P.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof en)&&C(t);e=n&&this.injectableDefInScope(n)?yo(bo(t),co):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&P.Self?po():this.parent).get(t,e=n&P.Optional&&e===fn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[pn]&&i.unshift(e[pn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(dn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{bn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=S(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=S(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{sn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];sn(r,t=>this.processProvider(t,n,r||ho))}}this.injectorDefTypes.add(o);const a=vt(o)||(()=>new o);this.records.set(o,yo(a,co));const u=r.providers;if(null!=u&&!s){const e=t;sn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=wo(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return _o(t)?yo(void 0,t.useValue):yo(mo(t),co)}(t);if(wo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=yo(void 0,co,!0),e.factory=()=>_n(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===co&&(e.value=lo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function bo(t){const e=C(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof en)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[E]||t[T]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function mo(t,e,n){let r;if(wo(t)){const e=p(t);return vt(e)||bo(e)}if(_o(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(..._n(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>yn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||bo(e);r=()=>new e(..._n(t.deps))}var i;return r}function yo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _o(t){return null!==t&&"object"==typeof t&&gn in t}function wo(t){return"function"==typeof t}const Co=function(t,e,n){return function(t,e=null,n=null,r){const i=go(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Oo=(()=>{class t{static create(t,e){return Array.isArray(t)?Co(t,e,""):Co(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=fn,t.NULL=new ao,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>yn(so)}),t.__NG_ELEMENT_ID__=-1,t})();function So(t,e){ge(Dt(t)[1],zt())}function Eo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(gt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=xo(t.inputs),e.declaredInputs=xo(t.declaredInputs),e.outputs=xo(t.outputs);const n=i.hostBindings;n&&Po(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&To(t,o),s&&Io(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),gt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Eo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xe(i.hostAttrs,n=xe(n,i.hostAttrs))}}(r)}function xo(t){return t===Q?{}:t===q?[]:t}function To(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Io(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Po(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let jo=null;function Ao(){if(!jo){const t=V.Symbol;if(t&&t.iterator)jo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(jo=n)}}}return jo}function ko(t){return!!Do(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ao()in t)}function Do(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function No(t,e,n){return t[e]=n}function Ro(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Mo(t,e,n,r){const i=Ro(t,e,n);return Ro(t,e+1,r)||i}function Lo(t,e,n,r,i,o){const s=Mo(t,e,n,r);return Mo(t,e+2,i,o)||s}function Uo(t,e,n,r){const i=Qt();return Ro(i,Zt(),e)&&(qt(),function(t,e,n,r,i,o){const s=jt(t,e);!function(t,e,n,r,i,o,s){if(null==o)xt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?b(o):s(o,r||"",i);xt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(pe(),i,t,e,n,r)),Uo}function Fo(t,e,n,r,i,o,s,a){const u=Qt(),c=qt(),l=t+ut,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=_i(e,t,4,s||null,Mt(c,a));Ni(e,n,l,Mt(c,u)),ge(e,l);const h=l.tViews=ji(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Wt(h,!1);const f=u[11].createComment("");Hr(c,u,f,h),Or(f,u),$i(u,u[l]=zi(f,u,f,h)),pt(h)&&Ti(c,u,h),null!=s&&Ii(u,h,a)}function Vo(t,e=P.Default){const n=Qt();return null===n?yn(t,e):Qe(zt(),n,p(t),e)}function Qo(t,e,n){const r=Qt();return Ro(r,Zt(),e)&&Di(qt(),pe(),r,t,e,r[11],n,!1),Qo}function qo(t,e,n,r,i){const o=i?"class":"style";ro(t,n,e.inputs[o],o,r)}function Ho(t,e,n,r){const i=Qt(),o=qt(),s=ut+t,a=i[11],u=i[s]=Nr(a,e,Ft.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=_i(e,t,2,i,Mt(a,o));return Ni(e,n,u,Mt(a,s)),null!==u.attrs&&oo(u,u.attrs,!1),null!==u.mergedAttrs&&oo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Wt(c,!0);const l=c.mergedAttrs;null!==l&&Oe(a,u,l);const h=c.classes;null!==h&&Xr(a,u,h);const f=c.styles;null!==f&&Kr(a,u,f),64!=(64&c.flags)&&Hr(o,i,u,c),0===Ft.lFrame.elementDepthCount&&Or(u,i),Ft.lFrame.elementDepthCount++,pt(c)&&(Ti(o,i,c),xi(o,c,i)),null!==r&&Ii(i,c)}function zo(){let t=zt();Gt()?$t():(t=t.parent,Wt(t,!1));const e=t;Ft.lFrame.elementDepthCount--;const n=qt();n.firstCreatePass&&(ge(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&qo(n,e,Qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&qo(n,e,Qt(),e.stylesWithoutHost,!1)}function Bo(t,e,n,r){Ho(t,e,n,r),zo()}function Wo(t,e,n){const r=Qt(),i=qt(),o=t+ut,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Mt(o,r),a=_i(e,t,8,"ng-container",s);return null!==s&&oo(a,s,!0),Ni(e,n,a,Mt(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Wt(s,!0);const a=r[o]=r[11].createComment("");Hr(i,r,a,s),Or(a,r),pt(s)&&(Ti(i,r,s),xi(i,s,r)),null!=n&&Ii(r,s)}function Go(){let t=zt();const e=qt();Gt()?$t():(t=t.parent,Wt(t,!1)),e.firstCreatePass&&(ge(e,t),ft(t)&&e.queries.elementEnd(t))}function $o(){return Qt()}function Yo(t){return!!t&&"function"==typeof t.then}function Ko(t){return!!t&&"function"==typeof t.subscribe}const Xo=Ko;function Zo(t,e,n=!1,r){const i=Qt(),o=qt(),s=zt();return function(t,e,n,r,i,o,s=!1,a){const u=pt(r),c=t.firstCreatePass&&eo(t),l=to(e);let h=!0;if(3&r.type){const f=jt(r,e),d=a?a(f):Q,p=d.target||f,g=l.length,v=a?t=>a(It(t[r.index])).target:r.index;if(xt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ts(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,g,g+1)}}else o=ts(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,g,s)}else o=ts(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Zo}function Jo(t,e,n){try{return!1!==e(n)}catch(r){return no(t,r),!1}}function ts(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?kt(t.index,e):e;0==(32&e[2])&&Yi(s);let a=Jo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Jo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function es(t=1){return function(t){return(Ft.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ft.lFrame.contextLView))[8]}(t)}const ns=[];function rs(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?di(o):gi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];is(t[a],e)&&(u=!0,t[a+1]=r?bi(n):pi(n)),a=r?di(n):gi(n)}u&&(t[n+1]=r?pi(o):bi(o))}function is(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&hn(t,e)>=0}const os={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ss(t){return t.substring(os.key,os.keyEnd)}function as(t,e){const n=os.textEnd;return n===e?-1:(e=os.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,os.key=e,n),us(t,e,n))}function us(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function cs(t,e){return function(t,e,n,r){const i=Qt(),o=qt(),s=Jt(2);o.firstUpdatePass&&ds(o,t,s,true),e!==ci&&Ro(i,s,e)&&vs(o,o.data[fe()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=l(Ln(t))),t}(e),true,s)}(t,e),cs}function ls(t){!function(t,e,n,r){const i=qt(),o=Jt(2);i.firstUpdatePass&&ds(i,null,o,r);const s=Qt();if(n!==ci&&Ro(s,o,n)){const a=i.data[fe()];if(ys(a,r)&&!fs(i,o)){let t=a.classesWithoutHost;null!==t&&(n=h(t,n||"")),qo(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===ci&&(i=ns);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const s=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let d,p=null;l===h?(u+=2,c+=2,s!==f&&(p=h,d=f)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,d=f),null!==p&&vs(t,e,n,r,p,d,true,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return ns;const r=[],i=Ln(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(cn,hs,t,!0)}function hs(t,e){for(let n=function(t){return function(t){os.key=0,os.keyEnd=0,os.value=0,os.valueEnd=0,os.textEnd=t.length}(t),as(t,us(t,0,os.textEnd))}(e);n>=0;n=as(e,n))cn(t,ss(e),!0)}function fs(t,e){return e>=t.expandoStartIndex}function ds(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[fe()],s=fs(t,n);ys(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ft.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=gs(n=ps(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ps(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==gi(r))return t[di(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ps(null,t,e,n[1],r),n=gs(n,e.attrs,r),function(t,e,n,r){t[di(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=gs(r,t[o].hostAttrs,n);return gs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=di(s),u=gi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||hn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=di(t[a+1]);t[r+1]=fi(e,a),0!==e&&(t[e+1]=vi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=fi(a,0),0!==a&&(t[a+1]=vi(t[a+1],r)),a=r;else t[r+1]=fi(u,0),0===a?a=r:t[u+1]=vi(t[u+1],r),u=r;l&&(t[r+1]=pi(t[r+1])),rs(t,c,r,!0),rs(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&hn(o,e)>=0&&(n[r+1]=bi(n[r+1]))}(e,c,t,r,o),s=fi(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function ps(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=gs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function gs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),cn(t,s,!!n||e[++o]))}return void 0===t?null:t}function vs(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];ms(1==(1&c)?bs(u,e,n,i,gi(c),s):void 0)||(ms(o)||2==(2&c)&&(o=bs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=xt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Tr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Tr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Pt(fe(),n),i,o))}function bs(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ci&&(l=c?ns:void 0);let h=c?ln(l,r):u===r?l:void 0;if(o&&!ms(h)&&(h=ln(e,r)),ms(h)&&(a=h,s))return a;const f=t[i+1];i=s?di(f):gi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=ln(t,r))}return a}function ms(t){return void 0!==t}function ys(t,e){return 0!=(t.flags&(e?16:32))}function _s(t,e=""){const n=Qt(),r=qt(),i=t+ut,o=r.firstCreatePass?_i(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Hr(r,n,s,o),Wt(o,!1)}function ws(t,e,n){const r=Qt(),i=function(t,e,n,r){return Ro(t,Zt(),n)?e+b(n)+r:ci}(r,t,e,n);return i!==ci&&io(r,fe(),i),ws}function Cs(t,e,n,r,i){const o=Qt(),s=function(t,e,n,r,i,o){const s=Mo(t,Ft.lFrame.bindingIndex,n,i);return Jt(2),s?e+b(n)+r+b(i)+o:ci}(o,t,e,n,r,i);return s!==ci&&io(o,fe(),s),Cs}function Os(t,e,n){const r=Qt();return Ro(r,Zt(),e)&&Di(qt(),pe(),r,t,e,r[11],n,!0),Os}const Ss=void 0;var Es=["en",[["a","p"],["AM","PM"],Ss],[["AM","PM"],Ss,Ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ss,"{1} 'at' {0}",Ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let xs={};function Ts(t,e,n){"string"!=typeof e&&(n=e,e=t[ks.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),xs[e]=t,n&&(xs[e][ks.ExtraData]=n)}function Is(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=As(e);if(n)return n;const r=e.split("-")[0];if(n=As(r),n)return n;if("en"===r)return Es;throw new Error(`Missing locale data for the locale "${t}".`)}function Ps(t){return Is(t)[ks.CurrencyCode]||null}function js(t){return Is(t)[ks.PluralCase]}function As(t){return t in xs||(xs[t]=V.ng&&V.ng.common&&V.ng.common.locales&&V.ng.common.locales[t]),xs[t]}var ks=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Ds="en-US";let Ns=Ds;function Rs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ns=t.toLowerCase().replace(/_/g,"-"))}function Ms(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ms(t[o],e,n,r,i);else{const o=qt(),s=Qt();let a=wo(t)?t:p(t.provide),u=mo(t);const c=zt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(wo(t)||!t.multi){const r=new Ce(u,i,Vo),d=Fs(a,e,i?l:l+f,h);-1===d?(Ue(Ne(c,s),o,a),Ls(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Fs(a,e,l+f,h),p=Fs(a,e,l,l+f),g=d>=0&&n[d],v=p>=0&&n[p];if(i&&!v||!i&&!g){Ue(Ne(c,s),o,a);const l=function(t,e,n,r,i){const o=new Ce(t,n,Vo);return o.multi=[],o.index=e,o.componentProviders=0,Us(o,i,r&&!n),o}(i?Qs:Vs,n.length,i,r,u);!i&&v&&(n[p].providerFactory=l),Ls(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Ls(o,t,d>-1?d:p,Us(n[i?p:d],u,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function Ls(t,e,n,r){const i=wo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Us(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Fs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Vs(t,e,n,r){return qs(this.multi,[])}function Qs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=We(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),qs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],qs(i,o);return o}function qs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Hs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=qt();if(r.firstCreatePass){const i=gt(t);Ms(n,r.data,r.blueprint,i,!0),Ms(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class zs{}class Bs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ws=(()=>{class t{}return t.NULL=new Bs,t})();function Gs(...t){}function $s(t,e){return new Ks(jt(t,e))}const Ys=function(){return $s(zt(),Qt())};let Ks=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ys,t})();function Xs(t){return t instanceof Ks?t.nativeElement:t}class Zs{}let Js=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ta(),t})();const ta=function(){const t=Qt(),e=kt(zt().index,t);return function(t){return t[11]}(lt(e)?e:t)};let ea=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class na{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ra=new na("11.2.5");class ia{constructor(){}supports(t){return ko(t)}create(t){return new sa(t)}}const oa=(t,e)=>e;class sa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||oa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<la(n,r,i)?e:n,s=la(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ko(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ao()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new aa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ca),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ca),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class aa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ua{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ca{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ua,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function la(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ha{constructor(){}supports(t){return t instanceof Map||Do(t)}create(){return new fa}}class fa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Do(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new da(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class da{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pa(){return new ga([new ia])}let ga=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||pa()),deps:[[t,new Sn,new On]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:pa}),t})();function va(){return new ba([new ha])}let ba=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||va()),deps:[[t,new Sn,new On]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:va}),t})();function ma(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(It(o)),ht(o))for(let t=ct;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ma(e[1],e,n,r)}const s=n.type;if(8&s)ma(t,e,n.child,r);else if(32&s){const t=Ir(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Br(e,n);if(Array.isArray(t))r.push(...t);else{const n=Pr(e[16]);ma(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class ya{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ma(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ht(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Mr(t,n),un(e,n))}this._attachedToViewContainer=!1}Lr(this._lView[1],this._lView)}onDestroy(t){Ai(this._lView[1],this._lView,null,t)}markForCheck(){Yi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ki(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Kt(!0);try{Ki(t,e,n)}finally{Kt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,$r(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class _a extends ya{constructor(t){super(t),this._view=t}detectChanges(){Xi(this._view)}checkNoChanges(){!function(t){Kt(!0);try{Xi(t)}finally{Kt(!1)}}(this._view)}get context(){return null}}const wa=Oa;let Ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=wa,t.__ChangeDetectorRef__=!0,t})();function Oa(t=!1){return function(t,e,n){if(!n&&dt(t)){const n=kt(t.index,e);return new ya(n,n)}return 47&t.type?new ya(e[16],e):null}(zt(),Qt(),t)}const Sa=[new ha],Ea=new ga([new ia]),xa=new ba(Sa),Ta=function(){return Aa(zt(),Qt())};let Ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ta,t})();const Pa=Ia,ja=class extends Pa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=yi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ci(e,n,t),new ya(n)}};function Aa(t,e){return 4&t.type?new ja(e,t,$s(t,e)):null}class ka{}class Da{}const Na=function(){return Va(zt(),Qt())};let Ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=Na,t})();const Ma=Ra,La=class extends Ma{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return $s(this._hostTNode,this._hostLView)}get injector(){return new Ye(this._hostTNode,this._hostLView)}get parentInjector(){const t=Le(this._hostTNode,this._hostLView);if(Ie(t)){const e=je(t,this._hostLView),n=Pe(t);return new Ye(e[1].data[n+8],e)}return new Ye(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ua(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ct}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ka,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new La(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ct+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ct?(e[4]=n[i],an(n,ct+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Wr(i,o),a=n[11],u=qr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,$r(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),an(Fa(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ua(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Mr(this._lContainer,e);n&&(un(Fa(this._lContainer),e),Lr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Mr(this._lContainer,e);return n&&null!=un(Fa(this._lContainer),e)?new ya(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ua(t){return t[8]}function Fa(t){return t[8]||(t[8]=[])}function Va(t,e){let n;const r=e[t.index];if(ht(r))n=r;else{let i;if(8&t.type)i=It(r);else{const n=e[11];i=n.createComment("");const r=jt(t,e);Fr(n,qr(n,r),i,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=zi(r,e,i,t),$i(e,n)}return new La(n,t,e)}const Qa={};class qa extends Ws{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=st(t);return new Ba(e,this.ngModule)}}function Ha(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const za=new en("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Sr});class Ba extends zs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ui).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ha(this.componentDef.inputs)}get outputs(){return Ha(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Qa,i);return o!==Qa||r===Qa?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Zs,Tt),s=i.get(ea,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===R.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Nr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Sr,clean:Ji,playerHandler:null,flags:0},f=ji(0,null,null,1,0,null,null,null,null,null),d=yi(null,f,h,l,null,null,o,a,s,i);let p,g;se(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=_i(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(oo(a,u,!0),null!==t&&(Oe(i,t,u),null!==a.classes&&Xr(i,t,a.classes),null!==a.styles&&Kr(i,t,a.styles)));const c=r.createRenderer(t,e),l=yi(n,Pi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Ue(Ne(a,n),s,e.type),Li(s,a),Fi(a,n.length,1)),$i(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Oe(a,c,["ng-version",ra.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ii(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Oe(a,c,t),e&&e.length>0&&Xr(a,c,e.join(" "))}if(g=At(f,ut),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Vi(t,r,e,wi(t,e,1,null),n));const i=We(e,t,r.directiveStart,r);Or(i,e);const o=jt(r,e);return o&&Or(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=zt();e.contentQueries(1,s,t.directiveStart)}const a=zt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(de(a.index),Ri(n[1],a,0,a.directiveStart,a.directiveEnd,e),Mi(e,s)),s}(t,this.componentDef,d,h,[So]),Ci(f,d,null)}finally{he()}return new Wa(this.componentType,p,$s(g,d),d,g)}}class Wa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new _a(r),this.componentType=t}get injector(){return new Ye(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ga=new Map;class $a extends ka{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qa(this);const n=at(t),r=t[G]||null;r&&Rs(r),this._bootstrapComponents=xr(n.bootstrap),this._r3Injector=go(t,e,[{provide:ka,useValue:this},{provide:Ws,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Oo.THROW_IF_NOT_FOUND,n=P.Default){return t===Oo||t===ka||t===so?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ya extends Da{constructor(t){super(),this.moduleType=t,null!==at(t)&&function(t){const e=new Set;!function t(n){const r=at(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,Ga.get(i),n),Ga.set(i,n));const o=xr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new $a(this.moduleType,t)}}function Ka(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return Ro(t,s,i)?No(t,s+1,o?r.call(o,i):r(i)):tu(t,s+1)}(Qt(),Xt(),t,e,n,r)}function Xa(t,e,n,r,i){return function(t,e,n,r,i,o,s){const a=e+n;return Mo(t,a,i,o)?No(t,a+2,s?r.call(s,i,o):r(i,o)):tu(t,a+2)}(Qt(),Xt(),t,e,n,r,i)}function Za(t,e,n,r,i,o,s){return function(t,e,n,r,i,o,s,a,u){const c=e+n;return Lo(t,c,i,o,s,a)?No(t,c+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):tu(t,c+4)}(Qt(),Xt(),t,e,n,r,i,o,s)}function Ja(t,e,n,r,i,o,s,a){const u=Xt()+t,c=Qt(),l=Lo(c,u,n,r,i,o);return Ro(c,u+4,s)||l?No(c,u+5,a?e.call(a,n,r,i,o,s):e(n,r,i,o,s)):function(t,e){return t[e]}(c,u+5)}function tu(t,e){const n=t[e];return n===ci?void 0:n}const eu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function nu(){return this._results[Ao()]()}class ru{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ao(),n=ru.prototype;n[e]||(n[e]=nu)}get changes(){return this._changes||(this._changes=new eu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=on(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class iu{constructor(t){this.queryList=t,this.matches=null}clone(){return new iu(this.queryList)}setDirty(){this.queryList.setDirty()}}class ou{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ou(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==vu(t,e).matches&&this.queries[e].setDirty()}}class su{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class au{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new au(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class uu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new uu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,cu(e,i)),this.matchTNodeWithReadOption(t,e,Be(e,t,i,!1,!1))}else n===Ia?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Be(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ks||r===Ra||r===Ia&&4&e.type)this.addMatch(e.index,-2);else{const n=Be(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function cu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function lu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?$s(t,e):4&t.type?Aa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ks?$s(e,t):n===Ia?Aa(e,t):n===Ra?Va(e,t):void 0}(t,e,r):We(t,t[1],n,e)}function hu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:lu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function fu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=hu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ct;t<s.length;t++){const e=s[t];e[17]===e[3]&&fu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];fu(n[1],n,i,r)}}}}}return r}function du(t){const e=Qt(),n=qt(),r=ne();re(r+1);const i=vu(n,r);if(t.dirty&&Nt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?fu(n,e,r,[]):hu(n,e,i,r);t.reset(o,Xs),t.notifyOnChanges()}return!0}return!1}function pu(t,e,n,r){const i=qt();if(i.firstCreatePass){const o=zt();(function(t,e,n){null===t.queries&&(t.queries=new au),t.queries.track(new uu(e,n))})(i,new su(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new ru(4==(4&n));Ai(t,e,r,r.destroy),null===e[19]&&(e[19]=new ou),e[19].queries.push(new iu(r))}(i,Qt(),n)}function gu(){return t=Qt(),e=ne(),t[19].queries[e].queryList;var t,e}function vu(t,e){return t.queries.getByIndex(e)}function bu(t=P.Default){const e=Oa(!0);if(null!=e||t&P.Optional)return e;y("ChangeDetectorRef")}const mu=new en("Application Initializer");let yu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Gs,this.reject=Gs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Yo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(yn(mu,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const _u=new en("AppId"),wu={provide:_u,useFactory:function(){return`${Cu()}${Cu()}${Cu()}`},deps:[]};function Cu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ou=new en("Platform Initializer"),Su=new en("Platform ID"),Eu=new en("appBootstrapListener");let xu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Tu=new en("LocaleId"),Iu=new en("DefaultCurrencyCode");class Pu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ju=function(t){return new Ya(t)},Au=ju,ku=function(t){return Promise.resolve(ju(t))},Du=function(t){const e=ju(t),n=xr(at(t).declarations).reduce((t,e)=>{const n=st(e);return n&&t.push(new Ba(n)),t},[]);return new Pu(e,n)},Nu=Du,Ru=function(t){return Promise.resolve(Du(t))};let Mu=(()=>{class t{constructor(){this.compileModuleSync=Au,this.compileModuleAsync=ku,this.compileModuleAndAllComponentsSync=Nu,this.compileModuleAndAllComponentsAsync=Ru}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Lu=(()=>Promise.resolve(0))();function Uu(t){"undefined"==typeof Zone?Lu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Fu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new eu(!1),this.onMicrotaskEmpty=new eu(!1),this.onStable=new eu(!1),this.onError=new eu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=V.requestAnimationFrame,e=V.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(V,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qu(t),Qu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Hu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),zu(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Hu(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),zu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,qu(t),Qu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Vu,Gs,Gs);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Vu={};function Qu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Hu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zu(t){t._nesting--,Qu(t)}class Bu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new eu,this.onMicrotaskEmpty=new eu,this.onStable=new eu,this.onError=new eu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Wu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fu.assertNotInAngularZone(),Uu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(yn(Fu))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),Gu=(()=>{class t{constructor(){this._applications=new Map,Xu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Xu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class $u{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Yu(t){Xu=t}let Ku,Xu=new $u,Zu=!0,Ju=!1;function tc(){return Ju=!0,Zu}function ec(){if(Ju)throw new Error("Cannot enable prod mode after platform setup.");Zu=!1}const nc=new en("AllowMultipleToken");class rc{constructor(t,e){this.name=t,this.token=e}}function ic(t,e,n=[]){const r=`Platform: ${e}`,i=new en(r);return(e=[])=>{let o=oc();if(!o||o.injector.get(nc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:uo,useValue:"platform"});!function(t){if(Ku&&!Ku.destroyed&&!Ku.injector.get(nc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ku=t.get(sc);const e=t.get(Ou,null);e&&e.forEach(t=>t())}(Oo.create({providers:t,name:r}))}return function(t){const e=oc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function oc(){return Ku&&!Ku.destroyed?Ku:null}let sc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Bu:("zone.js"===t?void 0:t)||new Fu({enableLongStackTrace:tc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Fu,useValue:n}];return n.run(()=>{const e=Oo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Cr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{cc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Yo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(yu);return t.runInitializers(),t.donePromise.then(()=>(Rs(i.injector.get(Tu,Ds)||Ds),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ac({},e);return function(t,e,n){const r=new Ya(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(uc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(yn(Oo))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function ac(t,e){return Array.isArray(e)?e.reduce(ac,t):Object.assign(Object.assign({},t),e)}let uc=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Fu.assertNotInAngularZone(),Uu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Fu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof zs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ka),i=n.create(Oo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Wu,null),a=s&&i.injector.get(Gu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),cc(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;cc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Eu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(yn(Fu),yn(Oo),yn(Cr),yn(Ws),yn(yu))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function cc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class lc{}class hc{}const fc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let dc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||fc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>pc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>pc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(yn(Mu),yn(hc,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function pc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const gc=function(t){return null},vc=ic(null,"core",[{provide:Su,useValue:"unknown"},{provide:sc,deps:[Oo]},{provide:Gu,deps:[]},{provide:xu,deps:[]}]),bc=[{provide:uc,useClass:uc,deps:[Fu,Oo,Cr,Ws,yu]},{provide:za,deps:[Fu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:yu,useClass:yu,deps:[[new On,mu]]},{provide:Mu,useClass:Mu,deps:[]},wu,{provide:ga,useFactory:function(){return Ea},deps:[]},{provide:ba,useFactory:function(){return xa},deps:[]},{provide:Tu,useFactory:function(t){return Rs(t=t||"undefined"!=typeof $localize&&$localize.locale||Ds),t},deps:[[new Cn(Tu),new On,new Sn]]},{provide:Iu,useValue:"USD"}];let mc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(yn(uc))},t.\u0275mod=et({type:t}),t.\u0275inj=w({providers:bc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("SpAZ");function i(...t){return o(t)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function v(t,e=0){return function(n){return n.lift(new b(t,e))}}class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function a(){return t=>{return Object(i.a)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},yFUW:function(t,e,n){"use strict";(function(t){var e,r=n("2Op9"),i=n("mrSG"),o=n("GPjf"),s=n("NqFF"),a=n("Ma0W"),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.G)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.A)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),c=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.i)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),l=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new c},h=l("localStorage"),f=l("sessionStorage"),d=new s.b("@firebase/database"),p=(e=1,function(){return e++}),g=function(t){var e=Object(o.F)(t),n=new o.d;n.update(e);var r=n.digest();return o.g.encodeByteArray(r)},v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=v.apply(null,i):n+="object"==typeof i?Object(o.G)(i):i,n+=" "}return n},b=null,m=!0,y=function(t,e){Object(o.e)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(d.logLevel=s.a.VERBOSE,b=d.log.bind(d),e&&f.set("logging_enabled",!0)):"function"==typeof t?b=t:(b=null,f.remove("logging_enabled"))},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===m&&(m=!1,null===b&&!0===f.get("logging_enabled")&&y(!0)),b){var n=v.apply(null,t);b(n)}},w=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];_.apply(void 0,Object(i.f)([t],Object(i.e)(e)))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,Object(i.f)([],Object(i.e)(t)));d.error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,Object(i.f)([],Object(i.e)(t)));throw d.error(n),new Error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+v.apply(void 0,Object(i.f)([],Object(i.e)(t)));d.warn(n)},E=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},x="[MIN_NAME]",T="[MAX_NAME]",I=function(t,e){if(t===e)return 0;if(t===x||e===T)return-1;if(e===x||t===T)return 1;var n=M(t),r=M(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},P=function(t,e){return t===e?0:t<e?-1:1},j=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.G)(e))},A=function(t){if("object"!=typeof t||null===t)return Object(o.G)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Object(o.G)(e[i]),r+=":",r+=A(t[e[i]]);return r+"}"},k=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function D(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var N=function(t){var e,n,r,i,s;Object(o.e)(!E(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),c="";for(s=0;s<64;s+=8){var l=parseInt(u.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},R=new RegExp("^-?(0*)\\d{1,10}$"),M=function(t){if(R.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},L=function(t){try{t()}catch(e){setTimeout(function(){throw S("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},U=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},F=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function V(){return new F("")}function Q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function q(t){return t.pieces_.length-t.pieceNum_}function H(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new F(t.pieces_,e)}function z(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function B(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function W(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function G(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new F(e,0)}function $(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof F)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new F(n,0)}function Y(t){return t.pieceNum_>=t.pieces_.length}function K(t,e){var n=Q(t),r=Q(e);if(null===n)return e;if(n===r)return K(H(t),H(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function X(t,e){for(var n=W(t,0),r=W(e,0),i=0;i<n.length&&i<r.length;i++){var o=I(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Z(t,e){if(q(t)!==q(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function J(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(q(t)>q(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var tt=function(){return function(t,e){this.errorPrefix_=e,this.parts_=W(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.E)(this.parts_[n]);et(this)}}();function et(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+nt(t))}function nt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var rt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,it="websocket",ot="long_polling",st=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function at(t,e,n){var r;if(Object(o.e)("string"==typeof e,"typeof type must == string"),Object(o.e)("object"==typeof n,"typeof params must == object"),e===it)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==ot)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return D(n,function(t,e){i.push(t+"="+e)}),r+i.join("&")}var ut,ct,lt,ht,ft,dt,pt,gt=function(t,e){var n=vt(t),r=n.namespace;return"firebase.com"===n.domain&&O(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||O("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new st(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new F(n.pathString)}},vt=function(t){var e="",n="",r="",o="",s="",a=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=Object(i.g)(t.split("&")),s=o.next();!s.done;s=o.next()){var a=s.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):S("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(a="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:o,namespace:s}},bt=/[\[\].#$\/\u0000-\u001F\u007F]/,mt=/[\[\].#$\u0000-\u001F\u007F]/,yt=10485760,_t=function(t){return"string"==typeof t&&0!==t.length&&!bt.test(t)},wt=function(t){return"string"==typeof t&&0!==t.length&&!mt.test(t)},Ct=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!E(t)||t&&"object"==typeof t&&Object(o.i)(t,".sv")},Ot=function(t,e,n,r,i){i&&void 0===n||St(Object(o.m)(t,e,i),n,r)},St=function(t,e,n){var r=n instanceof F?new tt(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+nt(r));if("function"==typeof e)throw new Error(t+"contains a function "+nt(r)+" with contents = "+e.toString());if(E(e))throw new Error(t+"contains "+e.toString()+" "+nt(r));if("string"==typeof e&&e.length>yt/3&&Object(o.E)(e)>yt)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+nt(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,s=!1;if(D(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!_t(e)))throw new Error(t+" contains an invalid key ("+e+") "+nt(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,u;u=e,(a=r).parts_.length>0&&(a.byteLength_+=1),a.parts_.push(u),a.byteLength_+=Object(o.E)(u),et(a),St(t,n,r),function(t){var e=t.parts_.pop();t.byteLength_-=Object(o.E)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+nt(r)+" in addition to actual children.")}},Et=function(t,e,n,r,i){if(!i||void 0!==n){var s=Object(o.m)(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];D(n,function(t,e){var n=new F(t);if(St(s,e,$(r,n)),".priority"===z(n)&&!Ct(e))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=W(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!_t(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(X);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&J(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,a)}},xt=function(t,e,n,r){if(!r||void 0!==n){if(E(n))throw new Error(Object(o.m)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ct(n))throw new Error(Object(o.m)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Tt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.m)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},It=function(t,e,n,r){if(!(r&&void 0===n||_t(n)))throw new Error(Object(o.m)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Pt=function(t,e,n,r){if(!(r&&void 0===n||wt(n)))throw new Error(Object(o.m)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},jt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Pt(t,e,n,r)},At=function(t,e){if(".info"===Q(e))throw new Error(t+" failed = Can't modify data under /.info/")},kt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!_t(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wt(t)}(r))throw new Error(Object(o.m)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Dt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.m)(t,e,r)+"must be a boolean.")},Nt=function(t){return"number"==typeof t?"number:"+N(t):"string:"+t},Rt=function(t){if(t.isLeafNode()){var e=t.val();Object(o.e)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(o.i)(e,".sv"),"Priority must be a string or number.")}else Object(o.e)(t===ut||t.isEmpty(),"priority of unexpected type.");Object(o.e)(t===ut||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Mt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.e)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Rt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return ct},set:function(t){ct=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return Y(e)?this:".priority"===Q(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=Q(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.e)(".priority"!==r||1===q(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(H(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Nt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?N(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.e)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.e)(i>=0,"Unknown leaf type: "+n),Object(o.e)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Lt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ut=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Vt.EMPTY_NODE,this.right=null!=o?o:Vt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Vt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Vt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ft=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ut(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Vt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ut.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ut.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Lt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Lt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Lt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Lt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ft,t}(),Qt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),qt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Qt(x,t),r=new Qt(x,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Qt.MIN},t}(),Ht=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?I(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Qt.MIN},e.prototype.maxPost=function(){return new Qt(T,new Mt("[PRIORITY-POST]",ht))},e.prototype.makePost=function(t,e){var n=lt(t);return new Qt(e,new Mt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(qt)),zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return ft},set:function(t){ft=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return I(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.f)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Qt.MIN},e.prototype.maxPost=function(){return new Qt(T,ft)},e.prototype.makePost=function(t,e){return Object(o.e)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Qt(t,ft)},e.prototype.toString=function(){return".key"},e}(qt),Bt=new zt,Wt=Math.log(2),Gt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Wt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),$t=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Ut(s,o.node,Ut.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],s=n?n(o):o,new Ut(s,o.node,Ut.BLACK,c,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),l=t[o],h=n?n(l):l;u(new Ut(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,Ut.BLACK):(a(h,Ut.BLACK),a(h,Ut.RED))}return o}(new Gt(t.length));return new Vt(r||e,o)},Yt={},Kt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.e)(Yt&&Ht,"ChildrenNode.ts has not been loaded"),dt=dt||new t({".priority":Yt},{".priority":Ht})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.D)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Vt?e:null},t.prototype.hasIndex=function(t){return Object(o.i)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.e)(e!==Bt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,u=n.getIterator(Qt.Wrap),c=u.getNext();c;)a=a||e.isDefinedOn(c.node),s.push(c),c=u.getNext();r=a?$t(s,e.getCompare()):Yt;var l=e.toString(),h=Object(i.a)({},this.indexSet_);h[l]=e;var f=Object(i.a)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.B)(this.indexes_,function(t,i){var s=Object(o.D)(r.indexSet_,i);if(Object(o.e)(s,"Missing index implementation for "+i),t===Yt){if(s.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(Qt.Wrap),c=u.getNext();c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),$t(a,s.getCompare())}return Yt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Qt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.B)(this.indexes_,function(t){if(t===Yt)return t;var r=n.get(e.name);return r?t.remove(new Qt(e.name,r)):t}),this.indexSet_)},t}();function Xt(t,e){return I(t.name,e.name)}function Zt(t,e){return I(t,e)}var Jt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Rt(this.priorityNode_),this.children_.isEmpty()&&Object(o.e)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return pt||(pt=new t(new Vt(Zt),null,Kt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||pt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?pt:e},t.prototype.getChild=function(t){var e=Q(t);return null===e?this:this.getImmediateChild(e).getChild(H(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.e)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Qt(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?pt:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=Q(t);if(null===n)return e;Object(o.e)(".priority"!==Q(t)||1===q(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(H(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ht,function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Nt(this.getPriority().val())+":"),this.forEachChild(Ht,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Qt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Qt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Qt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Qt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Qt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===te?-1:0},t.prototype.withIndex=function(e){if(e===Bt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Bt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Ht),r=e.getIterator(Ht),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Bt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),te=new(function(t){function e(){return t.call(this,new Vt(Zt),Jt.EMPTY_NODE,Kt.Default)||this}return Object(i.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Jt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Jt));function ee(t,e){if(void 0===e&&(e=null),null===t)return Jt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.e)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Mt(t,ee(e));if(t instanceof Array){var n=Jt.EMPTY_NODE;return D(t,function(e,r){if(Object(o.i)(t,e)&&"."!==e.substring(0,1)){var i=ee(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(ee(e))}var r=[],i=!1;if(D(t,function(t,e){if("."!==t.substring(0,1)){var n=ee(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Qt(t,n)))}}),0===r.length)return Jt.EMPTY_NODE;var s=$t(r,Xt,function(t){return t.name},Zt);if(i){var a=$t(r,Ht.getCompare());return new Jt(s,ee(e),new Kt({".priority":a},{".priority":Ht}))}return new Jt(s,ee(e),Kt.Default)}Object.defineProperties(Qt,{MIN:{value:new Qt(x,Jt.EMPTY_NODE)},MAX:{value:new Qt(T,te)}}),zt.__EMPTY_NODE=Jt.EMPTY_NODE,Mt.__childrenNodeConstructor=Jt,ut=te,ht=te,lt=ee;var ne=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function re(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var ie,oe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ne.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(Y(this.path)){if(null!=this.affectedTree.value)return Object(o.e)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new F(e));return new t(V(),n,this.revert)}return Object(o.e)(Q(this.path)===e,"operationForChild called for unrelated child."),new t(H(this.path),this.affectedTree,this.revert)},t}(),se=function(){function t(t,e){void 0===e&&(ie||(ie=new Vt(P)),e=ie),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return D(e,function(t,e){n=n.set(new F(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:V(),value:this.value};if(Y(t))return null;var n=Q(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(H(t),e);return null!=i?{path:$(new F(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(Y(e))return this;var n=Q(e),r=this.children.get(n);return null!==r?r.subtree(H(e)):new t(null)},t.prototype.set=function(e,n){if(Y(e))return new t(n,this.children);var r=Q(e),i=(this.children.get(r)||new t(null)).set(H(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(Y(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=Q(e),r=this.children.get(n);if(r){var i=r.remove(H(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(Y(t))return this.value;var e=Q(t),n=this.children.get(e);return n?n.get(H(t)):null},t.prototype.setTree=function(e,n){if(Y(e))return n;var r,i=Q(e),o=(this.children.get(i)||new t(null)).setTree(H(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(V(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_($(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,V(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(Y(t))return null;var i=Q(t),o=this.children.get(i);return o?o.findOnPath_(H(t),$(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,V(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(Y(e))return this;this.value&&r(n,this.value);var i=Q(e),o=this.children.get(i);return o?o.foreachOnPath_(H(e),$(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(V(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_($(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),ae=function(){function t(t,e){this.source=t,this.path=e,this.type=ne.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Y(this.path)?new t(this.source,V()):new t(this.source,H(this.path))},t}(),ue=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ne.OVERWRITE}return t.prototype.operationForChild=function(e){return Y(this.path)?new t(this.source,V(),this.snap.getImmediateChild(e)):new t(this.source,H(this.path),this.snap)},t}(),ce=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ne.MERGE}return t.prototype.operationForChild=function(e){if(Y(this.path)){var n=this.children.subtree(new F(e));return n.isEmpty()?null:n.value?new ue(this.source,V(),n.value):new t(this.source,V(),n)}return Object(o.e)(Q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,H(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),le=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(Y(t))return this.isFullyInitialized()&&!this.filtered_;var e=Q(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),he=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new le(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new le(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t}();function fe(t){return{type:"value",snapshotNode:t}}function de(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function pe(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ge(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var ve=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){Object(o.e)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(pe(e,a)):Object(o.e)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(de(e,n)):s.trackChildChange(ge(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Ht,function(t,r){e.hasChild(t)||n.trackChildChange(pe(t,r))}),e.isLeafNode()||e.forEachChild(Ht,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ge(e,r,i))}else n.trackChildChange(de(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Jt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),be=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.e)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(o.e)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,ge(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,pe(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,de(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw Object(o.f)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ge(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),me=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),ye=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new le(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),_e=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),we=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){Object(o.e)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Object(o.e)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var s,a,u=new be;if(n.type===ne.OVERWRITE){var c=n;c.source.fromUser?s=this.applyUserOverwrite_(e,c.path,c.snap,r,i,u):(Object(o.e)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered()&&!Y(c.path),s=this.applyServerOverwrite_(e,c.path,c.snap,r,i,a,u))}else if(n.type===ne.MERGE){var l=n;l.source.fromUser?s=this.applyUserMerge_(e,l.path,l.children,r,i,u):(Object(o.e)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered(),s=this.applyServerMerge_(e,l.path,l.children,r,i,a,u))}else if(n.type===ne.ACK_USER_WRITE){var h=n;s=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==ne.LISTEN_COMPLETE)throw Object(o.f)("Unknown operation type: "+n.type);s=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,s,f),new _e(s,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(fe(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var s=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,u=void 0;if(Y(e))if(Object(o.e)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),l=n.calcCompleteEventChildren(c instanceof Jt?c:Jt.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=Q(e);if(".priority"===f){Object(o.e)(1===q(e),"Can't have a priority with additional path components");var d=s.getNode();u=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,d,u);a=null!=p?this.filter_.updatePriority(d,p):s.getNode()}else{var g=H(e),v=void 0;if(s.isCompleteForChild(f)){u=t.getServerCache().getNode();var b=n.calcEventCacheAfterServerOverwrite(e,s.getNode(),u);v=null!=b?s.getNode().getImmediateChild(f).updateChild(g,b):s.getNode().getImmediateChild(f)}else v=n.calcCompleteChild(f,t.getServerCache());a=null!=v?this.filter_.updateChild(s.getNode(),f,v,g,r,i):s.getNode()}}return t.updateEventSnap(a,s.isFullyInitialized()||Y(e),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(Y(e))a=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);a=c.updateFullNode(u.getNode(),l,null)}else{var h=Q(e);if(!u.isCompleteForPath(e)&&q(e)>1)return t;var f=H(e),d=u.getNode().getImmediateChild(h).updateChild(f,n);a=".priority"===h?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),h,d,f,me,null)}var p=t.updateServerSnap(a,u.isFullyInitialized()||Y(e),c.filtersNodes()),g=new ye(r,p,i);return this.generateEventCacheAfterServerEvent_(p,e,r,g,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,u=t.getEventCache(),c=new ye(r,t,i);if(Y(e))a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var l=Q(e);if(".priority"===l)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,u.isFullyInitialized(),u.isFiltered());else{var h=H(e),f=u.getNode().getImmediateChild(l),d=void 0;if(Y(h))d=n;else{var p=c.getCompleteChild(l);d=null!=p?".priority"===z(h)&&p.getChild(G(h)).isEmpty()?p:p.updateChild(h,n):Jt.EMPTY_NODE}if(f.equals(d))s=t;else{var g=this.filter_.updateChild(u.getNode(),l,d,h,c,o);s=t.updateEventSnap(g,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,u=e;return r.foreach(function(r,c){var l=$(n,r);t.cacheHasChild_(e,Q(l))&&(u=a.applyUserOverwrite_(u,l,c,i,o,s))}),r.foreach(function(r,c){var l=$(n,r);t.cacheHasChild_(e,Q(l))||(u=a.applyUserOverwrite_(u,l,c,i,o,s))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=Y(e)?n:new se(null).setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(u,n);c=a.applyServerOverwrite_(c,new F(e),h,r,i,o,s)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&void 0===n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=a.applyMerge_(h,n);c=a.applyServerOverwrite_(c,new F(e),f,r,i,o,s)}}),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(Y(e)&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(Y(e)){var u=new se(null);return a.getNode().forEachChild(Bt,function(t,e){u=u.set(new F(t),e)}),this.applyServerMerge_(t,e,u,r,i,s,o)}return t}var c=new se(null);return n.foreach(function(t,n){var r=$(e,t);a.isCompleteForPath(r)&&(c=c.set(t,a.getNode().getChild(r)))}),this.applyServerMerge_(t,e,c,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||Y(e),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,me,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var s;if(null!=n.shadowingWrite(e))return t;var a=new ye(n,t,r),u=t.getEventCache().getNode(),c=void 0;if(Y(e)||".priority"===Q(e)){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();Object(o.e)(h instanceof Jt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}c=this.filter_.updateFullNode(u,l=l,i)}else{var f=Q(e),d=n.calcCompleteChild(f,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(c=null!=d?this.filter_.updateChild(u,f,d,H(e),a,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,Jt.EMPTY_NODE,H(e),a,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(s=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,s,i))}return s=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(V()),t.updateEventSnap(c,s,this.filter_.filtersNodes())},t}(),Ce=function(){return function(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}}();function Oe(t,e,n,r,i,s){var a=r.filter(function(t){return t.type===n});a.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(o.f)("Should only compare child_ events.");var r=new Qt(e.childName,e.snapshotNode),i=new Qt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)}),a.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);i.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}var Se,Ee,xe="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Te=(Se=0,Ee=[],function(t){var e,n=t===Se;Se=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=xe.charAt(t%64),t=Math.floor(t/64);Object(o.e)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===Ee[e];e--)Ee[e]=0;Ee[e]++}else for(e=0;e<12;e++)Ee[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=xe.charAt(Ee[e]);return Object(o.e)(20===i.length,"nextPushId: Length should be 20."),i}),Ie=function(t){if("2147483647"===t)return"-";var e=M(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return T;var o=xe.charAt(xe.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},Pe=function(t){if("-2147483648"===t)return x;var e=M(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=xe.charAt(xe.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))},je=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?I(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Qt.MIN},e.prototype.maxPost=function(){return Qt.MAX},e.prototype.makePost=function(t,e){var n=ee(t);return new Qt(e,n)},e.prototype.toString=function(){return".value"},e}(qt)),Ae=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.e)(!Y(e)&&".priority"!==Q(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(i.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?I(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=ee(t),r=Jt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Qt(e,r)},e.prototype.maxPost=function(){var t=Jt.EMPTY_NODE.updateChild(this.indexPath_,te);return new Qt(T,t)},e.prototype.toString=function(){return W(this.indexPath_,0).join("/")},e}(qt),ke=function(){function t(e){this.indexedFilter_=new ve(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Qt(e,n))||(n=Jt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Jt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Jt.EMPTY_NODE);var i=this;return e.forEachChild(Ht,function(t,e){i.matches(new Qt(t,e))||(r=r.updateImmediateChild(t,Jt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),De=function(){function t(t){this.rangedFilter_=new ke(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Qt(e,n))||(n=Jt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Jt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Jt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Jt.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,Jt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var u=t;Object(o.e)(u.numChildren()===this.limit_,"");var c=new Qt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:s(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(ge(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(pe(e,f));var g=u.updateImmediateChild(e,Jt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(de(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}return n.isEmpty()?t:h&&s(l,c)>=0?(null!=i&&(i.trackChildChange(pe(l.name,l.node)),i.trackChildChange(de(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,Jt.EMPTY_NODE)):t},t}(),Ne=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ht}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(o.e)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.e)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:x},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.e)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.e)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:T},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.e)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ht},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Re(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Me(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Le(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ue(t,e,n){var r;return t.index_===Bt?("string"==typeof e&&(e=Ie(e)),r=Le(t,e,n)):r=Le(t,e,null==n?T:Ie(n)),r.startAfterSet_=!0,r}function Fe(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ve(t,e,n){var r;return t.index_===Bt?("string"==typeof e&&(e=Pe(e)),r=Fe(t,e,n)):r=Fe(t,e,null==n?x:Pe(n)),r.endBeforeSet_=!0,r}function Qe(t,e){var n=t.copy();return n.index_=e,n}function qe(t){var e,n={};return t.isDefault()||(t.index_===Ht?e="$priority":t.index_===je?e="$value":t.index_===Bt?e="$key":(Object(o.e)(t.index_ instanceof Ae,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(o.G)(e),t.startSet_&&(n.startAt=Object(o.G)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(o.G)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(o.G)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(o.G)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}var He,ze=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_.getQueryParams(),i=new ve(r.getIndex()),o=(n=r).loadsAllData()?new ve(n.getIndex()):n.hasLimit()?new De(n):new ke(n);this.processor_=new we(o);var s=e.getServerCache(),a=e.getEventCache(),u=i.updateFullNode(Jt.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Jt.EMPTY_NODE,a.getNode(),null),l=new le(u,s.isFullyInitialized(),i.filtersNodes()),h=new le(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=new he(h,l),this.eventGenerator_=new Ce(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteNode=function(){return this.viewCache_.getCompleteEventSnap()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!Y(t)&&!e.getImmediateChild(Q(t)).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){Object(o.e)(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){var i=t.createCancelEvent(e,r);i&&n.push(i)})}if(t){for(var i=[],s=0;s<this.eventRegistrations_.length;++s){var a=this.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(s+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ne.MERGE&&null!==t.source.queryId&&(Object(o.e)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Object(o.e)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),Object(o.e)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ht,function(t,e){n.push(de(t,e))}),e.isFullyInitialized()&&n.push(fe(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),Oe(t,i,"child_removed",e,r,n),Oe(t,i,"child_added",e,r,n),Oe(t,i,"child_moved",o,r,n),Oe(t,i,"child_changed",e,r,n),Oe(t,i,"value",e,r,n),i}(this.eventGenerator_,t,e,n?[n]:this.eventRegistrations_)},t}(),Be=function(){return function(){this.views=new Map}}();function We(t,e,n,r){var s,a,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return Object(o.e)(null!=c,"SyncTree gave us an op for an invalid query."),c.applyOperation(e,n,r)}var l=[];try{for(var h=Object(i.g)(t.views.values()),f=h.next();!f.done;f=h.next())l=l.concat((c=f.value).applyOperation(e,n,r))}catch(d){s={error:d}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}return l}function Ge(t,e,n,r,i){var o=e.queryIdentifier(),s=t.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),u=!1;a?u=!0:r instanceof Jt?(a=n.calcCompleteEventChildren(r),u=!1):(a=Jt.EMPTY_NODE,u=!1);var c=new he(new le(a,u,!1),new le(r,i,!1));return new ze(e,c)}return s}function $e(t){var e,n,r=[];try{for(var o=Object(i.g)(t.views.values()),s=o.next();!s.done;s=o.next()){var a=s.value;a.getQuery().getQueryParams().loadsAllData()||r.push(a)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}function Ye(t,e){var n,r,o=null;try{for(var s=Object(i.g)(t.views.values()),a=s.next();!a.done;a=s.next())o=o||a.value.getCompleteServerCache(e)}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}function Ke(t,e){if(e.getQueryParams().loadsAllData())return Je(t);var n=e.queryIdentifier();return t.views.get(n)}function Xe(t,e){return null!=Ke(t,e)}function Ze(t){return null!=Je(t)}function Je(t){var e,n;try{for(var r=Object(i.g)(t.views.values()),o=r.next();!o.done;o=r.next()){var s=o.value;if(s.getQuery().getQueryParams().loadsAllData())return s}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var tn=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new se(null))},t}();function en(t,e,n){if(Y(e))return new tn(new se(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=K(i,e);return o=o.updateChild(s,n),new tn(t.writeTree_.set(i,o))}var a=new se(n),u=t.writeTree_.setTree(e,a);return new tn(u)}function nn(t,e,n){var r=t;return D(n,function(t,n){r=en(r,$(e,t),n)}),r}function rn(t,e){if(Y(e))return tn.empty();var n=t.writeTree_.setTree(e,new se(null));return new tn(n)}function on(t,e){return null!=sn(t,e)}function sn(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(K(n.path,e)):null}function an(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ht,function(t,n){e.push(new Qt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Qt(t,n.value))}),e}function un(t,e){if(Y(e))return t;var n=sn(t,e);return new tn(null!=n?new se(n):t.writeTree_.subtree(e))}function cn(t){return t.writeTree_.isEmpty()}function ln(t,e){return hn(V(),t.writeTree_,e)}function hn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,i){".priority"===e?(Object(o.e)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=hn($(t,e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild($(t,".priority"),r)),n}var fn=function(){function t(){this.visibleWrites_=tn.empty(),this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new dn(t,this)},t.prototype.addOverwrite=function(t,e,n,r){Object(o.e)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=en(this.visibleWrites_,t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){Object(o.e)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=nn(this.visibleWrites_,t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});Object(o.e)(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,s=!1,a=this.allWrites_.length-1;i&&a>=0;){var u=this.allWrites_[a];u.visible&&(a>=n&&this.recordContainsPath_(u,r.path)?i=!1:J(r.path,u.path)&&(s=!0)),a--}return!!i&&(s?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=rn(this.visibleWrites_,r.path):D(r.children,function(t){e.visibleWrites_=rn(e.visibleWrites_,$(r.path,t))}),!0))},t.prototype.getCompleteWriteData=function(t){return sn(this.visibleWrites_,t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=un(this.visibleWrites_,e);return!i&&cn(o)?n:i||null!=n||on(o,V())?ln(t.layerTree_(this.allWrites_,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(J(t.path,e)||J(e,t.path))},e),n||Jt.EMPTY_NODE):null}var s=sn(this.visibleWrites_,e);if(null!=s)return s;var a=un(this.visibleWrites_,e);return cn(a)?n:null!=n||on(a,V())?ln(a,n||Jt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Jt.EMPTY_NODE,r=sn(this.visibleWrites_,t);if(r)return r.isLeafNode()||r.forEachChild(Ht,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=un(this.visibleWrites_,t);return e.forEachChild(Ht,function(t,e){var r=ln(un(i,new F(t)),e);n=n.updateImmediateChild(t,r)}),an(i).forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return an(un(this.visibleWrites_,t)).forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){Object(o.e)(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=$(t,e);if(on(this.visibleWrites_,i))return null;var s=un(this.visibleWrites_,i);return cn(s)?r.getChild(e):ln(s,r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=$(t,e),i=sn(this.visibleWrites_,r);return null!=i?i:n.isCompleteForChild(e)?ln(un(this.visibleWrites_,r),n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return sn(this.visibleWrites_,t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=un(this.visibleWrites_,t),u=sn(a,V());if(null!=u)s=u;else{if(null==e)return[];s=ln(a,e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return J(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&J($(t.path,n),e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,V()),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=tn.empty(),i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,u=void 0;if(s.snap)J(n,a)?r=en(r,u=K(n,a),s.snap):J(a,n)&&(u=K(a,n),r=en(r,V(),s.snap.getChild(u)));else{if(!s.children)throw Object(o.f)("WriteRecord should have .snap or .children");if(J(n,a))r=nn(r,u=K(n,a),s.children);else if(J(a,n))if(Y(u=K(a,n)))r=nn(r,V(),s.children);else{var c=Object(o.D)(s.children,Q(u));if(c){var l=c.getChild(H(u));r=en(r,V(),l)}}}}}return r},t}(),dn=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite($(this.treePath_,t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t($(this.treePath_,e),this.writeTree_)},t}(),pn=1,gn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new se(null),this.pendingWriteTree_=new fn,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function vn(t,e,n,r,i){return t.pendingWriteTree_.addOverwrite(e,n,r,i),i?Cn(t,new ue({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function bn(t,e,n){void 0===n&&(n=!1);var r=t.pendingWriteTree_.getWrite(e);if(t.pendingWriteTree_.removeWrite(e)){var i=new se(null);return null!=r.snap?i=i.set(V(),!0):D(r.children,function(t){i=i.set(new F(t),!0)}),Cn(t,new oe(r.path,i,n))}return[]}function mn(t,e,n){return Cn(t,new ue({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function yn(t,e,n,r){var s=e.path,a=t.syncPointTree_.get(s),u=[];if(a&&("default"===e.queryIdentifier()||Xe(a,e))){var c=function(t,e,n,r){var s,a,u=e.queryIdentifier(),c=[],l=[],h=Ze(t);if("default"===u)try{for(var f=Object(i.g)(t.views.entries()),d=f.next();!d.done;d=f.next()){var p,g=Object(i.e)(d.value,2),v=g[0];l=l.concat((p=g[1]).removeEventRegistration(n,r)),p.isEmpty()&&(t.views.delete(v),p.getQuery().getQueryParams().loadsAllData()||c.push(p.getQuery()))}}catch(b){s={error:b}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(s)throw s.error}}else(p=t.views.get(u))&&(l=l.concat(p.removeEventRegistration(n,r)),p.isEmpty()&&(t.views.delete(u),p.getQuery().getQueryParams().loadsAllData()||c.push(p.getQuery())));return h&&!Ze(t)&&c.push(new(Object(o.e)(He,"Reference.ts has not been loaded"),He)(e.repo,e.path)),{removed:c,events:l}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(s));var l=c.removed;u=c.events;var h=-1!==l.findIndex(function(t){return t.getQueryParams().loadsAllData()}),f=t.syncPointTree_.findOnPath(s,function(t,e){return Ze(e)});if(h&&!f){var d=t.syncPointTree_.subtree(s);if(!d.isEmpty())for(var p=function(t){return t.fold(function(t,e,n){if(e&&Ze(e))return[Je(e)];var r=[];return e&&(r=$e(e)),D(n,function(t,e){r=r.concat(e)}),r})}(d),g=0;g<p.length;++g){var v=p[g],b=v.getQuery(),m=En(t,v);t.listenProvider_.startListening(An(b),xn(t,b),m.hashFn,m.onComplete)}}!f&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(An(e),null):l.forEach(function(e){var n=t.queryToTagMap.get(Tn(e));t.listenProvider_.stopListening(An(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=Tn(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return u}function _n(t,e,n){var r=e.path,i=null,s=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=K(t,r);i=i||Ye(e,n),s=s||Ze(e)});var a,u=t.syncPointTree_.get(r);u?(s=s||Ze(u),i=i||Ye(u,V())):(u=new Be,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i?a=!0:(a=!1,i=Jt.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=Ye(e,V());n&&(i=i.updateImmediateChild(t,n))}));var c=Xe(u,e);if(!c&&!e.getQueryParams().loadsAllData()){var l=Tn(e);Object(o.e)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=pn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var f=function(t,e,n,r,i,o){var s=Ge(t,e,r,i,o);return t.views.has(e.queryIdentifier())||t.views.set(e.queryIdentifier(),s),s.addEventRegistration(n),s.getInitialEvents(n)}(u,e,n,t.pendingWriteTree_.childWrites(r),i,a);if(!c&&!s){var d=Ke(u,e);f=f.concat(function(t,e,n){var r=e.path,i=xn(t,e),s=En(t,n),a=t.listenProvider_.startListening(An(e),i,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(r);if(i)Object(o.e)(!Ze(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!Y(t)&&e&&Ze(e))return[Je(e).getQuery()];var r=[];return e&&(r=r.concat($e(e).map(function(t){return t.getQuery()}))),D(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var h=c[l];t.listenProvider_.stopListening(An(h),xn(t,h))}return a}(t,e,d))}return f}function wn(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=Ye(n,K(t,e));if(r)return r});return r.calcCompleteEventCache(e,i,n,!0)}function Cn(t,e){return On(e,t.syncPointTree_,null,t.pendingWriteTree_.childWrites(V()))}function On(t,e,n,r){if(Y(t.path))return Sn(t,e,n,r);var i=e.get(V());null==n&&null!=i&&(n=Ye(i,V()));var o=[],s=Q(t.path),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=r.child(s);o=o.concat(On(a,u,c,l))}return i&&(o=o.concat(We(i,t,r,n))),o}function Sn(t,e,n,r){var i=e.get(V());null==n&&null!=i&&(n=Ye(i,V()));var o=[];return e.children.inorderTraversal(function(e,i){var s=n?n.getImmediateChild(e):null,a=r.child(e),u=t.operationForChild(e);u&&(o=o.concat(Sn(u,i,s,a)))}),i&&(o=o.concat(We(i,t,r,n))),o}function En(t,e){var n=e.getQuery(),r=xn(t,n);return{hashFn:function(){return(e.getServerCache()||Jt.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=In(t,n);if(r){var i=Pn(r),o=i.path,s=i.queryId,a=K(o,e);return jn(t,o,new ae(re(s),a))}return[]}(t,n.path,r):function(t,e){return Cn(t,new ae({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return yn(t,n,null,i)}}}function xn(t,e){var n=Tn(e);return t.queryToTagMap.get(n)}function Tn(t){return t.path.toString()+"$"+t.queryIdentifier()}function In(t,e){return t.tagToQueryMap.get(e)}function Pn(t){var e=t.indexOf("$");return Object(o.e)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new F(t.substr(0,e))}}function jn(t,e,n){var r=t.syncPointTree_.get(e);return Object(o.e)(r,"Missing sync point for query tag that we're tracking"),We(r,n,t.pendingWriteTree_.childWrites(e),null)}function An(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t}var kn=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Dn=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=$(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return wn(this.syncTree_,this.path_)},t}(),Nn=function(t,e,n){return t&&"object"==typeof t?(Object(o.e)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Rn(t[".sv"],e,n):"object"==typeof t[".sv"]?Mn(t[".sv"],e):void Object(o.e)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Rn=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.e)(!1,"Unexpected server value: "+t)}},Mn=function(t,e,n){t.hasOwnProperty("increment")||Object(o.e)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(o.e)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.e)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},Ln=function(t,e,n,r){return Fn(e,new Dn(n,t),r)},Un=function(t,e,n){return Fn(t,new kn(e),n)};function Fn(t,e,n){var r,i=t.getPriority().val(),o=Nn(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=Nn(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Mt(a,ee(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Mt(o))),u.forEachChild(Ht,function(t,i){var o=Fn(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}function Vn(){return{value:null,children:new Map}}function Qn(t,e,n){if(Y(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=Q(e);t.children.has(r)||t.children.set(r,Vn()),Qn(t.children.get(r),e=H(e),n)}}function qn(t,e){if(Y(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Ht,function(e,n){Qn(t,new F(e),n)}),qn(t,e)}if(t.children.size>0){var r=Q(e);return e=H(e),t.children.has(r)&&qn(t.children.get(r),e)&&t.children.delete(r),0===t.children.size}return!0}function Hn(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,r){Hn(r,new F(e.toString()+"/"+t),n)})}var zn=function(){function t(){this.rootNode_=Jt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Bn=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.i)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.k)(this.counters_)},t}(),Wn={},Gn={};function $n(t){var e=t.toString();return Wn[e]||(Wn[e]=new Bn),Wn[e]}var Yn=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(i.a)({},t);return this.last_&&D(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Kn=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Yn(t);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;D(e,function(e,i){i>0&&Object(o.i)(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Xn=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Zn(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||Z(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Jn(t,e,n){Zn(t,n),er(t,function(t){return Z(t,e)})}function tr(t,e,n){Zn(t,n),er(t,function(t){return J(t,e)||J(e,t)})}function er(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(nr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function nr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();b&&_("event: "+n.toString()),L(r)}}}var rr=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.e)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(i.f)([],Object(i.e)(this.listeners_[t])),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.e)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),ir=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.e)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(rr),or=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.u)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.e)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(rr),sr=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&L(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),ar="start",ur="close",cr=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(t),this.stats_=$n(e),this.urlFn=function(t){return at(e,ot,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new sr(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Object(o.w)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new lr(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,5),o=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===ar)n.id=s,n.password=a;else{if(o!==ur)throw new Error("Unrecognized command received: "+o);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,2),o=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,s)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&rt.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(o.w)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.G)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.h)(e),r=k(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.w)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.G)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),lr=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.w)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){_("frame writing exception"),u.stack&&_(u.stack),_(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||_("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;Object(o.w)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){_("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),hr="";function fr(t){hr=t}var dr=null;"undefined"!=typeof MozWebSocket?dr=MozWebSocket:"undefined"!=typeof WebSocket&&(dr=WebSocket);var pr=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=$n(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!Object(o.w)()&&"undefined"!=typeof location&&location.hostname&&rt.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),at(t,it,r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.w)()){var r={headers:{"User-Agent":"Firebase/5/"+hr+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new dr(this.connURL,[],r)}else this.mySock=new dr(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(u){this.log_("Error instantiating WebSocket.");var a=u.message||u.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==dr&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.A)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(o.e)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.G)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=k(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),gr=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[cr,pr]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=pr&&pr.isAvailable(),s=o&&!pr.previouslyFailed();if(e.webSocketOnly&&(o||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[pr];else{var a=this.transports_=[];try{for(var u=Object(i.g)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),vr=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new gr(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=U(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=j("t",t),n=j("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=j("t",t),n=j("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=j("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?C("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),br=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),mr=1e3,yr=function(t){function e(n,r,i,s,a,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=s,l.onServerInfoUpdate_=a,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=w("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=mr,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Object(o.w)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),ir.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&or.getInstance().on("online",l.onOnline_,l),l}return Object(i.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.G)(i)),Object(o.e)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new o.a,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[s];void 0!==t&&i===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),s=t.path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Object(o.e)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.e)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(o.i)(t,"w")){var n=Object(o.D)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.o)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.z)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o.e)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.G)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+Object(o.G)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.e)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=mr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=mr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(o.e)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then(function(t){c?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,l=new vr(s,a.repoInfo_,a.applicationId_,n,r,i,function(t){S(t+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},u))}).then(null,function(e){a.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&S(e),h())})}},e.prototype.interrupt=function(t){_("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){_("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.s)(this.interruptReasons_)&&(this.reconnectDelay_=mr,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return A(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new F(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){_("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=Object(i.g)(this.listens.values()),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(n=void 0,Object(i.g)(a.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.w)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+hr.replace(/\./g,"-")]=1,Object(o.u)()?t["framework.cordova"]=1:Object(o.x)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=or.getInstance().currentlyOnline();return Object(o.s)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(br),_r=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(i.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.e)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=qe(t.getQueryParams());this.restRequest_(a+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(o.D)(s.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=qe(t.getQueryParams()),r=t.path.toString(),i=new o.a;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var s=i&&i.accessToken;s&&(e.auth=s);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.C)(e);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=Object(o.A)(u.responseText)}catch(e){S("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&S("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()})},e}(br),wr=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(o.H)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(o.H)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(o.H)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(o.H)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(o.H)("DataSnapshot.child",0,1,arguments.length),e=String(e),Pt("DataSnapshot.child",1,e,!1);var n=new F(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Ht)},t.prototype.hasChild=function(t){Object(o.H)("DataSnapshot.hasChild",1,1,arguments.length),Pt("DataSnapshot.hasChild",1,t,!1);var e=new F(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(o.H)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(o.H)("DataSnapshot.forEach",1,1,arguments.length),Object(o.I)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),Ht))})},t.prototype.hasChildren=function(){return Object(o.H)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.H)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(o.H)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Cr=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function Or(t,e){for(var n=e instanceof F?e:new F(e),r=t,i=Q(n);null!==i;){var s=Object(o.D)(r.node.children,i)||{children:{},childCount:0};r=new Cr(i,r,s),i=Q(n=H(n))}return r}function Sr(t){return t.node.value}function Er(t,e){t.node.value=e,jr(t)}function xr(t){return t.node.childCount>0}function Tr(t,e){D(t.node.children,function(n,r){e(new Cr(n,t,r))})}function Ir(t,e,n,r){n&&!r&&e(t),Tr(t,function(t){Ir(t,e,!0,r)}),n&&r&&e(t)}function Pr(t){return new F(null===t.parent?t.name:Pr(t.parent)+"/"+t.name)}function jr(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===Sr(t)&&!xr(t)}(n),i=Object(o.i)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,jr(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,jr(t))}(t.parent,t.name,t)}var Ar="repo_interrupt",kr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Xn,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vn(),this.transactionQueueTree_=new Cr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Dr(t){var e=t.infoData_.getNode(new F(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Nr(t){return(e=(e={timestamp:Dr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Rr(t,e,n,r,i){t.dataUpdateCount++;var s=new F(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var u=Object(o.B)(n,function(t){return ee(t)});a=function(t,e,n,r){var i=In(t,r);if(i){var o=Pn(i),s=o.path,a=o.queryId,u=K(s,e),c=se.fromObject(n);return jn(t,s,new ce(re(a),u,c))}return[]}(t.serverSyncTree_,s,u,i)}else{var c=ee(n);a=function(t,e,n,r){var i=In(t,r);if(null!=i){var o=Pn(i),s=o.path,a=o.queryId,u=K(s,e);return jn(t,s,new ue(re(a),u,n))}return[]}(t.serverSyncTree_,s,c,i)}else if(r){var l=Object(o.B)(n,function(t){return ee(t)});a=function(t,e,n){var r=se.fromObject(n);return Cn(t,new ce({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{var h=ee(n);a=mn(t.serverSyncTree_,s,h)}var f=s;a.length>0&&(f=ei(t,s)),tr(t.eventQueue_,f,a)}function Mr(t,e){Lr(t,"connected",e),!1===e&&function(t){Yr(t,"onDisconnectEvents");var e=Nr(t),n=Vn();Hn(t.onDisconnect_,V(),function(r,i){var o=Ln(r,i,t.serverSyncTree_,e);Qn(n,r,o)});var r=[];Hn(n,V(),function(e,n){r=r.concat(mn(t.serverSyncTree_,e,n));var i=si(t,e);ei(t,i)}),t.onDisconnect_=Vn(),tr(t.eventQueue_,V(),r)}(t)}function Lr(t,e,n){var r=new F("/.info/"+e),i=ee(n);t.infoData_.updateSnapshot(r,i);var o=mn(t.infoSyncTree_,r,i);tr(t.eventQueue_,r,o)}function Ur(t){return t.nextWriteId_++}function Fr(t,e,n,r,i){Yr(t,"set",{path:e.toString(),value:n,priority:r});var o=Nr(t),s=ee(n,r),a=wn(t.serverSyncTree_,e),u=Un(s,a,o),c=Ur(t),l=vn(t.serverSyncTree_,e,u,c,!0);Zn(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),function(n,r){var o="ok"===n;o||S("set at "+e+" failed: "+n);var s=bn(t.serverSyncTree_,c,!o);tr(t.eventQueue_,e,s),Kr(0,i,n,r)});var h=si(t,e);ei(t,h),tr(t.eventQueue_,h,[])}function Vr(t,e,n,r){Yr(t,"update",{path:e.toString(),value:n});var i=!0,o=Nr(t),s={};if(D(n,function(n,r){i=!1,s[n]=Ln($(e,n),ee(r),t.serverSyncTree_,o)}),i)_("update() called with empty data.  Don't do anything."),Kr(0,r,"ok",void 0);else{var a=Ur(t),u=function(t,e,n,r){t.pendingWriteTree_.addMerge(e,n,r);var i=se.fromObject(n);return Cn(t,new ce({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,a);Zn(t.eventQueue_,u),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||S("update at "+e+" failed: "+n);var s=bn(t.serverSyncTree_,a,!o),u=s.length>0?ei(t,e):e;tr(t.eventQueue_,u,s),Kr(0,r,n,i)}),D(n,function(n){var r=si(t,$(e,n));ei(t,r)}),tr(t.eventQueue_,e,[])}}function Qr(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&qn(t.onDisconnect_,e),Kr(0,n,r,i)})}function qr(t,e,n,r){var i=ee(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&Qn(t.onDisconnect_,e,i),Kr(0,r,n,o)})}function Hr(t,e,n,r,i){var o=ee(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&Qn(t.onDisconnect_,e,o),Kr(0,i,n,r)})}function zr(t,e,n,r){if(Object(o.s)(n))return _("onDisconnect().update() called with empty data.  Don't do anything."),void Kr(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&D(n,function(n,r){var i=ee(r);Qn(t.onDisconnect_,$(e,n),i)}),Kr(0,r,i,o)})}function Br(t,e,n){var r;r=".info"===Q(e.path)?_n(t.infoSyncTree_,e,n):_n(t.serverSyncTree_,e,n),Jn(t.eventQueue_,e.path,r)}function Wr(t,e,n){var r;r=".info"===Q(e.path)?yn(t.infoSyncTree_,e,n):yn(t.serverSyncTree_,e,n),Jn(t.eventQueue_,e.path,r)}function Gr(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Ar)}function $r(t){t.persistentConnection_&&t.persistentConnection_.resume(Ar)}function Yr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),_.apply(void 0,Object(i.f)([r],Object(i.e)(e)))}function Kr(t,e,n,r){e&&L(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function Xr(t){return t.__database||(t.__database=new Ci(t))}function Zr(t,e,n,r,i){Yr(t,"transaction on "+e);var s=function(){},a=new vi(t,e);a.on("value",s);var u={path:e,update:n,onComplete:r,status:null,order:p(),applyLocally:i,retryCount:0,unwatcher:function(){a.off("value",s)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=Jr(t,e,void 0);u.currentInputSnapshot=c;var l=u.update(c.val());if(void 0===l){if(u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete){var h=new wr(u.currentInputSnapshot,new vi(t,u.path),Ht);u.onComplete(null,!1,h)}}else{St("transaction failed: Data returned ",l,u.path),u.status=0;var f=Or(t.transactionQueueTree_,e),d=Sr(f)||[];d.push(u),Er(f,d);var g=void 0;"object"==typeof l&&null!==l&&Object(o.i)(l,".priority")?(g=Object(o.D)(l,".priority"),Object(o.e)(Ct(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):g=(wn(t.serverSyncTree_,e)||Jt.EMPTY_NODE).getPriority().val();var v=Nr(t),b=ee(l,g),m=Un(b,c,v);u.currentOutputSnapshotRaw=b,u.currentOutputSnapshotResolved=m,u.currentWriteId=Ur(t);var y=vn(t.serverSyncTree_,e,m,u.currentWriteId,u.applyLocally);tr(t.eventQueue_,e,y),ti(t,t.transactionQueueTree_)}}function Jr(t,e,n){return wn(t.serverSyncTree_,e,n)||Jt.EMPTY_NODE}function ti(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||oi(t,e),Sr(e)){var n=ri(t,e);Object(o.e)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),i=Jr(t,e,r),s=i,a=i.hash(),u=0;u<n.length;u++){var c=n[u];Object(o.e)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=K(e,c.path);s=s.updateChild(l,c.currentOutputSnapshotRaw)}var h=s.val(!0),f=e;t.server_.put(f.toString(),h,function(r){Yr(t,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<n.length;s++){if(n[s].status=2,i=i.concat(bn(t.serverSyncTree_,n[s].currentWriteId)),n[s].onComplete){var a=n[s].currentOutputSnapshotResolved,u=new vi(t,n[s].path),c=new wr(a,u,Ht);o.push(n[s].onComplete.bind(null,null,!0,c))}n[s].unwatcher()}for(oi(t,Or(t.transactionQueueTree_,e)),ti(t,t.transactionQueueTree_),tr(t.eventQueue_,e,i),s=0;s<o.length;s++)L(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)n[s].status=3===n[s].status?4:0;else for(S("transaction at "+f.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;ei(t,e)}},a)}(t,Pr(e),n)}else xr(e)&&Tr(e,function(e){ti(t,e)})}function ei(t,e){var n=ni(t,e),r=Pr(n);return function(t,e,n){if(0!==e.length){for(var r=[],i=[],s=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),a=0;a<e.length;a++){var u=e[a],c=K(n,u.path),l=!1,h=void 0;if(Object(o.e)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,h=u.abortReason,i=i.concat(bn(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,h="maxretry",i=i.concat(bn(t.serverSyncTree_,u.currentWriteId,!0));else{var f=Jr(t,u.path,s);u.currentInputSnapshot=f;var d=e[a].update(f.val());if(void 0!==d){St("transaction failed: Data returned ",d,u.path);var p=ee(d);"object"==typeof d&&null!=d&&Object(o.i)(d,".priority")||(p=p.updatePriority(f.getPriority()));var g=u.currentWriteId,v=Nr(t),b=Un(p,f,v);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=b,u.currentWriteId=Ur(t),s.splice(s.indexOf(g),1),i=(i=i.concat(vn(t.serverSyncTree_,u.path,b,u.currentWriteId,u.applyLocally))).concat(bn(t.serverSyncTree_,g,!0))}else l=!0,h="nodata",i=i.concat(bn(t.serverSyncTree_,u.currentWriteId,!0))}if(tr(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete))if("nodata"===h){var m=new vi(t,e[a].path),y=new wr(e[a].currentInputSnapshot,m,Ht);r.push(e[a].onComplete.bind(null,null,!1,y))}else r.push(e[a].onComplete.bind(null,new Error(h),!1,null))}for(oi(t,t.transactionQueueTree_),a=0;a<r.length;a++)L(r[a]);ti(t,t.transactionQueueTree_)}}(t,ri(t,n),r),r}function ni(t,e){var n,r=t.transactionQueueTree_;for(n=Q(e);null!==n&&void 0===Sr(r);)r=Or(r,n),n=Q(e=H(e));return r}function ri(t,e){var n=[];return ii(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function ii(t,e,n){var r=Sr(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Tr(e,function(e){ii(t,e,n)})}function oi(t,e){var n=Sr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Er(e,n.length>0?n:void 0)}Tr(e,function(e){oi(t,e)})}function si(t,e){var n=Pr(ni(t,e)),r=Or(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){ai(t,e)}),ai(t,r),Ir(r,function(e){ai(t,e)}),n}function ai(t,e){var n=Sr(e);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(o.e)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(o.e)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(bn(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?Er(e,void 0):n.length=s+1,tr(t.eventQueue_,Pr(e),i),a=0;a<r.length;a++)L(r[a])}}var ui,ci=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(o.H)("OnDisconnect.cancel",0,1,arguments.length),Object(o.I)("OnDisconnect.cancel",1,t,!0);var e=new o.a;return Qr(this.repo_,this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(o.H)("OnDisconnect.remove",0,1,arguments.length),At("OnDisconnect.remove",this.path_),Object(o.I)("OnDisconnect.remove",1,t,!0);var e=new o.a;return qr(this.repo_,this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(o.H)("OnDisconnect.set",1,2,arguments.length),At("OnDisconnect.set",this.path_),Ot("OnDisconnect.set",1,t,this.path_,!1),Object(o.I)("OnDisconnect.set",2,e,!0);var n=new o.a;return qr(this.repo_,this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(o.H)("OnDisconnect.setWithPriority",2,3,arguments.length),At("OnDisconnect.setWithPriority",this.path_),Ot("OnDisconnect.setWithPriority",1,t,this.path_,!1),xt("OnDisconnect.setWithPriority",2,e,!1),Object(o.I)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.a;return Hr(this.repo_,this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(o.H)("OnDisconnect.update",1,2,arguments.length),At("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Et("OnDisconnect.update",1,t,this.path_,!1),Object(o.I)("OnDisconnect.update",2,e,!0);var i=new o.a;return zr(this.repo_,this.path_,t,i.wrapCallback(e)),i.promise},t}(),li=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.H)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),hi=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.G)(this.snapshot.exportVal())},t}(),fi=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),di=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new hi("value",this,new wr(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.e)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new fi(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),pi=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.i)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new fi(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.e)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new hi(t.type,this,new wr(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.e)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every(function(t){return e.callbacks_[t]===n.callbacks_[t]})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),gi=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.e)(ui,"Reference.ts has not been loaded"),ui},set:function(t){ui=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Bt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==x)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==T)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Ht){if(null!=e&&!Ct(e)||null!=n&&!Ct(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.e)(t.getIndex()instanceof Ae||t.getIndex()===je,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(o.H)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Object(o.H)("Query.on",2,4,arguments.length),Tt("Query.on",1,e,!1),Object(o.I)("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,s.cancel,s.context);else{var a={};a[e]=n,this.onChildEvent(a,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new di(t,e||null,n||null);Br(this.repo,this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new pi(t,e,n);Br(this.repo,this,r)},t.prototype.off=function(t,e,n){Object(o.H)("Query.off",0,3,arguments.length),Tt("Query.off",1,t,!0),Object(o.I)("Query.off",2,e,!0),Object(o.J)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var s=e||null;r=new di(s,null,n||null)}else t&&(e&&((i={})[t]=e),r=new pi(i,null,n||null));Wr(this.repo,this,r)},t.prototype.get=function(){return null!=(n=function(t,e){var n=e.path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=K(t,n);r=r||Ye(e,i)});var i=t.syncPointTree_.get(n);i?r=r||Ye(i,V()):(i=new Be,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new le(r,!0,!1):null;return Ge(i,e,t.pendingWriteTree_.childWrites(e.path),o?s.getNode():Jt.EMPTY_NODE,o).getCompleteNode()}((t=this.repo).serverSyncTree_,e=this))?Promise.resolve(new wr(n,e.getRef(),e.getQueryParams().getIndex())):t.server_.get(e).then(function(n){var r=ee(n),i=mn(t.serverSyncTree_,e.path,r);return Jn(t.eventQueue_,e.path,i),Promise.resolve(new wr(r,e.getRef(),e.getQueryParams().getIndex()))},function(n){return Yr(t,"get for query "+Object(o.G)(e)+" failed: "+n),Promise.reject(new Error(n))});var t,e,n},t.prototype.once=function(e,n,r,i){var s=this;Object(o.H)("Query.once",1,4,arguments.length),Tt("Query.once",1,e,!1),Object(o.I)("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.a;c.promise.catch(function(){});var l=function(t){u&&(u=!1,s.off(e,l),n&&n.bind(a.context)(t),c.resolve(t))};return this.on(e,l,function(t){s.off(e,l),a.cancel&&a.cancel.bind(a.context)(t),c.reject(t)}),c.promise},t.prototype.limitToFirst=function(e){if(Object(o.H)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,Re(this.queryParams_,e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(o.H)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,Me(this.queryParams_,e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(o.H)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Pt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new F(e);if(Y(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Ae(n),i=Qe(this.queryParams_,r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Object(o.H)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=Qe(this.queryParams_,Bt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(o.H)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=Qe(this.queryParams_,Ht);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(o.H)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=Qe(this.queryParams_,je);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(o.H)("Query.startAt",0,2,arguments.length),Ot("Query.startAt",1,e,this.path,!0),It("Query.startAt",2,n,!0);var r=Le(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.startAfter=function(e,n){void 0===e&&(e=null),Object(o.H)("Query.startAfter",0,2,arguments.length),Ot("Query.startAfter",1,e,this.path,!1),It("Query.startAfter",2,n,!0);var r=Ue(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(o.H)("Query.endAt",0,2,arguments.length),Ot("Query.endAt",1,e,this.path,!0),It("Query.endAt",2,n,!0);var r=Fe(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endBefore=function(e,n){void 0===e&&(e=null),Object(o.H)("Query.endBefore",0,2,arguments.length),Ot("Query.endBefore",1,e,this.path,!1),It("Query.endBefore",2,n,!0);var r=Ve(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(o.H)("Query.equalTo",1,2,arguments.length),Ot("Query.equalTo",1,t,this.path,!1),It("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(o.H)("Query.toString",0,0,arguments.length),this.repo.toString()+B(this.path)},t.prototype.toJSON=function(){return Object(o.H)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return function(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Ht&&(e.i=t.index_.toString()),e}(this.queryParams_)},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=A(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(o.H)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=Z(this.path,e.path),s=this.queryIdentifier()===e.queryIdentifier();return r&&i&&s},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(o.I)(t,3,r.cancel,!0),r.context=n,Object(o.J)(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(o.m)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),vi=function(t){function e(e,n){if(!(e instanceof kr))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,new Ne,!1)||this}return Object(i.c)(e,t),e.prototype.getKey=function(){return Object(o.H)("Reference.key",0,0,arguments.length),Y(this.path)?null:z(this.path)},e.prototype.child=function(t){return Object(o.H)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof F||(null===Q(this.path)?jt("Reference.child",1,t,!1):Pt("Reference.child",1,t,!1)),new e(this.repo,$(this.path,t))},e.prototype.getParent=function(){Object(o.H)("Reference.parent",0,0,arguments.length);var t=G(this.path);return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(o.H)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return Xr(this.repo)},e.prototype.set=function(t,e){Object(o.H)("Reference.set",1,2,arguments.length),At("Reference.set",this.path),Ot("Reference.set",1,t,this.path,!1),Object(o.I)("Reference.set",2,e,!0);var n=new o.a;return Fr(this.repo,this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(o.H)("Reference.update",1,2,arguments.length),At("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Et("Reference.update",1,t,this.path,!1),Object(o.I)("Reference.update",2,e,!0);var i=new o.a;return Vr(this.repo,this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(o.H)("Reference.setWithPriority",2,3,arguments.length),At("Reference.setWithPriority",this.path),Ot("Reference.setWithPriority",1,t,this.path,!1),xt("Reference.setWithPriority",2,e,!1),Object(o.I)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.a;return Fr(this.repo,this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(o.H)("Reference.remove",0,1,arguments.length),At("Reference.remove",this.path),Object(o.I)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(o.H)("Reference.transaction",1,3,arguments.length),At("Reference.transaction",this.path),Object(o.I)("Reference.transaction",1,t,!1),Object(o.I)("Reference.transaction",2,e,!0),Dt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.a;"function"==typeof e&&r.promise.catch(function(){});var i=function(t,n,i){t?r.reject(t):r.resolve(new li(n,i)),"function"==typeof e&&e(t,n,i)};return Zr(this.repo,this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Object(o.H)("Reference.setPriority",1,2,arguments.length),At("Reference.setPriority",this.path),xt("Reference.setPriority",1,t,!1),Object(o.I)("Reference.setPriority",2,e,!0);var n=new o.a;return Fr(this.repo,$(this.path,".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(o.H)("Reference.push",0,2,arguments.length),At("Reference.push",this.path),Ot("Reference.push",1,t,this.path,!0),Object(o.I)("Reference.push",2,e,!0);var n,r=Dr(this.repo),i=Te(r),s=this.child(i),a=this.child(i);return n=null!=t?s.set(t,e).then(function(){return a}):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),s},e.prototype.onDisconnect=function(){return At("Reference.onDisconnect",this.path),new ci(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(gi);gi.__referenceConstructor=vi,function(t){Object(o.e)(!He,"__referenceConstructor has already been defined"),He=t}(vi);var bi=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then(function(t){return n.auth_=t})}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';S(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),mi=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),yi={},_i=!1;function wi(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||O("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=gt(i,r),u=a.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(s=!0,u=(a=gt(i="http://"+c+"?ns="+u.namespace,r)).repoInfo):s=!a.repoInfo.secure;var l=r&&s?new mi:new bi(t,e);return kt("Invalid Firebase Database URL",1,a),Y(a.path)||O("Database URL must point to the root of a Firebase Database (not including a child path)."),Xr(function(t,e,n){var r=Object(o.D)(yi,e.name);r||(yi[e.name]=r={});var i=Object(o.D)(r,t.toURLString());return i&&O("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new kr(t,_i,e,n),r[t.toURLString()]=i,i}(u,t,l))}var Ci=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(i.b)(e,void 0,void 0,function(){return Object(i.d)(this,function(t){var e,n;return this.checkDeleted_("delete"),e=this.repo_,(n=Object(o.D)(yi,e.app.name))&&Object(o.D)(n,e.key)===e||O("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),Gr(e),delete n[e.key],this.repoInternal_=null,this.rootInternal_=null,[2]})})}},t instanceof kr||O("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(function(t){if(t.stats_=$n(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new _r(t.repoInfo_,function(e,n,r,i){Rr(t,e,n,r,i)},t.authTokenProvider_),setTimeout(function(){return Mr(t,!0)},0);else{var e=t.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.G)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new yr(t.repoInfo_,t.app.options.appId,function(e,n,r,i){Rr(t,e,n,r,i)},function(e){Mr(t,e)},function(e){!function(t,e){D(e,function(e,n){Lr(t,e,n)})}(t,e)},t.authTokenProvider_,e),t.server_=t.persistentConnection_}var n,r;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.statsReporter_=(n=function(){return new Kn(t.stats_,t.server_)},r=t.repoInfo_.toString(),Gn[r]||(Gn[r]=n()),Gn[r]),t.infoData_=new zn,t.infoSyncTree_=new gn({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e.path);return s.isEmpty()||(o=mn(t.infoSyncTree_,e.path,s),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),Lr(t,"connected",!1),t.serverSyncTree_=new gn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);tr(t.eventQueue_,e.path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this.repoInternal_),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new vi(this.repo_,V())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?O("Cannot call useEmulator() after instance has already been initialized."):function(t,e,n){t.repoInfo_=new st(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new mi)}(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(o.H)("database.ref",0,1,arguments.length),t instanceof vi?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(o.H)(e,1,1,arguments.length);var n=gt(t,this.repo_.repoInfo_.nodeAdmin);kt(e,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||O(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&O("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(o.H)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),Gr(this.repo_)},t.prototype.goOnline=function(){Object(o.H)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),$r(this.repo_)},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),Oi=Object.freeze({__proto__:null,forceLongPolling:function(){pr.forceDisallow(),cr.forceAllow()},forceWebSockets:function(){cr.forceDisallow()},isWebSocketsAvailable:function(){return pr.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Yn(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);D(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t.repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t.repo,e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t.repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,i=t.namespace,o=t.nodeAdmin,s=void 0!==o&&o;fr(t.version);var u=new a.c("auth-internal",new a.b("database-standalone"));return u.setComponent(new a.a("auth-internal",function(){return r},"PRIVATE")),{instance:wi(e,u,n,s),namespace:i}}}),Si=yr;yr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},yr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Ei=Object.freeze({__proto__:null,DataConnection:Si,RealTimeConnection:vr,hijackHash:function(t){var e=yr.prototype.put;return yr.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){yr.prototype.put=e}},ConnectionTarget:st,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){!function(t){_i=t}(t)}}),xi=Ci.ServerValue;!function(e){fr(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new a.a("database",function(t,e){return wi(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),e,void 0)},"PUBLIC").setServiceProps({Reference:vi,Query:gi,Database:Ci,DataSnapshot:wr,enableLogging:y,INTERNAL:Oi,ServerValue:xi,TEST_ACCESS:Ei}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.9.5"),Object(o.w)()&&(t.exports=n)}(r.a)}).call(this,n("3UD+")(t))},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Ub)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(s))},t.\u0275prov=Object(r.Hb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Ub)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Ub)(s).location;return new y(Object(r.Ub)(a),e&&e.origin||"")}const m=new r.r("appBaseHref");let y=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(m,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(m,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(v),r.Ub(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Hb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new w(Object(r.Ub)(v),Object(r.Ub)(a))}function O(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const E=r.mb;class x{}let T=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(E(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.v))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),I=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.vb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.t),r.Lb(r.u),r.Lb(r.l),r.Lb(r.E))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class P{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let j=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new P(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new A(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new A(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L),r.Lb(r.t))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class A{constructor(t,e){this.record=t,this.view=e}}let k=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){N("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){N("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function N(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}let R=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.u),r.Lb(r.E))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),M=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.yb]}),t})(),L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[{provide:x,useClass:T}]}),t})();function U(t){return"browser"===t}function F(t){return"server"===t}let V=(()=>{class t{}return t.\u0275prov=Object(r.Hb)({token:t,providedIn:"root",factory:()=>new Q(Object(r.Ub)(s),window)}),t})();class Q{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=q(this.window.history)||q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class H extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new H,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=B||(B=document.querySelector("base"),B)?B.getAttribute("href"):null;return null==e?null:(n=e,z||(z=document.createElement("a")),z.setAttribute("href",n),"/"===z.pathname.charAt(0)?z.pathname:"/"+z.pathname);var n}resetBaseElement(){B=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let z,B=null;const W=new r.r("TRANSITION_ID"),G=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[W,s,r.s],multi:!0}];class ${static init(){Object(r.X)(new $)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Y=new r.r("EventManagerPlugins");let K=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Y),r.Ub(r.A))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class X{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Z=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),J=(()=>{class t extends Z{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},et=/%COMP%/g;function nt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?nt(t,i,n):(i=i.replace(et,t),n.push(i))}return n}function rt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let it=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ot(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new st(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new at(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=nt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(K),r.Ub(J),r.Ub(r.c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class ot{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(tt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=tt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=tt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,rt(n)):this.eventManager.addEventListener(t,e,rt(n))}}class st extends ot{constructor(t,e,n,r){super(t),this.component=n;const i=nt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(et,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(et,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class at extends ot{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=nt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ut=(()=>{class t extends X{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const ct=["alt","control","meta","shift"],lt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ht={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ft={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let dt=(()=>{class t extends X{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ct.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ht.hasOwnProperty(e)&&(e=ht[e]))}return lt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ct.forEach(r=>{r!=n&&(0,ft[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),pt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return Object(r.Ub)(gt)},token:t,providedIn:"root"}),t})(),gt=(()=>{class t extends pt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.I.NONE:return e;case r.I.HTML:return Object(r.db)(e,"HTML")?Object(r.wb)(e):Object(r.bb)(this._doc,String(e)).toString();case r.I.STYLE:return Object(r.db)(e,"Style")?Object(r.wb)(e):e;case r.I.SCRIPT:if(Object(r.db)(e,"Script"))return Object(r.wb)(e);throw new Error("unsafe value used in a script context");case r.I.URL:return Object(r.nb)(e),Object(r.db)(e,"URL")?Object(r.wb)(e):Object(r.cb)(String(e));case r.I.RESOURCE_URL:if(Object(r.db)(e,"ResourceURL"))return Object(r.wb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.eb)(t)}bypassSecurityTrustStyle(t){return Object(r.hb)(t)}bypassSecurityTrustScript(t){return Object(r.gb)(t)}bypassSecurityTrustUrl(t){return Object(r.ib)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.fb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(s))},t.\u0275prov=Object(r.Hb)({factory:function(){return t=Object(r.Ub)(r.o),new gt(t.get(s));var t},token:t,providedIn:"root"}),t})();const vt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){H.makeCurrent(),$.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],bt=Object(r.S)(r.W,"browser",vt),mt=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Y,useClass:ut,multi:!0,deps:[s,r.A,r.C]},{provide:Y,useClass:dt,multi:!0,deps:[s]},[],{provide:it,useClass:it,deps:[K,J,r.c]},{provide:r.F,useExisting:it},{provide:Z,useExisting:J},{provide:J,useClass:J,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:K,useClass:K,deps:[Y,r.A]},[]];let yt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:W,useExisting:r.c},G]}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(t,12))},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:mt,imports:[L,r.f]}),t})();"undefined"!=typeof window&&window;var _t=n("Cfvw"),wt=n("LRne"),Ct=n("XNiG"),Ot=n("9ppp");class St extends Ct.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ot.a;return this._value}next(t){super.next(this._value=t)}}var Et=n("z+Ro"),xt=n("DH7j"),Tt=n("7o/Q");class It extends Tt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Pt extends Tt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var jt=n("SeVD"),At=n("HDdC");function kt(t,e,n,r,i=new Pt(t,n,r)){if(!i.closed)return e instanceof At.a?e.subscribe(i):Object(jt.a)(e)(i)}var Dt=n("yCtX");const Nt={};class Rt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Mt(t,this.resultSelector))}}class Mt extends It{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Nt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(kt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Nt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Lt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Ut=n("bHdf");function Ft(...t){return Object(Ut.a)(1)(Object(wt.a)(...t))}var Vt=n("EY2u");function Qt(t){return new At.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(_t.a)(n):Object(Vt.b)()).subscribe(e)})}var qt=n("EQ5u"),Ht=n("lJxs"),zt=n("zx2A");function Bt(t,e){return"function"==typeof e?n=>n.pipe(Bt((n,r)=>Object(_t.a)(t(n,r)).pipe(Object(Ht.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Wt(t))}class Wt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Gt(t,this.project))}}class Gt extends zt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new zt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(zt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const $t=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Yt(t){return e=>0===t?Object(Vt.b)():e.lift(new Kt(t))}class Kt{constructor(t){if(this.total=t,this.total<0)throw new $t}call(t,e){return e.subscribe(new Xt(t,this.total))}}class Xt extends Tt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Zt(...t){const e=t[t.length-1];return Object(Et.a)(e)?(t.pop(),n=>Ft(t,n,e)):e=>Ft(t,e)}function Jt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new te(t,e,n))}}class te{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ee(t,this.accumulator,this.seed,this.hasSeed))}}class ee extends Tt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ne(t,e){return function(n){return n.lift(new re(t,e))}}class re{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ie(t,this.predicate,this.thisArg))}}class ie extends Tt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function oe(t){return function(e){const n=new se(t),r=e.lift(n);return n.caught=r}}class se{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ae(t,this.selector,this.caught))}}class ae extends zt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new zt.a(this);this.add(r);const i=Object(zt.c)(n,r);i!==r&&this.add(i)}}}var ue=n("5+tZ");function ce(t,e){return Object(ue.a)(t,e,1)}function le(t){return function(e){return 0===t?Object(Vt.b)():e.lift(new he(t))}}class he{constructor(t){if(this.total=t,this.total<0)throw new $t}call(t,e){return e.subscribe(new fe(t,this.total))}}class fe extends Tt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function de(t=ve){return e=>e.lift(new pe(t))}class pe{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ge(t,this.errorFactory))}}class ge extends Tt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Qw){t=Qw}this.destination.error(t)}}}function ve(){return new Lt}function be(t=null){return e=>e.lift(new me(t))}class me{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ye(t,this.defaultValue))}}class ye extends Tt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var _e=n("SpAZ");function we(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ne((e,n)=>t(e,n,r)):_e.a,Yt(1),n?be(e):de(()=>new Lt))}var Ce=n("vkgz"),Oe=n("x+ZX"),Se=n("quSY");function Ee(t){return e=>e.lift(new xe(t))}class xe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Te(t,this.callback))}}class Te extends Tt.a{constructor(t,e){super(t),this.add(new Se.a(e))}}class Ie{constructor(t,e){this.id=t,this.url=e}}class Pe extends Ie{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class je extends Ie{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ae extends Ie{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ke extends Ie{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class De extends Ie{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ne extends Ie{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re extends Ie{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Me extends Ie{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le extends Ie{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ue{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fe{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ve{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Be="primary";class We{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ge(t){return new We(t)}function $e(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ye(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ke(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Xe(t[i],e[i]))return!1;return!0}function Xe(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Ze(t){return Array.prototype.concat.apply([],t)}function Je(t){return t.length>0?t[t.length-1]:null}function tn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function en(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(_t.a)(Promise.resolve(t)):Object(wt.a)(t)}function nn(t,e,n){return n?function(t,e){return Ke(t,e)}(t.queryParams,e.queryParams)&&rn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Xe(t[n],e[n]))}(t.queryParams,e.queryParams)&&on(t.root,e.root)}function rn(t,e){if(!ln(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!rn(t.children[n],e.children[n]))return!1}return!0}function on(t,e){return sn(t,e,e.segments)}function sn(t,e,n){if(t.segments.length>n.length)return!!ln(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!ln(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!on(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!ln(t.segments,r)&&!!t.children.primary&&sn(t.children.primary,e,i)}}class an{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return dn.serialize(this)}}class un{constructor(t,e){this.segments=t,this.children=e,this.parent=null,tn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pn(this)}}class cn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ge(this.parameters)),this._parameterMap}toString(){return wn(this)}}function ln(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class hn{}class fn{parse(t){const e=new xn(t);return new an(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${gn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${bn(e)}=${bn(t)}`).join("&"):`${bn(e)}=${bn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const dn=new fn;function pn(t){return t.segments.map(t=>wn(t)).join("/")}function gn(t,e){if(!t.hasChildren())return pn(t);if(e){const e=t.children.primary?gn(t.children.primary,!1):"",n=[];return tn(t.children,(t,e)=>{e!==Be&&n.push(`${e}:${gn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return tn(t.children,(t,r)=>{r===Be&&(n=n.concat(e(t,r)))}),tn(t.children,(t,r)=>{r!==Be&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Be?[gn(t.children.primary,!1)]:[`${n}:${gn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${pn(t)}/${e[0]}`:`${pn(t)}/(${e.join("//")})`}}function vn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bn(t){return vn(t).replace(/%3B/gi,";")}function mn(t){return vn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yn(t){return decodeURIComponent(t)}function _n(t){return yn(t.replace(/\+/g,"%20"))}function wn(t){return`${mn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${mn(t)}=${mn(e[t])}`).join("")}`;var e}const Cn=/^[^\/()?;=#]+/;function On(t){const e=t.match(Cn);return e?e[0]:""}const Sn=/^[^=?&#]+/,En=/^[^?&#]+/;class xn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new un(t,e)),n}parseSegment(){const t=On(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new cn(yn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=On(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=On(this.remaining);t&&(n=t,this.capture(n))}t[yn(e)]=yn(n)}parseQueryParam(t){const e=function(t){const e=t.match(Sn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(En);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=_n(e),i=_n(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=On(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Be);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new un([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Tn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=In(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=In(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Pn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Pn(t,this._root).map(t=>t.value)}}function In(t,e){if(t===e.value)return e;for(const n of e.children){const e=In(t,n);if(e)return e}return null}function Pn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Pn(t,n);if(r.length)return r.unshift(e),r}return[]}class jn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function An(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class kn extends Tn{constructor(t,e){super(t),this.snapshot=e,Un(this,t)}toString(){return this.snapshot.toString()}}function Dn(t,e){const n=function(t,e){const n=new Mn([],{},{},"",{},Be,e,null,t.root,-1,{});return new Ln("",new jn(n,[]))}(t,e),r=new St([new cn("",{})]),i=new St({}),o=new St({}),s=new St({}),a=new St(""),u=new Nn(r,i,s,a,o,Be,e,n.root);return u.snapshot=n.root,new kn(new jn(u,[]),n)}class Nn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ht.a)(t=>Ge(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ht.a)(t=>Ge(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Mn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ge(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ln extends Tn{constructor(t,e){super(e),this.url=t,Un(this,e)}toString(){return Fn(this._root)}}function Un(t,e){e.value._routerState=t,e.children.forEach(e=>Un(t,e))}function Fn(t){const e=t.children.length>0?` { ${t.children.map(Fn).join(", ")} } `:"";return`${t.value}${e}`}function Vn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ke(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ke(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ke(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ke(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Qn(t,e){return Ke(t.params,e.params)&&function(t,e){return ln(t,e)&&t.every((t,n)=>Ke(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Qn(t.parent,e.parent))}function qn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return qn(t,e,r);return qn(t,e)})}(t,e,n);return new jn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Hn(e,t),t}{const n=new Nn(new St((r=e.value).url),new St(r.params),new St(r.queryParams),new St(r.fragment),new St(r.data),r.outlet,r.component,r),i=e.children.map(e=>qn(t,e));return new jn(n,i)}}var r}function Hn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Hn(t.children[n],e.children[n])}function zn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Bn(t){return"object"==typeof t&&null!=t&&t.outlets}function Wn(t,e,n,r,i){let o={};return r&&tn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new an(n.root===t?e:Gn(n.root,t,e),o,i)}function Gn(t,e,n){const r={};return tn(t.children,(t,i)=>{r[i]=t===e?n:Gn(t,e,n)}),new un(t.segments,r)}class $n{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&zn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Bn);if(r&&r!==Je(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Kn(t,e,n){if(t||(t=new un([],{})),0===t.segments.length&&t.hasChildren())return Xn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Bn(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!er(a,u,e))return o;r+=2}else{if(!er(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new un(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new un(t.segments.slice(r.pathIndex),t.children),Xn(e,0,i)}return r.match&&0===i.length?new un(t.segments,{}):r.match&&!t.hasChildren()?Zn(t,e,n):r.match?Xn(t,0,i):Zn(t,e,n)}function Xn(t,e,n){if(0===n.length)return new un(t.segments,{});{const r=function(t){return Bn(t[0])?t[0].outlets:{[Be]:t}}(n),i={};return tn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Kn(t.children[r],e,n))}),tn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new un(t.segments,i)}}function Zn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Bn(o)){const t=Jn(o.outlets);return new un(r,t)}if(0===i&&zn(n[0])){r.push(new cn(t.segments[e].path,tr(n[0]))),i++;continue}const s=Bn(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&zn(a)?(r.push(new cn(s,tr(a))),i+=2):(r.push(new cn(s,{})),i++)}return new un(r,{})}function Jn(t){const e={};return tn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Zn(new un([],{}),0,t))}),e}function tr(t){const e={};return tn(t,(t,n)=>e[n]=`${t}`),e}function er(t,e,n){return t==n.path&&Ke(e,n.parameters)}class nr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Vn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=An(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),tn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=An(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=An(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new He(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Qe(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Vn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),rr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function rr(t){Vn(t.value),t.children.forEach(rr)}class ir{constructor(t,e){this.routes=t,this.module=e}}function or(t){return"function"==typeof t}function sr(t){return t instanceof an}const ar=Symbol("INITIAL_VALUE");function ur(){return Bt(t=>function(...t){let e,n;return Object(Et.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(xt.a)(t[0])&&(t=t[0]),Object(Dt.a)(t,n).lift(new Rt(e))}(t.map(t=>t.pipe(Yt(1),Zt(ar)))).pipe(Jt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ar)return t;if(r===ar&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||sr(r))return r}return t},t)},ar),ne(t=>t!==ar),Object(Ht.a)(t=>sr(t)?t:!0===t),Yt(1)))}let cr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:function(){return[ri]},encapsulation:2}),t})();function lr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];hr(r,fr(e,r))}}function hr(t,e){t.children&&lr(t.children,e)}function fr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function dr(t){const e=t.children&&t.children.map(dr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Be&&(n.component=cr),n}function pr(t){return t.outlet||Be}function gr(t,e){const n=t.filter(t=>pr(t)===e);return n.push(...t.filter(t=>pr(t)!==e)),n}const vr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function br(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},vr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ye)(n,t,e);if(!i)return Object.assign({},vr);const o={};tn(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function mr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>yr(t,e,n)&&pr(n)!==Be)}(t,n,r)){const i=new un(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&pr(o)!==Be){const n=new un([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[pr(o)]=n}return i}(t,e,r,new un(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>yr(t,e,n))}(t,n,r)){const o=new un(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(yr(t,n,a)&&!i[pr(a)]){const n=new un([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[pr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new un(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function yr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function _r(t,e,n,r){return!!(pr(t)===r||r!==Be&&yr(e,n,t))&&("**"===t.path||br(e,t,n).matched)}function wr(t,e,n){return 0===e.length&&!t.children[n]}class Cr{constructor(t){this.segmentGroup=t||null}}class Or{constructor(t){this.urlTree=t}}function Sr(t){return new At.a(e=>e.error(new Cr(t)))}function Er(t){return new At.a(e=>e.error(new Or(t)))}function xr(t){return new At.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Tr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=mr(this.urlTree.root,[],[],this.config).segmentGroup,e=new un(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Be).pipe(Object(Ht.a)(t=>this.createUrlTree(Ir(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(oe(t=>{if(t instanceof Or)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Cr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Be).pipe(Object(Ht.a)(e=>this.createUrlTree(Ir(e),t.queryParams,t.fragment))).pipe(oe(t=>{if(t instanceof Cr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new un([],{[Be]:t}):t;return new an(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Ht.a)(t=>new un([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(_t.a)(r).pipe(ce(r=>{const i=n.children[r],o=gr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Ht.a)(t=>({segment:t,outlet:r})))}),Jt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ne((e,n)=>t(e,n,r)):_e.a,le(1),n?be(e):de(()=>new Lt))}())}expandSegment(t,e,n,r,i,o){return Object(_t.a)(n).pipe(ce(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(oe(t=>{if(t instanceof Cr)return Object(wt.a)(null);throw t}))),we(t=>!!t),oe((t,n)=>{if(t instanceof Lt||"EmptyError"===t.name){if(wr(e,r,i))return Object(wt.a)(new un([],{}));throw new Cr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return _r(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Sr(e):Sr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Er(i):this.lineralizeSegments(n,i).pipe(Object(ue.a)(n=>{const i=new un(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=br(e,r,i);if(!s)return Sr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Er(l):this.lineralizeSegments(r,l).pipe(Object(ue.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(wt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Ht.a)(t=>(n._loadedConfig=t,new un(r,{})))):Object(wt.a)(new un(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=br(e,n,r);if(!o)return Sr(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(ue.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=mr(e,s,u,o),l=new un(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Ht.a)(t=>new un(s,t)));if(0===o.length&&0===c.length)return Object(wt.a)(new un(s,{}));const h=pr(n)===i;return this.expandSegment(r,l,o,c,h?Be:i,!0).pipe(Object(Ht.a)(t=>new un(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(wt.a)(new ir(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(wt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ue.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Ht.a)(t=>(e._loadedConfig=t,t))):function(t){return new At.a(e=>e.error($e(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(wt.a)(new ir([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(wt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&or(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!or(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return en(o)});return Object(wt.a)(i).pipe(ur(),Object(Ce.a)(t=>{if(!sr(t))return;const e=$e(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Ht.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(wt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return xr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new an(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return tn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return tn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new un(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ir(t){const e={};for(const n of Object.keys(t.children)){const r=Ir(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new un(t.segments.concat(e.segments),e.children)}return t}(new un(t.segments,e))}class Pr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class jr{constructor(t,e){this.component=t,this.route=e}}function Ar(t,e,n){const r=t._root;return Dr(r,e?e._root:null,n,[r.value])}function kr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Dr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=An(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ln(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ln(t.url,e.url)||!Ke(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qn(t,e)||!Ke(t.queryParams,e.queryParams);case"paramsChange":default:return!Qn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Pr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Dr(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new jr(a.outlet.component,s))}else s&&Nr(e,a,i),i.canActivateChecks.push(new Pr(r)),Dr(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),tn(o,(t,e)=>Nr(t,n.getContext(e),i)),i}function Nr(t,e,n){const r=An(t),i=t.value;tn(r,(t,r)=>{Nr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new jr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Rr{}function Mr(t){return new At.a(e=>e.error(t))}class Lr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=mr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Be);if(null===e)return null;const n=new Mn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Be,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new jn(n,e),i=new Ln(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Rn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=gr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Ur(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Be?-1:e.value.outlet===Be?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return wr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!_r(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Je(n).parameters:{};i=new Mn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qr(t),pr(t),t.component,t,Fr(e),Vr(e)+n.length,qr(t))}else{const r=br(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Mn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qr(t),pr(t),t.component,t,Fr(e),Vr(e)+o.length,qr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=mr(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new jn(i,t)]}if(0===a.length&&0===c.length)return[new jn(i,[])];const l=pr(t)===r,h=this.processSegment(a,u,c,l?Be:r);return null===h?null:[new jn(i,h)]}}function Ur(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Fr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Vr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Qr(t){return t.data||{}}function qr(t){return t.resolve||{}}function Hr(t){return Bt(e=>{const n=t(e);return n?Object(_t.a)(n).pipe(Object(Ht.a)(()=>e)):Object(wt.a)(e)})}class zr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Br=new r.r("ROUTES");class Wr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(Ht.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new ir(Ze(i.injector.get(Br,void 0,r.q.Self|r.q.Optional)).map(dr),i)}),oe(t=>{throw e._loader$=void 0,t}));return e._loader$=new qt.a(n,()=>new Ct.a).pipe(Object(Oe.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(_t.a)(this.loader.load(t)):en(t()).pipe(Object(ue.a)(t=>t instanceof r.w?Object(wt.a)(t):Object(_t.a)(this.compiler.compileModuleAsync(t))))}}class Gr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $r,this.attachRef=null}}class $r{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Gr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Yr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Kr(t){throw t}function Xr(t,e,n){return e.parse("/")}function Zr(t,e){return Object(wt.a)(null)}let Jr=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ct.a,this.errorHandler=Kr,this.malformedUriErrorHandler=Xr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zr,afterPreactivation:Zr},this.urlHandlingStrategy=new Yr,this.routeReuseStrategy=new zr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.Y);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new an(new un([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wr(s,a,t=>this.triggerEvent(new Ue(t)),t=>this.triggerEvent(new Fe(t))),this.routerState=Dn(this.currentUrlTree,this.rootComponentType),this.transitions=new St({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ne(t=>0!==t.id),Object(Ht.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Bt(t=>{let n=!1,r=!1;return Object(wt.a)(t).pipe(Object(Ce.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Bt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(wt.a)(t).pipe(Bt(t=>{const n=this.transitions.getValue();return e.next(new Pe(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Vt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Bt(t=>function(t,e,n,r,i){return new Tr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Ht.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Ce.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(ue.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Lr(t,e,n,r,i,o).recognize();return null===s?Mr(new Rr):Object(wt.a)(s)}catch(Qw){return Mr(Qw)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Ht.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ce.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Pe(n,this.serializeUrl(r),i,o);e.next(a);const u=Dn(r,this.rootComponentType).snapshot;return Object(wt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Vt.a}),Hr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Ce.a)(t=>{const e=new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Ht.a)(t=>Object.assign(Object.assign({},t),{guards:Ar(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(ue.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(wt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(_t.a)(t).pipe(Object(ue.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(wt.a)(!0);const s=o.map(o=>{const s=kr(o,e,i);let a;if(function(t){return t&&or(t.canDeactivate)}(s))a=en(s.canDeactivate(t,e,n,r));else{if(!or(s))throw new Error("Invalid CanDeactivate guard");a=en(s(t,e,n,r))}return a.pipe(we())});return Object(wt.a)(s).pipe(ur())}(t.component,t.route,n,e,r)),we(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(ue.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(_t.a)(e).pipe(ce(e=>Ft(function(t,e){return null!==t&&e&&e(new Ve(t)),Object(wt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new qe(t)),Object(wt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Qt(()=>{const i=e.guards.map(i=>{const o=kr(i,e.node,n);let s;if(function(t){return t&&or(t.canActivateChild)}(o))s=en(o.canActivateChild(r,t));else{if(!or(o))throw new Error("Invalid CanActivateChild guard");s=en(o(r,t))}return s.pipe(we())});return Object(wt.a)(i).pipe(ur())}));return Object(wt.a)(i).pipe(ur())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(wt.a)(!0);const i=r.map(r=>Qt(()=>{const i=kr(r,e,n);let o;if(function(t){return t&&or(t.canActivate)}(i))o=en(i.canActivate(e,t));else{if(!or(i))throw new Error("Invalid CanActivate guard");o=en(i(e,t))}return o.pipe(we())}));return Object(wt.a)(i).pipe(ur())}(t,e.route,n))),we(t=>!0!==t,!0))}(r,o,t,e):Object(wt.a)(n)),Object(Ht.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ce.a)(t=>{if(sr(t.guardsResult)){const e=$e(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Re(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ne(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Hr(t=>{if(t.guards.canActivateChecks.length)return Object(wt.a)(t).pipe(Object(Ce.a)(t=>{const e=new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Bt(t=>{let n=!1;return Object(wt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(ue.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(wt.a)(t);let o=0;return Object(_t.a)(n).pipe(ce(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(wt.a)({});const o={};return Object(_t.a)(i).pipe(Object(ue.a)(i=>function(t,e,n,r){const i=kr(t,e,r);return en(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Ce.a)(t=>{o[i]=t}))),le(1),Object(ue.a)(()=>Object.keys(o).length===i.length?Object(wt.a)(o):Vt.a))}(t._resolve,t,e,r).pipe(Object(Ht.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Rn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Ce.a)(()=>o++),le(1),Object(ue.a)(e=>o===n.length?Object(wt.a)(t):Vt.a))})),Object(Ce.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Ce.a)(t=>{const e=new Le(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Hr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Ht.a)(t=>{const e=function(t,e,n){const r=qn(t,e._root,n?n._root:void 0);return new kn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Ce.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(Ht.a)(t=>(new nr(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),Object(Ce.a)({next(){n=!0},complete(){n=!0}}),Ee(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),oe(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=sr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ae(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new ke(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(ld){t.reject(ld)}}var i;return Vt.a}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){lr(t),this.config=t.map(dr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Wn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new $n(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return tn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new $n(n,e,r)}(n);if(o.toRoot())return Wn(e.root,new un([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Yn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Yn(t,t===e.root,0)}const r=zn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Yn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Xn(s.segmentGroup,s.index,o.commands):Kn(s.segmentGroup,s.index,o.commands);return Wn(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=sr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Qw){e=this.malformedUriErrorHandler(Qw,this.urlSerializer,t)}return e}isActive(t,e){if(sr(t))return nn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return nn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.N),r.Ub(hn),r.Ub($r),r.Ub(w),r.Ub(r.s),r.Ub(r.x),r.Ub(r.i),r.Ub(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ti=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Ct.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:ni(this.skipLocationChange),replaceUrl:ni(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ni(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Jr),r.Lb(Nn),r.Vb("tabindex"),r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Xb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.yb]}),t})(),ei=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Ct.a,this.subscription=t.events.subscribe(t=>{t instanceof je&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:ni(this.skipLocationChange),replaceUrl:ni(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ni(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Jr),r.Lb(Nn),r.Lb(v))},t.\u0275dir=r.Gb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Xb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Tb("href",e.href,r.kc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.yb]}),t})();function ni(t){return""===t||!!t}let ri=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Be,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ii(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb($r),r.Lb(r.Q),r.Lb(r.j),r.Vb("name"),r.Lb(r.h))},t.\u0275dir=r.Gb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ii{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Nn?this.route:t===$r?this.childContexts:this.parent.get(t,e)}}class oi{}class si{preload(t,e){return Object(wt.a)(null)}}let ai=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Wr(e,n,e=>t.triggerEvent(new Ue(e)),e=>t.triggerEvent(new Fe(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ne(t=>t instanceof je),ce(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(_t.a)(n).pipe(Object(Ut.a)(),Object(Ht.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(wt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(ue.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Jr),r.Ub(r.x),r.Ub(r.i),r.Ub(r.s),r.Ub(oi))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ui=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof je&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ze&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ze(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Jr),r.Ub(V),r.Ub(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const ci=new r.r("ROUTER_CONFIGURATION"),li=new r.r("ROUTER_FORROOT_GUARD"),hi=[w,{provide:hn,useClass:fn},{provide:Jr,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new Jr(null,t,e,n,r,i,s,Ze(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[hn,$r,w,r.s,r.x,r.i,Br,ci,[class{},new r.B],[class{},new r.B]]},$r,{provide:Nn,useFactory:function(t){return t.routerState.root},deps:[Jr]},{provide:r.x,useClass:r.K},ai,si,class{preload(t,e){return e().pipe(oe(()=>Object(wt.a)(null)))}},{provide:ci,useValue:{enableTracing:!1}}];function fi(){return new r.z("Router",Jr)}let di=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[hi,bi(e),{provide:li,useFactory:vi,deps:[[Jr,new r.B,new r.J]]},{provide:ci,useValue:n||{}},{provide:v,useFactory:gi,deps:[a,[new r.p(m),new r.B],ci]},{provide:ui,useFactory:pi,deps:[Jr,V,ci]},{provide:oi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:si},{provide:r.z,multi:!0,useFactory:fi},[mi,{provide:r.d,multi:!0,useFactory:yi,deps:[mi]},{provide:wi,useFactory:_i,deps:[mi]},{provide:r.b,multi:!0,useExisting:wi}]]}}static forChild(e){return{ngModule:t,providers:[bi(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(li,8),r.Ub(Jr,8))},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({}),t})();function pi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ui(t,e,n)}function gi(t,e,n={}){return n.useHash?new _(t,e):new y(t,e)}function vi(t){return"guarded"}function bi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Br,multi:!0,useValue:t}]}let mi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ct.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Jr),r=this.injector.get(ci);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(wt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(ci),n=this.injector.get(ai),i=this.injector.get(ui),o=this.injector.get(Jr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function yi(t){return t.appInitializer.bind(t)}function _i(t){return t.bootstrapListener.bind(t)}const wi=new r.r("Router Initializer");var Ci=n("XoHu");function Oi(t,e){return new At.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(_t.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Si=new r.r("NgValueAccessor"),Ei={provide:Si,useExisting:Object(r.U)(()=>xi),multi:!0};let xi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.zb([Ei])]}),t})();const Ti={provide:Si,useExisting:Object(r.U)(()=>Pi),multi:!0},Ii=new r.r("CompositionEventMode");let Pi=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l),r.Lb(Ii,8))},t.\u0275dir=r.Gb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Xb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([Ti])]}),t})();function ji(t){return null==t||0===t.length}function Ai(t){return null!=t&&"number"==typeof t.length}const ki=new r.r("NgValidators"),Di=new r.r("NgAsyncValidators"),Ni=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ri{static min(t){return e=>{if(ji(e.value)||ji(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(ji(e.value)||ji(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return ji(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return ji(t.value)||Ni.test(t.value)?null:{email:!0}}static minLength(t){return e=>ji(e.value)||!Ai(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Ai(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Ri.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(ji(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Mi);return 0==e.length?null:function(t){return Ui(Fi(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Mi);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(xt.a)(e))return Oi(e,null);if(Object(Ci.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Oi(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Oi(t=1===t.length&&Object(xt.a)(t[0])?t[0]:t,null).pipe(Object(Ht.a)(t=>e(...t)))}return Oi(t,null)}(Fi(t,e).map(Li)).pipe(Object(Ht.a)(Ui))}}}function Mi(t){return null!=t}function Li(t){const e=Object(r.rb)(t)?Object(_t.a)(t):t;return Object(r.qb)(e),e}function Ui(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Fi(t,e){return e.map(e=>e(t))}function Vi(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Qi(t){return null!=t?Ri.compose(Vi(t)):null}function qi(t){return null!=t?Ri.composeAsync(Vi(t)):null}function Hi(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function zi(t){return t._rawValidators}function Bi(t){return t._rawAsyncValidators}let Wi=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Qi(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=qi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t}),t})(),Gi=(()=>{class t extends Wi{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return $i(e||t)},t.\u0275dir=r.Gb({type:t,features:[r.xb]}),t})();const $i=r.Sb(Gi);class Yi extends Wi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ki{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let Xi=(()=>{class t extends Ki{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Yi,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})(),Zi=(()=>{class t extends Ki{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Gi,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})();const Ji={provide:Si,useExisting:Object(r.U)(()=>to),multi:!0};let to=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([Ji])]}),t})();const eo={provide:Si,useExisting:Object(r.U)(()=>ro),multi:!0};let no=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ro=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Yi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l),r.Lb(no),r.Lb(r.s))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([eo])]}),t})();const io={provide:Si,useExisting:Object(r.U)(()=>oo),multi:!0};let oo=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([io])]}),t})();const so={provide:Si,useExisting:Object(r.U)(()=>ao),multi:!0};let ao=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([so])]}),t})();const uo={provide:Si,useExisting:Object(r.U)(()=>co),multi:!0};let co=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Xb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([uo])]}),t})();function lo(t,e){po(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&vo(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&vo(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ho(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),go(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function fo(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function po(t,e,n){const r=zi(t);null!==e.validator?t.setValidators(Hi(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Bi(t);if(null!==e.asyncValidator?t.setAsyncValidators(Hi(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();fo(e._rawValidators,n),fo(e._rawAsyncValidators,n)}}function go(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=zi(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=Bi(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};fo(e._rawValidators,t),fo(e._rawAsyncValidators,t)}return r}function vo(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bo(t,e){po(t,e,!1)}const mo=[xi,oo,to,ao,co,ro];function yo(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function _o(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const wo="VALID",Co="INVALID",Oo="PENDING",So="DISABLED";function Eo(t){return(Po(t)?t.validators:t)||null}function xo(t){return Array.isArray(t)?Qi(t):t||null}function To(t,e){return(Po(e)?e.asyncValidators:t)||null}function Io(t){return Array.isArray(t)?qi(t):t||null}function Po(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class jo{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=xo(this._rawValidators),this._composedAsyncValidatorFn=Io(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===wo}get invalid(){return this.status===Co}get pending(){return this.status==Oo}get disabled(){return this.status===So}get enabled(){return this.status!==So}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=xo(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Io(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Oo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=So,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=wo,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==wo&&this.status!==Oo||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?So:wo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Oo,this._hasOwnPendingAsyncValidator=!0;const e=Li(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof ko?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Do&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?So:this.errors?Co:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oo)?Oo:this._anyControlsHaveStatus(Co)?Co:wo}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Po(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ao extends jo{constructor(t=null,e,n){super(Eo(e),To(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){_o(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){_o(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ko extends jo{constructor(t,e,n){super(Eo(e),To(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ao?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Do extends jo{constructor(t,e,n){super(Eo(e),To(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ao?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const No={provide:Gi,useExisting:Object(r.U)(()=>Mo)},Ro=(()=>Promise.resolve(null))();let Mo=(()=>{class t extends Gi{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new ko({},Qi(t),qi(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ro.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),lo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ro.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),_o(this._directives,t)})}addFormGroup(t){Ro.then(()=>{const e=this._findContainer(t.path),n=new ko({});bo(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ro.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Ro.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,yo(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ki,10),r.Lb(Di,10))},t.\u0275dir=r.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Xb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([No]),r.xb]}),t})(),Lo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Uo=new r.r("NgModelWithFormControlWarning"),Fo={provide:Gi,useExisting:Object(r.U)(()=>Vo)};let Vo=(()=>{class t extends Gi{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(go(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return lo(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){ho(t.control||null,t,!1),_o(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,yo(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(ho(t.control||null,t),e&&lo(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);bo(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return go(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){po(this.form,this,!1),this._oldForm&&go(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ki,10),r.Lb(Di,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Xb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([Fo]),r.xb,r.yb]}),t})();const Qo={provide:Yi,useExisting:Object(r.U)(()=>qo)};let qo=(()=>{class t extends Yi{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===Pi?n=t:(e=t,mo.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Gi,13),r.Lb(ki,10),r.Lb(Di,10),r.Lb(Si,10),r.Lb(Uo,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([Qo]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})();const Ho={provide:ki,useExisting:Object(r.U)(()=>zo),multi:!0};let zo=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?Ri.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("required",e.required?"":null)},inputs:{required:"required"},features:[r.zb([Ho])]}),t})(),Bo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({}),t})(),Wo=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new ko(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new Ao(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Do(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Ao||t instanceof ko||t instanceof Do?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Go=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[no],imports:[Bo]}),t})(),$o=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Uo,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[Wo,no],imports:[Bo]}),t})();var Yo=n("mrSG"),Ko=n("VRyK"),Xo=n("pxpQ"),Zo=n("qgXg"),Jo=n("Ylt2");class ts extends Ct.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new es(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Ot.a;if(this.isStopped||this.hasError?o=Se.a.EMPTY:(this.observers.push(t),o=new Jo.a(this,t)),r&&t.add(t=new Xo.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Zo.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class es{constructor(t,e){this.time=t,this.value=e}}function ns(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new ts(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function rs(t,e){return e?Bt(()=>t,e):Bt(()=>t)}var is=n("tf+s"),os=n("aOsy");const ss=new r.r("angularfire2.auth.use-emulator"),as=new r.r("angularfire2.auth.settings"),us=new r.r("angularfire2.auth.tenant-id"),cs=new r.r("angularfire2.auth.langugage-code"),ls=new r.r("angularfire2.auth.use-device-language"),hs=new r.r("angularfire.auth.persistence");let fs=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new os.d(i),f=Object(os.h)(h),d=new Ct.a,p=Object(wt.a)(void 0).pipe(Object(Xo.b)(h.outsideAngular),Bt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"WjkD")))),Object(Ht.a)(()=>Object(os.g)(t,i,e)),Object(Ht.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(os.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),ns({bufferSize:1,refCount:!1}));if(F(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(wt.a)(null);else{p.pipe(we()).subscribe();const t=p.pipe(Bt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,ns({bufferSize:1,refCount:!1})),e=t=>new At.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Bt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Bt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(rs(n),Object(is.a)(h.outsideAngular),Object(Xo.b)(h.insideAngular)),this.user=t.pipe(rs(r),Object(is.a)(h.outsideAngular),Object(Xo.b)(h.insideAngular)),this.idToken=this.user.pipe(Bt(t=>t?Object(_t.a)(t.getIdToken()):Object(wt.a)(null))),this.idTokenResult=this.user.pipe(Bt(t=>t?Object(_t.a)(t.getIdTokenResult()):Object(wt.a)(null))),this.credential=Object(Ko.a)(t,d,this.authState.pipe(ne(t=>!t))).pipe(Object(Ht.a)(t=>(null==t?void 0:t.user)?t:null),Object(is.a)(h.outsideAngular),Object(Xo.b)(h.insideAngular))}return Object(os.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(os.c),r.Ub(os.b,8),r.Ub(r.C),r.Ub(r.A),r.Ub(ss,8),r.Ub(as,8),r.Ub(us,8),r.Ub(cs,8),r.Ub(ls,8),r.Ub(hs,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(os.c),Object(r.Ub)(os.b,8),Object(r.Ub)(r.C),Object(r.Ub)(r.A),Object(r.Ub)(ss,8),Object(r.Ub)(as,8),Object(r.Ub)(us,8),Object(r.Ub)(cs,8),Object(r.Ub)(ls,8),Object(r.Ub)(hs,8))},token:t,providedIn:"any"}),t})();Object(os.e)(fs,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let ds=(()=>{class t{constructor(t){this.angularFireAuth=t}signin(t,e){return Object(Yo.b)(this,void 0,void 0,function*(){yield this.angularFireAuth.signInWithEmailAndPassword(t,e)})}signup(t,e){return Object(Yo.b)(this,void 0,void 0,function*(){yield this.angularFireAuth.createUserWithEmailAndPassword(t,e)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(fs))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ps(t){return e=>e.lift(new gs(t))}class gs{constructor(t){this.total=t}call(t,e){return e.subscribe(new vs(t,this.total))}}class vs extends Tt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}var bs=n("mCNh");function ms(t,e,n){return 0===n?[e]:(t.push(e),t)}var ys=n("D0XW"),_s=n("WMd4");class ws{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new Cs(t,this.delay,this.scheduler))}}class Cs extends Tt.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(Cs.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new Os(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(_s.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(_s.a.createComplete()),this.unsubscribe()}}class Os{constructor(t,e){this.time=t,this.notification=e}}function Ss(t,e=null){return{type:4,styles:e,timings:t}}function Es(t){return{type:6,styles:t,offset:null}}function xs(t,e,n){return{type:0,name:t,styles:e,options:n}}function Ts(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}const Is=function(t,e){return{isMouseDragable:t,isTouchDragable:e}};function Ps(t,e){if(1&t&&(r.Qb(0,"div",4),r.Mb(1,"owl-stage",5),r.Pb()),2&t){const t=r.Zb();r.Ab(1),r.ac("owlDraggable",r.cc(3,Is,null==t.owlDOMData?null:t.owlDOMData.isMouseDragable,null==t.owlDOMData?null:t.owlDOMData.isTouchDragable))("stageData",t.stageData)("slidesData",t.slidesData)}}const js=function(t,e){return{active:t,"owl-dot-text":e}};function As(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",11),r.Xb("click",function(){r.hc(t);const n=e.$implicit;return r.Zb(2).moveByDot(n.id)}),r.Mb(1,"span",12),r.Pb()}if(2&t){const t=e.$implicit;r.ac("ngClass",r.cc(2,js,t.active,t.showInnerContent)),r.Ab(1),r.ac("innerHTML",t.innerContent,r.ic)}}const ks=function(t){return{disabled:t}};function Ds(t,e){if(1&t){const t=r.Rb();r.Ob(0),r.Qb(1,"div",6),r.Qb(2,"div",7),r.Xb("click",function(){return r.hc(t),r.Zb().prev()}),r.Pb(),r.Qb(3,"div",8),r.Xb("click",function(){return r.hc(t),r.Zb().next()}),r.Pb(),r.Pb(),r.Qb(4,"div",9),r.mc(5,As,2,5,"div",10),r.Pb(),r.Nb()}if(2&t){const t=r.Zb();r.Ab(1),r.ac("ngClass",r.bc(7,ks,null==t.navData?null:t.navData.disabled)),r.Ab(1),r.ac("ngClass",r.bc(9,ks,null==t.navData||null==t.navData.prev?null:t.navData.prev.disabled))("innerHTML",null==t.navData||null==t.navData.prev?null:t.navData.prev.htmlText,r.ic),r.Ab(1),r.ac("ngClass",r.bc(11,ks,null==t.navData||null==t.navData.next?null:t.navData.next.disabled))("innerHTML",null==t.navData||null==t.navData.next?null:t.navData.next.htmlText,r.ic),r.Ab(1),r.ac("ngClass",r.bc(13,ks,null==t.dotsData?null:t.dotsData.disabled)),r.Ab(1),r.ac("ngForOf",null==t.dotsData?null:t.dotsData.dots)}}const Ns=function(t,e,n,r,i){return{"owl-rtl":t,"owl-loaded":e,"owl-responsive":n,"owl-drag":r,"owl-grab":i}};function Rs(t,e){}function Ms(t,e){if(1&t&&r.mc(0,Rs,0,0,"ng-template",4),2&t){const t=r.Zb().$implicit;r.ac("ngTemplateOutlet",t.tplRef)}}const Ls=function(t,e,n,r){return{width:t,"margin-left":e,"margin-right":n,left:r}};function Us(t,e){if(1&t){const t=r.Rb();r.Ob(0),r.Qb(1,"div",2),r.Xb("animationend",function(){r.hc(t);const n=e.$implicit;return r.Zb().clear(n.id)}),r.mc(2,Ms,1,1,void 0,3),r.Pb(),r.Nb()}if(2&t){const t=e.$implicit;r.Ab(1),r.ac("ngClass",t.classes)("ngStyle",r.dc(4,Ls,t.width+"px",t.marginL?t.marginL+"px":"",t.marginR?t.marginR+"px":"",t.left))("@autoHeight",t.heightState),r.Ab(1),r.ac("ngIf",t.load)}}const Fs=function(t,e,n,r,i){return{width:t,transform:e,transition:n,"padding-left":r,"padding-right":i}};let Vs=(()=>{class t{constructor(t){this.eventManager=t,this.resizeSubject=new Ct.a,this.eventManager.addGlobalEventListener("window","resize",this.onResize.bind(this)),this.eventManager.addGlobalEventListener("window","onload",this.onLoaded.bind(this))}get onResize$(){return this.resizeSubject.asObservable()}onResize(t){this.resizeSubject.next(t.target)}onLoaded(t){this.windowWidth=t.target}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(K))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class Qs{constructor(){this.items=3,this.skip_validateItems=!1,this.loop=!1,this.center=!1,this.rewind=!1,this.mouseDrag=!0,this.touchDrag=!0,this.pullDrag=!0,this.freeDrag=!1,this.margin=0,this.stagePadding=0,this.merge=!1,this.mergeFit=!0,this.autoWidth=!1,this.startPosition=0,this.rtl=!1,this.smartSpeed=250,this.fluidSpeed=!1,this.dragEndSpeed=!1,this.responsive={},this.responsiveRefreshRate=200,this.nav=!1,this.navText=["prev","next"],this.navSpeed=!1,this.slideBy=1,this.dots=!0,this.dotsEach=!1,this.dotsData=!1,this.dotsSpeed=!1,this.autoplay=!1,this.autoplayTimeout=5e3,this.autoplayHoverPause=!1,this.autoplaySpeed=!1,this.autoplayMouseleaveTimeout=1,this.lazyLoad=!1,this.lazyLoadEager=0,this.slideTransition="",this.animateOut=!1,this.animateIn=!1,this.autoHeight=!1,this.URLhashListener=!1}}class qs{constructor(){this.items="number",this.skip_validateItems="boolean",this.loop="boolean",this.center="boolean",this.rewind="boolean",this.mouseDrag="boolean",this.touchDrag="boolean",this.pullDrag="boolean",this.freeDrag="boolean",this.margin="number",this.stagePadding="number",this.merge="boolean",this.mergeFit="boolean",this.autoWidth="boolean",this.startPosition="number|string",this.rtl="boolean",this.smartSpeed="number",this.fluidSpeed="boolean",this.dragEndSpeed="number|boolean",this.responsive={},this.responsiveRefreshRate="number",this.nav="boolean",this.navText="string[]",this.navSpeed="number|boolean",this.slideBy="number|string",this.dots="boolean",this.dotsEach="number|boolean",this.dotsData="boolean",this.dotsSpeed="number|boolean",this.autoplay="boolean",this.autoplayTimeout="number",this.autoplayHoverPause="boolean",this.autoplaySpeed="number|boolean",this.autoplayMouseleaveTimeout="number",this.lazyLoad="boolean",this.lazyLoadEager="number",this.slideTransition="string",this.animateOut="string|boolean",this.animateIn="string|boolean",this.autoHeight="boolean",this.URLhashListener="boolean"}}let Hs=(()=>{class t{constructor(t){this.errorHandler=t}log(t,...e){Object(r.V)()&&console.log(t,...e)}error(t){this.errorHandler.handleError(t)}warn(t,...e){console.warn(t,...e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.m))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();var zs=function(t){return t.Event="event",t.State="state",t}({}),Bs=function(t){return t.Default="default",t.Inner="inner",t.Outer="outer",t}({});let Ws=(()=>{class t{constructor(t){this.logger=t,this._viewSettingsShipper$=new Ct.a,this._initializedCarousel$=new Ct.a,this._changeSettingsCarousel$=new Ct.a,this._changedSettingsCarousel$=new Ct.a,this._translateCarousel$=new Ct.a,this._translatedCarousel$=new Ct.a,this._resizeCarousel$=new Ct.a,this._resizedCarousel$=new Ct.a,this._refreshCarousel$=new Ct.a,this._refreshedCarousel$=new Ct.a,this._dragCarousel$=new Ct.a,this._draggedCarousel$=new Ct.a,this.settings={items:0},this.owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1},this.stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0},this._items=[],this._widths=[],this._supress={},this._plugins={},this._current=null,this._clones=[],this._mergers=[],this._speed=null,this._coordinates=[],this._breakpoint=null,this.clonedIdPrefix="cloned-",this._options={},this._invalidated={},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},this._pipe=[{filter:["width","items","settings"],run:t=>{t.current=this._items&&this._items[this.relative(this._current)].id}},{filter:["width","items","settings"],run:t=>{const e=this.settings.margin||"",n=this.settings.rtl,r={"margin-left":n?e:"","margin-right":n?"":e};!this.settings.autoWidth||this.slidesData.forEach(t=>{t.marginL=r["margin-left"],t.marginR=r["margin-right"]}),t.css=r}},{filter:["width","items","settings"],run:t=>{const e=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,n=!this.settings.autoWidth,r=[];let i=null,o=this._items.length;for(t.items={merge:!1,width:e};o--;)i=this._mergers[o],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=i>1||t.items.merge,r[o]=n?e*i:this._items[o].width?this._items[o].width:e;this._widths=r,this.slidesData.forEach((e,n)=>{e.width=this._widths[n],e.marginR=t.css["margin-right"],e.marginL=t.css["margin-left"]})}},{filter:["items","settings"],run:()=>{const t=[],e=this._items,n=this.settings,r=Math.max(2*n.items,4),i=2*Math.ceil(e.length/2);let o=[],s=[],a=n.loop&&e.length?n.rewind?r:Math.max(r,i):0;for(a/=2;a--;)t.push(this.normalize(t.length/2,!0)),o.push(Object.assign({},this.slidesData[t[t.length-1]])),t.push(this.normalize(e.length-1-(t.length-1)/2,!0)),s.unshift(Object.assign({},this.slidesData[t[t.length-1]]));this._clones=t,o=o.map(t=>(t.id=`${this.clonedIdPrefix}${t.id}`,t.isActive=!1,t.isCloned=!0,t)),s=s.map(t=>(t.id=`${this.clonedIdPrefix}${t.id}`,t.isActive=!1,t.isCloned=!0,t)),this.slidesData=s.concat(this.slidesData).concat(o)}},{filter:["width","items","settings"],run:()=>{const t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,n=[];let r=-1,i=0,o=0;for(;++r<e;)i=n[r-1]||0,o=this._widths[this.relative(r)]+this.settings.margin,n.push(i+o*t);this._coordinates=n}},{filter:["width","items","settings"],run:()=>{const t=this.settings.stagePadding,e=this._coordinates,n={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.stageData.width=n.width,this.stageData.paddingL=n["padding-left"],this.stageData.paddingR=n["padding-right"]}},{filter:["width","items","settings"],run:t=>{let e=t.current?this.slidesData.findIndex(e=>e.id===t.current):0;e=Math.max(this.minimum(),Math.min(this.maximum(),e)),this.reset(e)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{const t=this.settings.rtl?1:-1,e=2*this.settings.stagePadding,n=[];let r,i,o,s,a,u;if(r=this.coordinates(this.current()),"number"==typeof r?r+=e:r=0,i=r+this.width()*t,-1===t&&this.settings.center){const t=this._coordinates.filter(t=>this.settings.items%2==1?t>=r:t>r);r=t.length?t[t.length-1]:r}for(a=0,u=this._coordinates.length;a<u;a++)o=Math.ceil(this._coordinates[a-1]||0),s=Math.ceil(Math.abs(this._coordinates[a])+e*t),(this._op(o,"<=",r)&&this._op(o,">",i)||this._op(s,"<",r)&&this._op(s,">",i))&&n.push(a);this.slidesData.forEach(t=>(t.isActive=!1,t)),n.forEach(t=>{this.slidesData[t].isActive=!0}),this.settings.center&&(this.slidesData.forEach(t=>(t.isCentered=!1,t)),this.slidesData[this.current()].isCentered=!0)}}]}get invalidated(){return this._invalidated}get states(){return this._states}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(t){const e=new Qs,n=this._validateOptions(t,e);this._options=Object.assign(Object.assign({},e),n)}_validateOptions(t,e){const n=Object.assign({},t),r=new qs,i=(n,r)=>(this.logger.log(`options.${r} must be type of ${n}; ${r}=${t[r]} skipped to defaults: ${r}=${e[r]}`),e[r]);for(const o in n)if(n.hasOwnProperty(o))if("number"===r[o])this._isNumeric(n[o])?(n[o]=+n[o],n[o]="items"===o?this._validateItems(n[o],n.skip_validateItems):n[o]):n[o]=i(r[o],o);else if("boolean"===r[o]&&"boolean"!=typeof n[o])n[o]=i(r[o],o);else if("number|boolean"!==r[o]||this._isNumberOrBoolean(n[o]))if("number|string"!==r[o]||this._isNumberOrString(n[o]))if("string|boolean"!==r[o]||this._isStringOrBoolean(n[o])){if("string[]"===r[o])if(Array.isArray(n[o])){let t=!1;n[o].forEach(e=>{t="string"==typeof e}),t||(n[o]=i(r[o],o))}else n[o]=i(r[o],o)}else n[o]=i(r[o],o);else n[o]=i(r[o],o);else n[o]=i(r[o],o);return n}_validateItems(t,e){let n=t;return t>this._items.length?e?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(n=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):t===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),n}setCarouselWidth(t){this._width=t}setup(t,e,n){this.setCarouselWidth(t),this.setItems(e),this._defineSlidesData(),this.setOptions(n),this.settings=Object.assign({},this._options),this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){const t=this._width,e=this._options.responsive;let n=-1;if(!Object.keys(e).length)return;if(!t)return void(this.settings.items=1);for(const i in e)e.hasOwnProperty(i)&&+i<=t&&+i>n&&(n=Number(i));this.settings=Object.assign(Object.assign(Object.assign({},this._options),e[n]),{items:e[n]&&e[n].items?this._validateItems(e[n].items,this._options.skip_validateItems):this._options.items}),delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;const r=[];this._items.forEach(t=>{r.push(this.settings.merge?t.dataMerge:1)}),this._mergers=r,this._breakpoint=n,this.invalidate("settings")}initialize(t){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),t.forEach(t=>{this._mergers.push(this.settings.merge?t.dataMerge:1)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let t=0;const e=this._pipe.length,n=t=>this._invalidated[t],r={};for(;t<e;){const e=this._pipe[t].filter.filter(n);(this._invalidated.all||e.length>0)&&this._pipe[t].run(r),t++}this.slidesData.forEach(t=>t.classes=this.setCurSlideClasses(t)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(t){switch(t=t||Bs.Default){case Bs.Inner:case Bs.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(t){if(!this._items.length)return!1;this.setCarouselWidth(t),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(t){let e,n=null;return e=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),n={x:+e[0],y:+e[1]},this.is("animating")&&this.invalidate("position"),"mousedown"===t.type&&(this.owlDOMData.isGrab=!0),this.speed(0),n}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(t,e){let n=null,r=null,i=null;const o=this.difference(e.pointer,this.pointer(t)),s=this.difference(e.stage.start,o);return!!this.is("dragging")&&(this.settings.loop?(n=this.coordinates(this.minimum()),r=+this.coordinates(this.maximum()+1)-n,s.x=((s.x-n)%r+r)%r+n):(n=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),r=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),i=this.settings.pullDrag?-1*o.x/5:0,s.x=Math.max(Math.min(s.x,n+i),r+i)),s)}finishDragging(t,e,n){const r=this.difference(e.pointer,this.pointer(t)),i=e.stage.current,o=["right","left"][+(this.settings.rtl?r.x<+this.settings.rtl:r.x>+this.settings.rtl)];let s,a,u;(0!==r.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),s=this.closest(i.x,0!==r.x?o:e.direction),a=this.current(),u=this.current(-1===s?void 0:s),a!==u&&(this.invalidate("position"),this.update()),e.direction=o,(Math.abs(r.x)>3||(new Date).getTime()-e.time>300)&&n()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(t,e){const n=30,r=this.width();let i=this.coordinates(),o=-1;this.settings.center&&(i=i.map(t=>(0===t&&(t+=1e-6),t)));for(let s=0;s<i.length&&("left"===e&&t>i[s]-n&&t<i[s]+n?o=s:"right"===e&&t>i[s]-r-n&&t<i[s]-r+n?o=s+1:this._op(t,"<",i[s])&&this._op(t,">",i[s+1]||i[s]-r)?o="left"===e?s+1:s:null===e&&t>i[s]-n&&t<i[s]+n&&(o=s),-1===o);s++);return this.settings.loop||(this._op(t,">",i[this.minimum()])?o=t=this.minimum():this._op(t,"<",i[this.maximum()])&&(o=t=this.maximum())),o}animate(t){const e=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),e&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+t+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(t){return this._states.current[t]&&this._states.current[t]>0}current(t){return void 0===t?this._current:0!==this._items.length?(t=this.normalize(t),this._current!==t&&(this._trigger("change",{property:{name:"position",value:t}}),this._current=t,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})),this._current):void 0}invalidate(t){return"string"==typeof t&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(t){void 0!==(t=this.normalize(t))&&(this._speed=0,this._current=t,this._suppress(["translate","translated"]),this.animate(this.coordinates(t)),this._release(["translate","translated"]))}normalize(t,e){const n=this._items.length,r=e?0:this._clones.length;return!this._isNumeric(t)||n<1?t=void 0:(t<0||t>=n+r)&&(t=((t-r/2)%n+n)%n+r/2),t}relative(t){return this.normalize(t-=this._clones.length/2,!0)}maximum(t=!1){const e=this.settings;let n,r,i,o=this._coordinates.length;if(e.loop)o=this._clones.length/2+this._items.length-1;else if(e.autoWidth||e.merge){for(n=this._items.length,r=this.slidesData[--n].width,i=this._width;n--&&(r+=+this.slidesData[n].width+this.settings.margin,!(r>i)););o=n+1}else o=e.center?this._items.length-1:this._items.length-e.items;return t&&(o-=this._clones.length/2),Math.max(o,0)}minimum(t=!1){return t?0:this._clones.length/2}items(t){return void 0===t?this._items.slice():(t=this.normalize(t,!0),[this._items[t]])}mergers(t){return void 0===t?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])}clones(t){const e=this._clones.length/2,n=e+this._items.length,r=t=>t%2==0?n+t/2:e-(t+1)/2;return void 0===t?this._clones.map((t,e)=>r(e)):this._clones.map((e,n)=>e===t?r(n):null).filter(t=>t)}speed(t){return void 0!==t&&(this._speed=t),this._speed}coordinates(t){let e,n,r=1,i=t-1;return void 0===t?(n=this._coordinates.map((t,e)=>this.coordinates(e)),n):(this.settings.center?(this.settings.rtl&&(r=-1,i=t+1),e=this._coordinates[t],e+=(this.width()-e+(this._coordinates[i]||0))/2*r):e=this._coordinates[i]||0,e=Math.ceil(e),e)}_duration(t,e,n){return 0===n?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(+n||this.settings.smartSpeed)}to(t,e){let n=this.current(),r=null,i=t-this.relative(n),o=this.maximum(),s=0;const a=+(i>0)-+(i<0),u=this._items.length,c=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(i)>u/2&&(i+=-1*a*u),r=(((t=n+i)-c)%u+u)%u+c,r!==t&&r-i<=o&&r-i>0&&(n=r-i,t=r,s=30,this.reset(n),this.sendChanges())):this.settings.rewind?(o+=1,t=(t%o+o)%o):t=Math.max(c,Math.min(o,t)),setTimeout(()=>{this.speed(this._duration(n,t,e)),this.current(t),this.update()},s)}next(t){t=t||!1,this.to(this.relative(this.current())+1,t)}prev(t){t=t||!1,this.to(this.relative(this.current())-1,t)}onTransitionEnd(t){if(void 0!==t)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let t;return this._width?t=this._width:this.logger.log("Can not detect viewport width."),t}setItems(t){this._items=t}_defineSlidesData(){let t;this.slidesData&&this.slidesData.length&&(t=new Map,this.slidesData.forEach(e=>{e.load&&t.set(e.id,e.load)})),this.slidesData=this._items.map(e=>({id:`${e.id}`,isActive:!1,tplRef:e.tplRef,dataMerge:e.dataMerge,width:0,isCloned:!1,load:!!t&&t.get(e.id),hashFragment:e.dataHash}))}setCurSlideClasses(t){const e={active:t.isActive,center:t.isCentered,cloned:t.isCloned,animated:t.isAnimated,"owl-animated-in":t.isDefAnimatedIn,"owl-animated-out":t.isDefAnimatedOut};return this.settings.animateIn&&(e[this.settings.animateIn]=t.isCustomAnimatedIn),this.settings.animateOut&&(e[this.settings.animateOut]=t.isCustomAnimatedOut),e}_op(t,e,n){const r=this.settings.rtl;switch(e){case"<":return r?t>n:t<n;case">":return r?t<n:t>n;case">=":return r?t<=n:t>=n;case"<=":return r?t>=n:t<=n}}_trigger(t,e,n,r,i){switch(t){case"initialized":this._initializedCarousel$.next(t);break;case"change":this._changeSettingsCarousel$.next(e);break;case"changed":this._changedSettingsCarousel$.next(e);break;case"drag":this._dragCarousel$.next(t);break;case"dragged":this._draggedCarousel$.next(t);break;case"resize":this._resizeCarousel$.next(t);break;case"resized":this._resizedCarousel$.next(t);break;case"refresh":this._refreshCarousel$.next(t);break;case"refreshed":this._refreshedCarousel$.next(t);break;case"translate":this._translateCarousel$.next(t);break;case"translated":this._translatedCarousel$.next(t)}}enter(t){[t].concat(this._states.tags[t]||[]).forEach(t=>{void 0===this._states.current[t]&&(this._states.current[t]=0),this._states.current[t]++})}leave(t){[t].concat(this._states.tags[t]||[]).forEach(t=>{(0===this._states.current[t]||this._states.current[t])&&this._states.current[t]--})}register(t){t.type===zs.State&&(this._states.tags[t.name]=this._states.tags[t.name]?this._states.tags[t.name].concat(t.tags):t.tags,this._states.tags[t.name]=this._states.tags[t.name].filter((e,n)=>this._states.tags[t.name].indexOf(e)===n))}_suppress(t){t.forEach(t=>{this._supress[t]=!0})}_release(t){t.forEach(t=>{delete this._supress[t]})}pointer(t){const e={x:null,y:null};return(t=(t=t.originalEvent||t||window.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX,e.y=t.clientY),e}_isNumeric(t){return!isNaN(parseFloat(t))}_isNumberOrBoolean(t){return this._isNumeric(t)||"boolean"==typeof t}_isNumberOrString(t){return this._isNumeric(t)||"string"==typeof t}_isStringOrBoolean(t){return"string"==typeof t||"boolean"==typeof t}difference(t,e){return{x:t.x-e.x,y:t.y-e.y}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Hs))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Gs=(()=>{class t{constructor(t){this.carouselService=t,this._initialized=!1,this._pages=[],this._navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}},this._dotsData={disabled:!1,dots:[]},this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe(Object(Ce.a)(t=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),e=this.carouselService.getChangedState().pipe(ne(t=>"position"===t.property.name),Object(Ce.a)(t=>{this.update()})),n=this.carouselService.getRefreshedState().pipe(Object(Ce.a)(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),r=Object(Ko.a)(t,e,n);this.navSubscription=r.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let t,e,n;const r=this.carouselService.clones().length/2,i=r+this.carouselService.items().length,o=this.carouselService.maximum(!0),s=[],a=this.carouselService.settings;let u=a.center||a.autoWidth||a.dotsData?1:a.dotsEach||a.items;if(u=+u,"page"!==a.slideBy&&(a.slideBy=Math.min(+a.slideBy,a.items)),a.dots||"page"===a.slideBy)for(t=r,e=0,n=0;t<i;t++){if(e>=u||0===e){if(s.push({start:Math.min(o,t-r),end:t-r+u-1}),Math.min(o,t-r)===o)break;e=0,++n}e+=this.carouselService.mergers(this.carouselService.relative(t))}this._pages=s}draw(){let t;const e=this.carouselService.settings,n=this.carouselService.items(),r=n.length<=e.items;if(this._navData.disabled=!e.nav||r,this._dotsData.disabled=!e.dots||r,e.dots)if(t=this._pages.length-this._dotsData.dots.length,e.dotsData&&0!==t)this._dotsData.dots=[],n.forEach(t=>{this._dotsData.dots.push({active:!1,id:`dot-${t.id}`,innerContent:t.dotContent,showInnerContent:!0})});else if(t>0){const e=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let n=0;n<t;n++)this._dotsData.dots.push({active:!1,id:`dot-${n+e}`,innerContent:"",showInnerContent:!1})}else t<0&&this._dotsData.dots.splice(t,Math.abs(t));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){const t=this.carouselService.settings,e=t.loop||t.rewind,n=this.carouselService.relative(this.carouselService.current());t.nav&&(this._navData.prev.disabled=!e&&n<=this.carouselService.minimum(!0),this._navData.next.disabled=!e&&n>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let t;this.carouselService.settings.dots&&(this._dotsData.dots.forEach(t=>{!0===t.active&&(t.active=!1)}),t=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[t].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){const t=this.carouselService.relative(this.carouselService.current());let e;const n=this._pages.filter((e,n)=>e.start<=t&&e.end>=t).pop();return e=this._pages.findIndex(t=>t.start===n.start&&t.end===n.end),e}_getPosition(t){let e,n;const r=this.carouselService.settings;return"page"===r.slideBy?(e=this._current(),n=this._pages.length,t?++e:--e,e=this._pages[(e%n+n)%n].start):(e=this.carouselService.relative(this.carouselService.current()),n=this.carouselService.items().length,t?e+=+r.slideBy:e-=+r.slideBy),e}next(t){this.carouselService.to(this._getPosition(!0),t)}prev(t){this.carouselService.to(this._getPosition(!1),t)}to(t,e,n){let r;!n&&this._pages.length?(r=this._pages.length,this.carouselService.to(this._pages[(t%r+r)%r].start,e)):this.carouselService.to(t,e)}moveByDot(t){const e=this._dotsData.dots.findIndex(e=>t===e.id);this.to(e,this.carouselService.settings.dotsSpeed)}toSlideById(t){const e=this.carouselService.slidesData.findIndex(e=>e.id===t&&!1===e.isCloned);-1!==e&&e!==this.carouselService.current()&&this.carouselService.to(this.carouselService.relative(e),!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ws))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const $s=new r.r("WindowToken");class Ys{get nativeWindow(){throw new Error("Not implemented.")}}const Ks=[{provide:Ys,useClass:(()=>{class t extends Ys{constructor(){super()}get nativeWindow(){return window}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})()},{provide:$s,useFactory:function(t,e){return U(e)?t.nativeWindow:{setTimeout:(t,e)=>{},clearTimeout:t=>{}}},deps:[Ys,r.C]}],Xs=new r.r("DocumentToken");class Zs{get nativeDocument(){throw new Error("Not implemented.")}}const Js=[{provide:Zs,useClass:(()=>{class t extends Zs{constructor(){super()}get nativeDocument(){return document}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})()},{provide:Xs,useFactory:function(t,e){return U(e)?t.nativeDocument:{hidden:!1,visibilityState:"visible"}},deps:[Zs,r.C]}];let ta=(()=>{class t{constructor(t,e,n){this.carouselService=t,this._timeout=null,this._paused=!1,this.winRef=e,this.docRef=n,this.spyDataStreams()}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe(Object(Ce.a)(()=>{this.carouselService.settings.autoplay&&this.play()})),e=this.carouselService.getChangedState().pipe(Object(Ce.a)(t=>{this._handleChangeObservable(t)})),n=this.carouselService.getResizedState().pipe(Object(Ce.a)(()=>{this.carouselService.settings.autoplay?this.play():this.stop()})),r=Object(Ko.a)(t,e,n);this.autoplaySubscription=r.subscribe(()=>{})}play(t,e){this._paused&&(this._paused=!1,this._setAutoPlayInterval(this.carouselService.settings.autoplayMouseleaveTimeout)),this.carouselService.is("rotating")||(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(t,e){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!t,this.winRef.setTimeout(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(e||this.carouselService.settings.autoplaySpeed)},t||this.carouselService.settings.autoplayTimeout)}_setAutoPlayInterval(t){this._timeout=this._getNextTimeout(t)}stop(){this.carouselService.is("rotating")&&(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){this.carouselService.is("rotating")&&(this._paused=!0)}_handleChangeObservable(t){"settings"===t.property.name?this.carouselService.settings.autoplay?this.play():this.stop():"position"===t.property.name&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){Object(wt.a)("translated").pipe(Bt(t=>this.carouselService.getTranslatedState()),we(),ne(()=>this._isArtificialAutoplayTimeout),Object(Ce.a)(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ws),r.Ub($s),r.Ub(Xs))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ea=(()=>{class t{constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe(Object(Ce.a)(()=>{const t=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(e=>e.load=!!t)})),e=this.carouselService.getChangeState(),n=this.carouselService.getResizedState(),r=Object(Ko.a)(t,e,n).pipe(Object(Ce.a)(t=>this._defineLazyLoadSlides(t)));this.lazyLoadSubscription=r.subscribe(()=>{})}_defineLazyLoadSlides(t){if(this.carouselService.settings&&this.carouselService.settings.lazyLoad&&(t.property&&"position"===t.property.name||"initialized"===t||"resized"===t)){const e=this.carouselService.settings,n=this.carouselService.clones().length;let r=e.center&&Math.ceil(e.items/2)||e.items,i=e.center&&-1*r||0,o=(t.property&&void 0!==t.property.value?t.property.value:this.carouselService.current())+i;for(e.lazyLoadEager>0&&(r+=e.lazyLoadEager,e.loop&&(o-=e.lazyLoadEager,r++));i++<r;)this._load(n/2+this.carouselService.relative(o)),n&&this.carouselService.clones(this.carouselService.relative(o)).forEach(t=>this._load(t)),o++}}_load(t){this.carouselService.slidesData[t].load||(this.carouselService.slidesData[t].load=!0)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ws))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),na=(()=>{class t{constructor(t){this.carouselService=t,this.swapping=!0,this.previous=void 0,this.next=void 0,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getChangeState().pipe(Object(Ce.a)(t=>{"position"===t.property.name&&(this.previous=this.carouselService.current(),this.next=t.property.value)})),e=this.carouselService.getDragState(),n=this.carouselService.getDraggedState(),r=this.carouselService.getTranslatedState(),i=Object(Ko.a)(e,n,r).pipe(Object(Ce.a)(t=>this.swapping="translated"===t)),o=this.carouselService.getTranslateState().pipe(Object(Ce.a)(t=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),s=Object(Ko.a)(t,o,i).pipe();this.animateSubscription=s.subscribe(()=>{})}_swap(){if(1!==this.carouselService.settings.items)return;let t;this.carouselService.speed(0);const e=this.carouselService.slidesData[this.previous],n=this.carouselService.slidesData[this.next],r=this.carouselService.settings.animateIn,i=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(i&&(t=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(n=>{n.id===e.id&&(n.left=`${t}px`,n.isAnimated=!0,n.isDefAnimatedOut=!0,n.isCustomAnimatedOut=!0)})),r&&this.carouselService.slidesData.forEach(t=>{t.id===n.id&&(t.isAnimated=!0,t.isDefAnimatedIn=!0,t.isCustomAnimatedIn=!0)}))}clear(t){this.carouselService.slidesData.forEach(e=>{e.id===t&&(e.left="",e.isAnimated=!1,e.isDefAnimatedOut=!1,e.isCustomAnimatedOut=!1,e.isDefAnimatedIn=!1,e.isCustomAnimatedIn=!1,e.classes=this.carouselService.setCurSlideClasses(e))}),this.carouselService.onTransitionEnd()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ws))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ra=(()=>{class t{constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe(Object(Ce.a)(t=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(t=>t.heightState="full")})),e=this.carouselService.getChangedState().pipe(Object(Ce.a)(t=>{this.carouselService.settings.autoHeight&&"position"===t.property.name&&this.update()})),n=this.carouselService.getRefreshedState().pipe(Object(Ce.a)(t=>{this.carouselService.settings.autoHeight&&this.update()})),r=Object(Ko.a)(t,e,n);this.autoHeightSubscription=r.subscribe(()=>{})}update(){const t=this.carouselService.settings.items;let e=this.carouselService.current(),n=e+t;this.carouselService.settings.center&&(e=t%2==1?e-(t-1)/2:e-t/2,n=t%2==1?e+t:e+t+1),this.carouselService.slidesData.forEach((t,r)=>{t.heightState=r>=e&&r<n?"full":"nulled"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ws))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ia=(()=>{class t{constructor(t,e,n){this.carouselService=t,this.route=e,this.router=n,this.spyDataStreams(),this.route||(this.route={fragment:Object(wt.a)("no route").pipe(Yt(1))}),this.router||(this.router={navigate:(t,e)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe(Object(Ce.a)(()=>this.listenToRoute())),e=this.carouselService.getChangedState().pipe(Object(Ce.a)(t=>{if(this.carouselService.settings.URLhashListener&&"position"===t.property.name){const t=this.carouselService.current(),e=this.carouselService.slidesData[t].hashFragment;if(!e||e===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:e,relativeTo:this.route})}})),n=Object(Ko.a)(t,e);this.hashSubscription=n.subscribe(()=>{})}rewind(t){const e=this.carouselService.slidesData.findIndex(e=>e.hashFragment===t&&!1===e.isCloned);-1!==e&&e!==this.carouselService.current()&&this.carouselService.to(this.carouselService.relative(e),!1)}listenToRoute(){this.route.fragment.pipe(ps("URLHash"===this.carouselService.settings.startPosition?0:2)).subscribe(t=>{this.currentHashFragment=t,this.rewind(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ws),r.Ub(Nn,8),r.Ub(Jr,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),oa=0,sa=(()=>{class t{constructor(t){this.tplRef=t,this.id="owl-slide-"+oa++,this._dataMerge=1,this.width=0,this.dotContent="",this.dataHash=""}set dataMerge(t){this._dataMerge=this.isNumeric(t)?t:1}get dataMerge(){return this._dataMerge}isNumeric(t){return!isNaN(parseFloat(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.L))},t.\u0275dir=r.Gb({type:t,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",width:"width",dotContent:"dotContent",dataHash:"dataHash",dataMerge:"dataMerge"}}),t})(),aa=(()=>{class t{constructor(t,e,n,i,o,s,a,u,c,l,h,f){this.el=t,this.resizeService=e,this.carouselService=n,this.navigationService=i,this.autoplayService=o,this.lazyLoadService=s,this.animateService=a,this.autoHeightService=u,this.hashService=c,this.logger=l,this.changeDetectorRef=h,this.translated=new r.n,this.dragging=new r.n,this.change=new r.n,this.changed=new r.n,this.initialized=new r.n,this.slidesData=[],this.carouselLoaded=!1,this.docRef=f}onVisibilityChange(t){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":this.autoplayService.play();break;case"hidden":this.autoplayService.stop()}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngAfterContentChecked(){}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe(Object(Ce.a)(t=>{t.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,t.toArray(),this.options),this.carouselService.initialize(t.toArray())):(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered"))})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe(Object(Ce.a)(t=>{this.owlDOMData=t.owlDOMData,this.stageData=t.stageData,this.slidesData=t.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=t.navData,this.dotsData=t.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe(Object(Ce.a)(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe(Object(Ce.a)(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe(Object(Ce.a)(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe(Bt(t=>{const e=Object(wt.a)(t).pipe(ne(()=>"position"===t.property.name),Bt(()=>Object(_t.a)(this.slidesData)),ps(t.property.value),Yt(this.carouselService.settings.items),Object(Ht.a)(t=>{const e=this.carouselService.clonedIdPrefix,n=t.id.indexOf(e)>=0?t.id.slice(e.length):t.id;return Object.assign(Object.assign({},t),{id:n,isActive:!0})}),function(t,e){return arguments.length>=2?function(n){return Object(bs.a)(Jt(t,e),le(1),be(e))(n)}:function(e){return Object(bs.a)(Jt((e,n,r)=>t(e,n,r+1)),le(1))(e)}}(ms,[]),Object(Ht.a)(e=>({slides:e,startPosition:this.carouselService.relative(t.property.value)})));return Object(Ko.a)(e)}),Object(Ce.a)(t=>{this.gatherTranslatedData(),this.changed.emit(t.slides.length?t:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe(Object(Ce.a)(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),Bt(()=>this.carouselService.getDraggedState().pipe(Object(Ht.a)(()=>!!this.carouselService.is("animating")))),Bt(t=>t?this.carouselService.getTranslatedState().pipe(we()):Object(wt.a)("not animating")),Object(Ce.a)(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=Object(Ko.a)(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe(ne(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),function(t,e=ys.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new ws(r,e))}(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){this.carouselLoaded&&this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){this.carouselLoaded&&this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(t){this.carouselLoaded&&this.navigationService.moveByDot(t)}to(t){this.carouselLoaded&&this.navigationService.toSlideById(t)}gatherTranslatedData(){let t;const e=this.carouselService.clonedIdPrefix,n=this.slidesData.filter(t=>!0===t.isActive).map(t=>({id:t.id.indexOf(e)>=0?t.id.slice(e.length):t.id,width:t.width,marginL:t.marginL,marginR:t.marginR,center:t.isCentered}));t=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:t,slides:n}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(Vs),r.Lb(Ws),r.Lb(Gs),r.Lb(ta),r.Lb(ea),r.Lb(na),r.Lb(ra),r.Lb(ia),r.Lb(Hs),r.Lb(r.h),r.Lb(Xs))},t.\u0275cmp=r.Fb({type:t,selectors:[["owl-carousel-o"]],contentQueries:function(t,e,n){if(1&t&&r.Eb(n,sa,0),2&t){let t;r.fc(t=r.Yb())&&(e.slides=t)}},hostBindings:function(t,e){1&t&&r.Xb("visibilitychange",function(t){return e.onVisibilityChange(t)},!1,r.gc)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},features:[r.zb([Gs,ta,Ws,ea,na,ra,ia])],decls:4,vars:9,consts:[[1,"owl-carousel","owl-theme",3,"ngClass","mouseover","mouseleave","touchstart","touchend"],["owlCarousel",""],["class","owl-stage-outer",4,"ngIf"],[4,"ngIf"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"ngClass","innerHTML","click"],[1,"owl-next",3,"ngClass","innerHTML","click"],[1,"owl-dots",3,"ngClass"],["class","owl-dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"owl-dot",3,"ngClass","click"],[3,"innerHTML"]],template:function(t,e){1&t&&(r.Qb(0,"div",0,1),r.Xb("mouseover",function(){return e.startPausing()})("mouseleave",function(){return e.startPlayML()})("touchstart",function(){return e.startPausing()})("touchend",function(){return e.startPlayTE()}),r.mc(2,Ps,2,6,"div",2),r.mc(3,Ds,6,15,"ng-container",3),r.Pb()),2&t&&(r.ac("ngClass",r.ec(3,Ns,null==e.owlDOMData?null:e.owlDOMData.rtl,null==e.owlDOMData?null:e.owlDOMData.isLoaded,null==e.owlDOMData?null:e.owlDOMData.isResponsive,null==e.owlDOMData?null:e.owlDOMData.isMouseDragable,null==e.owlDOMData?null:e.owlDOMData.isGrab)),r.Ab(2),r.ac("ngIf",e.carouselLoaded),r.Ab(1),r.ac("ngIf",e.slides.toArray().length))},directives:function(){return[I,k,ua,j]},styles:[".owl-theme[_ngcontent-%COMP%] { display: block; }"]}),t})(),ua=(()=>{class t{constructor(t,e,n,r,i){this.zone=t,this.el=e,this.renderer=n,this.carouselService=r,this.animateService=i,this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this._oneDragMove$=new Ct.a,this.bindOneMouseTouchMove=t=>{this._oneMouseTouchMove(t)},this.bindOnDragMove=t=>{this._onDragMove(t)},this.bindOnDragEnd=t=>{this._onDragEnd(t)},this._oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()}}onMouseDown(t){this.owlDraggable.isMouseDragable&&this._onDragStart(t)}onTouchStart(t){this.owlDraggable.isTouchDragable&&this._onDragStart(t)}onTouchCancel(t){this._onDragEnd(t)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe(we()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}_onDragStart(t){let e=null;3!==t.which&&(e=this._prepareDragging(t),this._drag.time=(new Date).getTime(),this._drag.target=t.target,this._drag.stage.start=e,this._drag.stage.current=e,this._drag.pointer=this._pointer(t),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(t){const e=this._difference(this._drag.pointer,this._pointer(t));this.listenerATag&&this.listenerATag(),Math.abs(e.x)<3&&Math.abs(e.y)<3&&this._is("valid")||Math.abs(e.x)<3&&Math.abs(e.x)<Math.abs(e.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(t),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),t.preventDefault(),this._enterDragging(),this._oneDragMove$.next(t))}blockClickAnchorInDragging(t){let e=t.target;for(;e&&!(e instanceof HTMLAnchorElement);)e=e.parentElement;e instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(e,"click",()=>!1))}_onDragMove(t){let e;const n=this.carouselService.defineNewCoordsDrag(t,this._drag);!1!==n&&(e=n,t.preventDefault(),this._drag.stage.current=e,this._animate(e.x-this._drag.stage.start.x))}_animate(t){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${t}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(t){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(t),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(t){return this.carouselService.prepareDragging(t)}_finishDragging(t){this.carouselService.finishDragging(t,this._drag,this._oneClickHandler)}_pointer(t){return this.carouselService.pointer(t)}_difference(t,e){return this.carouselService.difference(t,e)}_is(t){return this.carouselService.is(t)}_enter(t){this.carouselService.enter(t)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(t){this.animateService.clear(t)}}var e;return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.A),r.Lb(r.l),r.Lb(r.E),r.Lb(Ws),r.Lb(na))},t.\u0275cmp=r.Fb({type:t,selectors:[["owl-stage"]],hostBindings:function(t,e){1&t&&r.Xb("mousedown",function(t){return e.onMouseDown(t)})("touchstart",function(t){return e.onTouchStart(t)})("touchcancel",function(t){return e.onTouchCancel(t)})("dragstart",function(){return e.onDragStart()})("selectstart",function(){return e.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},decls:3,vars:8,consts:[[1,"owl-stage",3,"ngStyle","transitionend"],[4,"ngFor","ngForOf"],[1,"owl-item",3,"ngClass","ngStyle","animationend"],[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"div",0),r.Xb("transitionend",function(){return e.onTransitionEnd()}),r.mc(2,Us,3,9,"ng-container",1),r.Pb(),r.Pb()),2&t&&(r.Ab(1),r.ac("ngStyle",r.ec(2,Fs,e.stageData.width+"px",e.stageData.transform,e.stageData.transition,e.stageData.paddingL?e.stageData.paddingL+"px":"",e.stageData.paddingR?e.stageData.paddingR+"px":"")),r.Ab(1),r.ac("ngForOf",e.slidesData))},directives:[R,j,I,k,M],encapsulation:2,data:{animation:[(e=[xs("nulled",Es({height:0})),xs("full",Es({height:"*"})),Ts("full => nulled",[Ss("700ms 350ms")]),Ts("nulled => full",[Ss(350)])],{type:7,name:"autoHeight",definitions:e,options:{}})]}}),t})(),ca=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[Ks,Vs,Js,Hs],imports:[[L]]}),t})();function la(t,e){1&t&&(r.Qb(0,"div",22),r.Mb(1,"img",23),r.Qb(2,"h5",24),r.nc(3,"\u200bRegarder les vid\xe9os hors ligne"),r.Pb(),r.Qb(4,"p",25),r.nc(5,"when an unknown printer took a galley of type and scrambled"),r.Mb(6,"br"),r.nc(7," it to make a type specimen book. It has survived not "),r.Mb(8,"br"),r.nc(9,"only five centuries"),r.Pb(),r.Pb())}function ha(t,e){1&t&&(r.Qb(0,"div",22),r.Mb(1,"img",23),r.Qb(2,"h5",24),r.nc(3,"T\xe9l\xe9chargement rapide de vid\xe9os"),r.Pb(),r.Qb(4,"p",25),r.nc(5,"when an unknown printer took a galley of type and scrambled"),r.Mb(6,"br"),r.nc(7," it to make a type specimen book. It has survived not "),r.Mb(8,"br"),r.nc(9,"only five centuries"),r.Pb(),r.Pb())}function fa(t,e){1&t&&(r.Qb(0,"div",22),r.Mb(1,"img",23),r.Qb(2,"h5",24),r.nc(3,"Cr\xe9er des images"),r.Pb(),r.Qb(4,"p",25),r.nc(5,"when an unknown printer took a galley of type and scrambled"),r.Mb(6,"br"),r.nc(7," it to make a type specimen book. It has survived not "),r.Mb(8,"br"),r.nc(9,"only five centuries"),r.Pb(),r.Pb())}let da=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.email="",this.password="",this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,autoplay:!0,dots:!1,navSpeed:10,navText:["",""],responsive:{0:{items:1},400:{items:1},740:{items:1},940:{items:1}},nav:!1}}ngOnInit(){this.signinForm=new ko({email:new Ao(null,[Ri.email]),password:new Ao(null,[Ri.minLength(8)])})}signin(){this.authService.signin(this.email,this.password).then(()=>this.router.navigateByUrl(""))}getErrorMessage(){}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ds),r.Lb(Jr))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-signin"]],decls:39,vars:6,consts:[[1,"container-fluid","pl-0","pr-0"],[1,"row","no-gutters"],[1,"col-md-5","p-5","bg-white","full-height"],[1,"login-main-left"],[1,"text-center","mb-5","login-main-left-header","pt-4"],["src","./assets/img/favicon.png","alt","LOGO",1,"img-fluid"],[1,"mt-3","mb-3"],[3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","email","type","text","placeholder","Enter mobile number","required","",1,"form-control",3,"ngModel","ngModelChange"],["formControlName","password","type","password","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"mt-4"],[1,"row"],[1,"col-12"],["type","submit",1,"btn","btn-outline-primary","btn-block","btn-lg",3,"disabled"],[1,"text-center","mt-5"],[1,"light-gray"],[3,"routerLink"],[1,"col-md-7"],[1,"login-main-right","bg-white","p-5","mb-5",2,"margin-top","0rem!important"],[1,"owl-carousel-login",3,"options"],["carouselSlide","","class","item"],[1,"carousel-login-card","text-center"],["src","./assets/img/login.png","alt","LOGO",1,"img-fluid",2,"max-width","60%"],[1,"mt-5","mb-3"],[1,"mb-4"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Mb(5,"img",5),r.Qb(6,"h5",6),r.nc(7,"Bienvenue \xe0 Innov"),r.Pb(),r.Qb(8,"p"),r.nc(9,"It is a long established fact that a reader "),r.Mb(10,"br"),r.nc(11," will be distracted by the readable."),r.Pb(),r.Pb(),r.Qb(12,"form",7),r.Xb("ngSubmit",function(){return e.signin()}),r.Qb(13,"div",8),r.Qb(14,"label"),r.nc(15,"Email"),r.Pb(),r.Qb(16,"input",9),r.Xb("ngModelChange",function(t){return e.email=t}),r.Pb(),r.Qb(17,"span"),r.nc(18," Veuillez saisir un email correct "),r.Pb(),r.Pb(),r.Qb(19,"div",8),r.Qb(20,"label"),r.nc(21,"Mot de passe"),r.Pb(),r.Qb(22,"input",10),r.Xb("ngModelChange",function(t){return e.password=t}),r.Pb(),r.Pb(),r.Qb(23,"div",11),r.Qb(24,"div",12),r.Qb(25,"div",13),r.Qb(26,"button",14),r.nc(27,"Sign In"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(28,"div",15),r.Qb(29,"p",16),r.nc(30,"Je n'ai pas de compte? "),r.Qb(31,"a",17),r.nc(32,"S'inscrire"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(33,"div",18),r.Qb(34,"div",19),r.Qb(35,"owl-carousel-o",20),r.mc(36,la,10,0,"ng-template",21),r.mc(37,ha,10,0,"ng-template",21),r.mc(38,fa,10,0,"ng-template",21),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(12),r.ac("formGroup",e.signinForm),r.Ab(4),r.ac("ngModel",e.email),r.Ab(6),r.ac("ngModel",e.password),r.Ab(4),r.ac("disabled",e.signinForm.invalid),r.Ab(5),r.ac("routerLink","signup"),r.Ab(4),r.ac("options",e.customOptions))},directives:[Lo,Zi,Vo,Pi,Xi,qo,zo,ei,aa,sa],styles:[""]}),t})();function pa(t,e){1&t&&(r.Qb(0,"div",20),r.Mb(1,"img",21),r.Qb(2,"h5",22),r.nc(3,"\u200bWatch videos offline"),r.Pb(),r.Qb(4,"p",23),r.nc(5,"when an unknown printer took a galley of type and scrambled"),r.Mb(6,"br"),r.nc(7," it to make a type specimen book. It has survived not "),r.Mb(8,"br"),r.nc(9,"only five centuries"),r.Pb(),r.Pb())}function ga(t,e){1&t&&(r.Qb(0,"div",20),r.Mb(1,"img",21),r.Qb(2,"h5",22),r.nc(3,"Download videos effortlessly"),r.Pb(),r.Qb(4,"p",23),r.nc(5,"when an unknown printer took a galley of type and scrambled"),r.Mb(6,"br"),r.nc(7," it to make a type specimen book. It has survived not "),r.Mb(8,"br"),r.nc(9,"only five centuries"),r.Pb(),r.Pb())}function va(t,e){1&t&&(r.Qb(0,"div",20),r.Mb(1,"img",21),r.Qb(2,"h5",22),r.nc(3,"Create GIFs"),r.Pb(),r.Qb(4,"p",23),r.nc(5,"when an unknown printer took a galley of type and scrambled"),r.Mb(6,"br"),r.nc(7," it to make a type specimen book. It has survived not "),r.Mb(8,"br"),r.nc(9,"only five centuries"),r.Pb(),r.Pb())}let ba=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.email="",this.password="",this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,autoplay:!0,dots:!1,navSpeed:10,navText:["",""],responsive:{0:{items:1},400:{items:1},740:{items:1},940:{items:1}},nav:!1}}ngOnInit(){this.signupForm=new ko({email:new Ao(null,[Ri.email]),password:new Ao(null,[Ri.minLength(8)])})}signup(){this.authService.signup(this.email,this.password).then(()=>this.router.navigateByUrl(""))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ds),r.Lb(Jr))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-signup"]],decls:35,vars:5,consts:[[1,"container-fluid","pl-0","pr-0"],[1,"row","no-gutters"],[1,"col-md-5","p-5","bg-white","full-height"],[1,"login-main-left"],[1,"text-center","mb-5","login-main-left-header","pt-4"],["src","./assets/img/favicon.png","alt","LOGO",1,"img-fluid"],[1,"mt-3","mb-3"],[3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","email","type","text","placeholder","Enter mobile number","required","",1,"form-control",3,"ngModel","ngModelChange"],["formControlName","password","type","password","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"mt-4"],["type","submit",1,"btn","btn-outline-primary","btn-block","btn-lg",3,"disabled"],[1,"text-center","mt-5"],[1,"light-gray"],["href","login.html"],[1,"col-md-7"],[1,"login-main-right","bg-white","p-5","mt-5","mb-5",2,"margin-top","0rem!important"],[1,"owl-carousel-login",3,"options"],["carouselSlide","","class","item"],[1,"carousel-login-card","text-center"],["src","./assets/img/login.png","alt","LOGO",1,"img-fluid",2,"max-width","60%"],[1,"mt-5","mb-3"],[1,"mb-4"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Mb(5,"img",5),r.Qb(6,"h5",6),r.nc(7,"Welcome to Vidoe "),r.Pb(),r.Qb(8,"p"),r.nc(9,"It is a long established fact that a reader "),r.Mb(10,"br"),r.nc(11," will be distracted by the readable."),r.Pb(),r.Pb(),r.Qb(12,"form",7),r.Xb("ngSubmit",function(){return e.signup()}),r.Qb(13,"div",8),r.Qb(14,"label"),r.nc(15,"email"),r.Pb(),r.Qb(16,"input",9),r.Xb("ngModelChange",function(t){return e.email=t}),r.Pb(),r.Pb(),r.Qb(17,"div",8),r.Qb(18,"label"),r.nc(19,"Password"),r.Pb(),r.Qb(20,"input",10),r.Xb("ngModelChange",function(t){return e.password=t}),r.Pb(),r.Pb(),r.Qb(21,"div",11),r.Qb(22,"button",12),r.nc(23,"Sign Up"),r.Pb(),r.Pb(),r.Pb(),r.Qb(24,"div",13),r.Qb(25,"p",14),r.nc(26,"Already have an Account? "),r.Qb(27,"a",15),r.nc(28,"Sign In"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(29,"div",16),r.Qb(30,"div",17),r.Qb(31,"owl-carousel-o",18),r.mc(32,pa,10,0,"ng-template",19),r.mc(33,ga,10,0,"ng-template",19),r.mc(34,va,10,0,"ng-template",19),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(12),r.ac("formGroup",e.signupForm),r.Ab(4),r.ac("ngModel",e.email),r.Ab(4),r.ac("ngModel",e.password),r.Ab(2),r.ac("disabled",e.signupForm.invalid),r.Ab(9),r.ac("options",e.customOptions))},directives:[Lo,Zi,Vo,Pi,Xi,qo,zo,aa,sa],styles:[""]}),t})();function ma(){return t=>t.lift(new ya)}class ya{call(t,e){return e.subscribe(new _a(t))}}class _a extends Tt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function wa(t,e){return n=>n.lift(new Ca(t,e))}class Ca{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Oa(t,this.compare,this.keySelector))}}class Oa extends Tt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Sa=n("ZBx/"),Ea=n("2Op9"),xa=n("NqFF"),Ta=n("GPjf"),Ia=function(t,e){return(Ia=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Pa(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ja,Aa="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ka=ka||{},Da=Aa||self;function Na(){}function Ra(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ma(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var La="closure_uid_"+(1e9*Math.random()>>>0),Ua=0;function Fa(t,e,n){return t.call.apply(t.bind,arguments)}function Va(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Qa(t,e,n){return(Qa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fa:Va).apply(null,arguments)}function qa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ha(){return Date.now()}function za(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ba(){this.j=this.j,this.i=this.i}Ba.prototype.j=!1,Ba.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,La)&&t[La]||(t[La]=++Ua)}(this)},Ba.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Wa=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ga=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function $a(t){return Array.prototype.concat.apply([],arguments)}function Ya(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ka(t){return/^[\s\xa0]*$/.test(t)}var Xa,Za=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ja(t,e){return-1!=t.indexOf(e)}function tu(t,e){return t<e?-1:t>e?1:0}t:{var eu=Da.navigator;if(eu){var nu=eu.userAgent;if(nu){Xa=nu;break t}}Xa=""}function ru(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function iu(t){var e={};for(var n in t)e[n]=t[n];return e}var ou="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function su(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ou.length;o++)n=ou[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function au(t){return au[" "](t),t}au[" "]=Na;var uu,cu,lu=Ja(Xa,"Opera"),hu=Ja(Xa,"Trident")||Ja(Xa,"MSIE"),fu=Ja(Xa,"Edge"),du=fu||hu,pu=Ja(Xa,"Gecko")&&!(Ja(Xa.toLowerCase(),"webkit")&&!Ja(Xa,"Edge"))&&!(Ja(Xa,"Trident")||Ja(Xa,"MSIE"))&&!Ja(Xa,"Edge"),gu=Ja(Xa.toLowerCase(),"webkit")&&!Ja(Xa,"Edge");function vu(){var t=Da.document;return t?t.documentMode:void 0}t:{var bu="",mu=(cu=Xa,pu?/rv:([^\);]+)(\)|;)/.exec(cu):fu?/Edge\/([\d\.]+)/.exec(cu):hu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(cu):gu?/WebKit\/(\S+)/.exec(cu):lu?/(?:Version)[ \/]?(\S+)/.exec(cu):void 0);if(mu&&(bu=mu?mu[1]:""),hu){var yu=vu();if(null!=yu&&yu>parseFloat(bu)){uu=String(yu);break t}}uu=bu}var _u={};function wu(t){return function(t,e){var n=_u;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Za(String(uu)).split("."),r=Za(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=tu(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||tu(0==s[2].length,0==a[2].length)||tu(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Cu=Da.document&&hu&&(vu()||parseInt(uu,10))||void 0,Ou=!hu||9<=Number(Cu),Su=hu&&!wu("9"),Eu=function(){if(!Da.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Da.addEventListener("test",Na,e),Da.removeEventListener("test",Na,e)}catch(n){}return t}();function xu(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Tu(t,e){if(xu.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(pu){t:{try{au(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Iu[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}xu.prototype.b=function(){this.defaultPrevented=!0},za(Tu,xu);var Iu={2:"touch",3:"pen",4:"mouse"};Tu.prototype.b=function(){Tu.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Su)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Pu="closure_listenable_"+(1e6*Math.random()|0),ju=0;function Au(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ju,this.Y=this.Z=!1}function ku(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Du(t){this.src=t,this.a={},this.b=0}function Nu(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Wa(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ku(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ru(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Du.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Ru(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Au(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Mu="closure_lm_"+(1e6*Math.random()|0),Lu={};function Uu(t,e,n,r,i){if(r&&r.once)return Vu(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Uu(t,e[o],n,r,i);return null}return n=$u(n),t&&t[Pu]?t.va(e,n,Ma(r)?!!r.capture:!!r,i):Fu(t,e,n,!1,r,i)}function Fu(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ma(i)?!!i.capture:!!i;if(s&&!Ou)return null;var a=Wu(t);if(a||(t[Mu]=a=new Du(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Bu,e=Ou?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Eu||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Hu(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Vu(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Vu(t,e[o],n,r,i);return null}return n=$u(n),t&&t[Pu]?t.wa(e,n,Ma(r)?!!r.capture:!!r,i):Fu(t,e,n,!0,r,i)}function Qu(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Qu(t,e[o],n,r,i);else r=Ma(r)?!!r.capture:!!r,n=$u(n),t&&t[Pu]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Ru(o=t.a[e],n,r,i))&&(ku(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Wu(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ru(e,n,r,i)),(n=-1<t?e[t]:null)&&qu(n))}function qu(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Pu])Nu(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Hu(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Wu(e))?(Nu(n,t),0==n.b&&(n.src=null,e[Mu]=null)):ku(t)}}}function Hu(t){return t in Lu?Lu[t]:Lu[t]="on"+t}function zu(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&qu(t),n.call(r,e)}function Bu(t,e){if(t.Y)return!0;if(!Ou){if(!e)t:{e=["window","event"];for(var n=Da,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return zu(t,e=new Tu(e,this))}return zu(t,new Tu(e,this))}function Wu(t){return(t=t[Mu])instanceof Du?t:null}var Gu="__closure_events_fn_"+(1e9*Math.random()>>>0);function $u(t){return"function"==typeof t?t:(t[Gu]||(t[Gu]=function(e){return t.handleEvent(e)}),t[Gu])}function Yu(){Ba.call(this),this.c=new Du(this),this.J=this,this.C=null}function Ku(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new xu(e,t);else if(e instanceof xu)e.target=e.target||t;else{var i=e;su(e=new xu(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Xu(s,r,!0,e)&&i}if(i=Xu(s=e.a=t,r,!0,e)&&i,i=Xu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Xu(s=e.a=n[o],r,!1,e)&&i}function Xu(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Nu(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}za(Yu,Ba),Yu.prototype[Pu]=!0,(ja=Yu.prototype).addEventListener=function(t,e,n,r){Uu(this,t,e,n,r)},ja.removeEventListener=function(t,e,n,r){Qu(this,t,e,n,r)},ja.G=function(){if(Yu.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ku(n[r]);delete e.a[t],e.b--}}this.C=null},ja.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ja.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Zu=Da.JSON.stringify;function Ju(){this.b=this.a=null}var tc,ec=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new rc},function(t){t.reset()});function nc(){var t=ac,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function rc(){this.next=this.b=this.a=null}function ic(t){Da.setTimeout(function(){throw t},0)}function oc(t,e){tc||function(){var t=Da.Promise.resolve(void 0);tc=function(){t.then(uc)}}(),sc||(tc(),sc=!0),ac.add(t,e)}Ju.prototype.add=function(t,e){var n=ec.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},rc.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},rc.prototype.reset=function(){this.next=this.b=this.a=null};var sc=!1,ac=new Ju;function uc(){for(var t;t=nc();){try{t.a.call(t.b)}catch(n){ic(n)}var e=ec;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}sc=!1}function cc(t,e){Yu.call(this),this.b=t||1,this.a=e||Da,this.f=Qa(this.Za,this),this.g=Ha()}function lc(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function hc(t,e,n){if("function"==typeof t)n&&(t=Qa(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Qa(t.handleEvent,t)}return 2147483647<Number(e)?-1:Da.setTimeout(t,e||0)}function fc(t){t.a=hc(function(){t.a=null,t.c&&(t.c=!1,fc(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}za(cc,Yu),(ja=cc.prototype).aa=!1,ja.M=null,ja.Za=function(){if(this.aa){var t=Ha()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ku(this,"tick"),this.aa&&(lc(this),this.start()))}},ja.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ha())},ja.G=function(){cc.X.G.call(this),lc(this),delete this.a};var dc=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ia(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:fc(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Da.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ba);function pc(t){Ba.call(this),this.b=t,this.a={}}za(pc,Ba);var gc=[];function vc(t,e,n,r){Array.isArray(n)||(n&&(gc[0]=n.toString()),n=gc);for(var i=0;i<n.length;i++){var o=Uu(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function bc(t){ru(t.a,function(t,e){this.a.hasOwnProperty(e)&&qu(t)},t),t.a={}}function mc(){this.a=!0}function yc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Zu(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}pc.prototype.G=function(){pc.X.G.call(this),bc(this)},pc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mc.prototype.info=function(){};var _c={},wc=null;function Cc(){return wc=wc||new Yu}function Oc(t){xu.call(this,_c.Fa,t)}function Sc(t){var e=Cc();Ku(e,new Oc(e,t))}function Ec(t,e){xu.call(this,_c.STAT_EVENT,t),this.stat=e}function xc(t){var e=Cc();Ku(e,new Ec(e,t))}function Tc(t){xu.call(this,_c.Ga,t)}function Ic(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Da.setTimeout(function(){t()},e)}_c.Fa="serverreachability",za(Oc,xu),_c.STAT_EVENT="statevent",za(Ec,xu),_c.Ga="timingevent",za(Tc,xu);var Pc={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},jc={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ac(){}function kc(){}Ac.prototype.a=null;var Dc,Nc={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Rc(){xu.call(this,"d")}function Mc(){xu.call(this,"c")}function Lc(){}function Uc(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new pc(this),this.P=Fc,this.R=new cc(t=du?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}za(Rc,xu),za(Mc,xu),za(Lc,Ac),Dc=new Lc;var Fc=45e3,Vc={},Qc={};function qc(t,e,n){t.H=1,t.i=ll(il(e)),t.j=n,t.I=!0,Hc(t,null)}function Hc(t,e){t.u=Ha(),Wc(t),t.l=il(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ol(n.b,"t",r),t.D=0,t.a=bh(t.g,t.g.C?e:null),0<t.O&&(t.F=new dc(Qa(t.Ca,t,t.a),t.O)),vc(t.J,t.a,"readystatechange",t.Xa),e=t.B?iu(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Sc(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function zc(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Bc(t,n);if(i==Qc){4==e&&(t.h=4,xc(14),r=!1),yc(t.c,t.f,null,"[Incomplete Response]");break}if(i==Vc){t.h=4,xc(15),yc(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}yc(t.c,t.f,i,null),Xc(t,i)}4==e&&0==n.length&&(t.h=1,xc(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ch(e),e.F=!0,xc(11))):(yc(t.c,t.f,n,"[Invalid Chunked Response]"),Kc(t),Yc(t))}function Bc(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Qc:(n=Number(e.substring(n,r)),isNaN(n)?Vc:(r+=1)+n>e.length?Qc:(e=e.substr(r,n),t.D=r+n,e))}function Wc(t){t.T=Ha()+t.P,Gc(t,t.P)}function Gc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ic(Qa(t.Va,t),e)}function $c(t){t.o&&(Da.clearTimeout(t.o),t.o=null)}function Yc(t){0==t.g.v||t.A||fh(t.g,t)}function Kc(t){$c(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,lc(t.R),bc(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Xc(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||jl(n.b,t)))if(n.I=t.N,!t.C&&jl(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(tw){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;hh(n),th(n)}uh(n),xc(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ic(Qa(n.Sa,n),6e3));if(1>=Pl(n.b)&&n.ea){try{n.ea()}catch(tw){}n.ea=void 0}}else ph(n,11)}else if((t.C||n.a==t)&&hh(n),!Ka(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ja(l,"spdy")||Ja(l,"quic")||Ja(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Al(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,cl(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ha()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=vh(u,u.C?u.ga:null,u.fa),d.C){kl(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&($c(p),Wc(p)),u.a=d}else ah(u);0<n.g.length&&rh(n)}else"stop"!=i[0]&&"close"!=i[0]||ph(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ph(n,7):Jl(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Sc(4)}catch(tw){}}function Zc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ra(t)||"string"==typeof t)Ga(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ra(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ra(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Jc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Jc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function tl(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];el(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)el(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function el(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ja=Uc.prototype).setTimeout=function(t){this.P=t},ja.Xa=function(t){t=t.target;var e=this.F;e&&3==Yl(t)?e.f():this.Ca(t)},ja.Ca=function(t){try{if(t==this.a)t:{var e=Yl(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!du&&!this.a.$())){this.A||4!=e||7==n||Sc(8==n||0>=r?3:2),$c(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ka(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,xc(12),Kc(this),Yc(this);break t}yc(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Xc(this,u)}this.I?(zc(this,e,o),du&&this.b&&3==e&&(vc(this.J,this.R,"tick",this.Wa),this.R.start())):(yc(this.c,this.f,o,null),Xc(this,o)),4==e&&Kc(this),this.b&&!this.A&&(4==e?fh(this.g,this):(this.b=!1,Wc(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,xc(12)):(this.h=0,xc(13)),Kc(this),Yc(this)}}}catch(c){}},ja.Wa=function(){if(this.a){var t=Yl(this.a),e=this.a.$();this.D<e.length&&($c(this),zc(this,t,e),this.b&&4!=t&&Wc(this))}},ja.cancel=function(){this.A=!0,Kc(this)},ja.Va=function(){this.o=null;var t=Ha();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Sc(3),xc(17)),Kc(this),this.h=2,Yc(this)):Gc(this,this.T-t)},(ja=Jc.prototype).K=function(){tl(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ja.L=function(){return tl(this),this.a.concat()},ja.get=function(t,e){return el(this.b,t)?this.b[t]:e},ja.set=function(t,e){el(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ja.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var nl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rl(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof rl){this.a=void 0!==e?e:t.a,ol(this,t.f),this.j=t.j,sl(this,t.c),al(this,t.h),this.g=t.g,e=t.b;var n=new yl;n.c=e.c,e.a&&(n.a=new Jc(e.a),n.b=e.b),ul(this,n),this.i=t.i}else t&&(n=String(t).match(nl))?(this.a=!!e,ol(this,n[1]||"",!0),this.j=hl(n[2]||""),sl(this,n[3]||"",!0),al(this,n[4]),this.g=hl(n[5]||"",!0),ul(this,n[6]||"",!0),this.i=hl(n[7]||"")):(this.a=!!e,this.b=new yl(null,this.a))}function il(t){return new rl(t)}function ol(t,e,n){t.f=n?hl(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function sl(t,e,n){t.c=n?hl(e,!0):e}function al(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ul(t,e,n){e instanceof yl?(t.b=e,function(t,e){e&&!t.f&&(_l(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(wl(this,e),Ol(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=fl(e,bl)),t.b=new yl(e,t.a))}function cl(t,e,n){t.b.set(e,n)}function ll(t){return cl(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ha()).toString(36)),t}function hl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,dl),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function dl(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}rl.prototype.toString=function(){var t=[],e=this.f;e&&t.push(fl(e,pl,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(fl(e,pl,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(fl(n,"/"==n.charAt(0)?vl:gl,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",fl(n,ml)),t.join("")};var pl=/[#\/\?@]/g,gl=/[#\?:]/g,vl=/[#\?]/g,bl=/[#\?@]/g,ml=/#/g;function yl(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function _l(t){t.a||(t.a=new Jc,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function wl(t,e){_l(t),e=Sl(t,e),el(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,el((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&tl(t)))}function Cl(t,e){return _l(t),e=Sl(t,e),el(t.a.b,e)}function Ol(t,e,n){wl(t,e),0<n.length&&(t.c=null,t.a.set(Sl(t,e),Ya(n)),t.b+=n.length)}function Sl(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ja=yl.prototype).add=function(t,e){_l(this),this.c=null,t=Sl(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ja.forEach=function(t,e){_l(this),this.a.forEach(function(n,r){Ga(n,function(n){t.call(e,n,r,this)},this)},this)},ja.L=function(){_l(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ja.K=function(t){_l(this);var e=[];if("string"==typeof t)Cl(this,t)&&(e=$a(e,this.a.get(Sl(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=$a(e,t[n])}return e},ja.set=function(t,e){return _l(this),this.c=null,Cl(this,t=Sl(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ja.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ja.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var El=function(){return function(t,e){this.b=t,this.a=e}}();function xl(t){this.g=t||Tl,t=Da.PerformanceNavigationTiming?0<(t=Da.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Da.ia&&Da.ia.ya&&Da.ia.ya()&&Da.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Tl=10;function Il(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Pl(t){return t.b?1:t.a?t.a.size:0}function jl(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Al(t,e){t.a?t.a.add(e):t.b=e}function kl(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Dl(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Pa(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ya(t.c)}function Nl(){}function Rl(){this.a=new Nl}function Ml(t,e,n){var r=n||"";try{Zc(t,function(t,n){var i=t;Ma(t)&&(i=Zu(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Qw){throw e.push(r+"type="+encodeURIComponent("_badmap")),Qw}}function Ll(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}xl.prototype.cancel=function(){var t,e;if(this.c=Dl(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Pa(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Nl.prototype.stringify=function(t){return Da.JSON.stringify(t,void 0)},Nl.prototype.parse=function(t){return Da.JSON.parse(t,void 0)};var Ul=Da.JSON.parse;function Fl(t){Yu.call(this),this.headers=new Jc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Vl,this.D=this.F=!1}za(Fl,Yu);var Vl="",Ql=/^https?$/i,ql=["POST","PUT"];function Hl(t){return"content-type"==t.toLowerCase()}function zl(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Bl(t),Gl(t)}function Bl(t){t.u||(t.u=!0,Ku(t,"complete"),Ku(t,"error"))}function Wl(t){if(t.b&&void 0!==ka&&(!t.s[1]||4!=Yl(t)||2!=t.W()))if(t.l&&4==Yl(t))hc(t.za,0,t);else if(Ku(t,"readystatechange"),4==Yl(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(nl)[1]||null;if(!o&&Da.self&&Da.self.location){var s=Da.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ql.test(o?o.toLowerCase():"")}e=i}if(e)Ku(t,"complete"),Ku(t,"success");else{t.h=6;try{var a=2<Yl(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Bl(t)}}finally{Gl(t)}}}function Gl(t,e){if(t.a){$l(t);var n=t.a,r=t.s[0]?Na:null;t.a=null,t.s=null,e||Ku(t,"ready");try{n.onreadystatechange=r}catch(Qw){}}}function $l(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Da.clearTimeout(t.m),t.m=null)}function Yl(t){return t.a?t.a.readyState:0}function Kl(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ru(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):cl(t,e,n))}function Xl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Zl(t){this.pa=0,this.g=[],this.c=new mc,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Xl("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Xl("baseRetryDelayMs",5e3,t),this.Ra=Xl("retryDelaySeedMs",1e4,t),this.Ma=Xl("forwardChannelMaxRetries",2,t),this.ma=Xl("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new xl(t&&t.concurrentRequestLimit),this.ka=new Rl,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Jl(t){if(eh(t),3==t.v){var e=t.R++,n=il(t.B);cl(n,"SID",t.J),cl(n,"RID",e),cl(n,"TYPE","terminate"),oh(t,n),(e=new Uc(t,t.c,e,void 0)).H=2,e.i=ll(il(n)),n=!1,Da.navigator&&Da.navigator.sendBeacon&&(n=Da.navigator.sendBeacon(e.i.toString(),"")),!n&&Da.Image&&((new Image).src=e.i,n=!0),n||(e.a=bh(e.g,null),e.a.ba(e.i)),e.u=Ha(),Wc(e)}gh(t)}function th(t){t.a&&(ch(t),t.a.cancel(),t.a=null)}function eh(t){th(t),t.j&&(Da.clearTimeout(t.j),t.j=null),hh(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Da.clearTimeout(t.h),t.h=null)}function nh(t,e){t.g.push(new El(t.Oa++,e)),3==t.v&&rh(t)}function rh(t){Il(t.b)||t.h||(t.h=!0,oc(t.Ba,t),t.u=0)}function ih(t,e){var n;n=e?e.f:t.R++;var r=il(t.B);cl(r,"SID",t.J),cl(r,"RID",n),cl(r,"AID",t.P),oh(t,r),t.i&&t.l&&Kl(r,t.i,t.l),n=new Uc(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=sh(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Al(t.b,n),qc(n,r,e)}function oh(t,e){t.f&&Zc({},function(t,n){cl(e,n,t)})}function sh(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Qa(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Ml(l,s,"req"+c+"_")}catch(Zh){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function ah(t){t.a||t.j||(t.T=1,oc(t.Aa,t),t.o=0)}function uh(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ic(Qa(t.Aa,t),dh(t,t.o)),t.o++,0))}function ch(t){null!=t.s&&(Da.clearTimeout(t.s),t.s=null)}function lh(t){t.a=new Uc(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=il(t.la);cl(e,"RID","rpc"),cl(e,"SID",t.J),cl(e,"CI",t.H?"0":"1"),cl(e,"AID",t.P),oh(t,e),cl(e,"TYPE","xmlhttp"),t.i&&t.l&&Kl(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ll(il(e)),n.j=null,n.I=!0,Hc(n,t)}function hh(t){null!=t.m&&(Da.clearTimeout(t.m),t.m=null)}function fh(t,e){var n=null;if(t.a==e){hh(t),ch(t),t.a=null;var r=2}else{if(!jl(t.b,e))return;n=e.s,kl(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ha()-e.u;var i=t.u;Ku(r=Cc(),new Tc(r,n,e,i)),rh(t)}else ah(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Pl(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ic(Qa(t.Ba,t,e),dh(t,t.u)),t.u++,0)))}(t,e)||2==r&&uh(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ph(t,5);break;case 4:ph(t,10);break;case 3:ph(t,6);break;default:ph(t,2)}}function dh(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ph(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Qa(t.Ya,t);n||(n=new rl("//www.google.com/images/cleardot.gif"),Da.location&&"http"==Da.location.protocol||ol(n,"https"),ll(n)),function(t,e){var n=new mc;if(Da.Image){var r=new Image;r.onload=qa(Ll,n,r,"TestLoadImage: loaded",!0,e),r.onerror=qa(Ll,n,r,"TestLoadImage: error",!1,e),r.onabort=qa(Ll,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=qa(Ll,n,r,"TestLoadImage: timeout",!1,e),Da.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else xc(2);t.v=0,t.f&&t.f.ra(e),gh(t),eh(t)}function gh(t){t.v=0,t.I=-1,t.f&&(0==Dl(t.b).length&&0==t.g.length||(t.b.c.length=0,Ya(t.g),t.g.length=0),t.f.qa())}function vh(t,e,n){var r=function(t){return t instanceof rl?il(t):new rl(t,void 0)}(n);if(""!=r.c)e&&sl(r,e+"."+r.c),al(r,r.h);else{var i=Da.location;r=function(t,e,n,r){var i=new rl(null,void 0);return t&&ol(i,t),e&&sl(i,e),n&&al(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ru(t.V,function(t,e){cl(r,e,t)}),n=t.na,(e=t.A)&&n&&cl(r,e,n),cl(r,"VER",t.ha),oh(t,r),r}function bh(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fl(t.Na)).F=t.C,e}function mh(){}function yh(){if(hu&&!(10<=Number(Cu)))throw Error("Environmental error: no available transport.")}function _h(t,e){Yu.call(this),this.a=new Zl(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ka(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ka(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Oh(this)}function wh(t){Rc.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ch(){Mc.call(this),this.status=1}function Oh(t){this.a=t}(ja=Fl.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Dc),this.a.onreadystatechange=Qa(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void zl(this,o)}t=n||"";var i=new Jc(this.headers);r&&Zc(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Hl,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Da.FormData&&t instanceof Da.FormData,!(0<=Wa(ql,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{$l(this),0<this.o&&((this.D=function(t){return hu&&wu(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Qa(this.xa,this)):this.m=hc(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){zl(this,o)}},ja.xa=function(){void 0!==ka&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ku(this,"timeout"),this.abort(8))},ja.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ku(this,"complete"),Ku(this,"abort"),Gl(this))},ja.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Gl(this,!0)),Fl.X.G.call(this)},ja.za=function(){this.j||(this.A||this.l||this.g?Wl(this):this.Ua())},ja.Ua=function(){Wl(this)},ja.W=function(){try{return 2<Yl(this)?this.a.status:-1}catch(cu){return-1}},ja.$=function(){try{return this.a?this.a.responseText:""}catch(cu){return""}},ja.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ul(e)}},ja.ua=function(){return this.h},ja.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ja=Zl.prototype).ha=8,ja.v=1,ja.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Uc(this,this.c,t,void 0),r=this.l;if(this.O&&(r?su(r=iu(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=sh(this,n,e),cl(i=il(this.B),"RID",t),cl(i,"CVER",22),this.A&&cl(i,"X-HTTP-Session-Id",this.A),oh(this,i),this.i&&r&&Kl(i,this.i,r),Al(this.b,n),this.Ia&&cl(i,"TYPE","init"),this.da?(cl(i,"$req",e),cl(i,"SID","null"),n.U=!0,qc(n,i,null)):qc(n,i,e),this.v=2}}else 3==this.v&&(t?ih(this,t):0==this.g.length||Il(this.b)||ih(this))},ja.Aa=function(){if(this.j=null,lh(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ic(Qa(this.Ta,this),t)}},ja.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,xc(10),th(this),lh(this))},ja.Sa=function(){null!=this.m&&(this.m=null,th(this),uh(this),xc(19))},ja.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),xc(2)):(this.c.info("Failed to ping google.com"),xc(1))},(ja=mh.prototype).ta=function(){},ja.sa=function(){},ja.ra=function(){},ja.qa=function(){},ja.Ja=function(){},yh.prototype.a=function(t,e){return new _h(t,e)},za(_h,Yu),_h.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;xc(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=vh(t,null,t.fa),rh(t)},_h.prototype.close=function(){Jl(this.a)},_h.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,nh(this.a,e)}else this.l?((e={}).__data__=Zu(t),nh(this.a,e)):nh(this.a,t)},_h.prototype.G=function(){this.a.f=null,delete this.f,Jl(this.a),delete this.a,_h.X.G.call(this)},za(wh,Rc),za(Ch,Mc),za(Oh,mh),Oh.prototype.ta=function(){Ku(this.a,"a")},Oh.prototype.sa=function(t){Ku(this.a,new wh(t))},Oh.prototype.ra=function(t){Ku(this.a,new Ch(t))},Oh.prototype.qa=function(){Ku(this.a,"b")},yh.prototype.createWebChannel=yh.prototype.a,_h.prototype.send=_h.prototype.h,_h.prototype.open=_h.prototype.g,_h.prototype.close=_h.prototype.close,Pc.NO_ERROR=0,Pc.TIMEOUT=8,Pc.HTTP_ERROR=6,jc.COMPLETE="complete",kc.EventType=Nc,Nc.OPEN="a",Nc.CLOSE="b",Nc.ERROR="c",Nc.MESSAGE="d",Yu.prototype.listen=Yu.prototype.va,Fl.prototype.listenOnce=Fl.prototype.wa,Fl.prototype.getLastError=Fl.prototype.Qa,Fl.prototype.getLastErrorCode=Fl.prototype.ua,Fl.prototype.getStatus=Fl.prototype.W,Fl.prototype.getResponseJson=Fl.prototype.Pa,Fl.prototype.getResponseText=Fl.prototype.$,Fl.prototype.send=Fl.prototype.ba;var Sh=Pc,Eh=jc,xh=_c,Th=kc,Ih=Fl,Ph=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},jh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ah=new xa.b("@firebase/firestore");function kh(){return Ah.logLevel}function Dh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ah.logLevel<=xa.a.DEBUG){var r=e.map(Mh);Ah.debug.apply(Ah,Object(Yo.f)(["Firestore (8.3.0): "+t],r))}}function Nh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ah.logLevel<=xa.a.ERROR){var r=e.map(Mh);Ah.error.apply(Ah,Object(Yo.f)(["Firestore (8.3.0): "+t],r))}}function Rh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ah.logLevel<=xa.a.WARN){var r=e.map(Mh);Ah.warn.apply(Ah,Object(Yo.f)(["Firestore (8.3.0): "+t],r))}}function Mh(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Qw){return t}}function Lh(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.0) INTERNAL ASSERTION FAILED: "+t;throw Nh(e),new Error(e)}function Uh(t,e){t||Lh()}function Fh(t,e){return t}function Vh(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Qh=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Vh(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function qh(t,e){return t<e?-1:t>e?1:0}function Hh(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function zh(t){return t+"\0"}var Bh=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return qh(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();Bh.T=new Bh("");var Wh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gh=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Yo.c)(e,t),e}(Error),$h=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(Bh.fromBase64String(e))}catch(e){throw new Gh(Wh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Bh.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),Yh=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Yh.UNAUTHENTICATED=new Yh(null),Yh.R=new Yh("google-credentials-uid"),Yh.P=new Yh("first-party-uid");var Kh=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},Xh=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(Yh.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),Zh=function(){function t(t){var e=this;this.D=null,this.currentUser=Yh.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(Dh("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Uh("string"==typeof n.accessToken),new Kh(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return Uh(null===t||"string"==typeof t),new Yh(t)},t}(),Jh=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=Yh.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),tf=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new Jh(this.F,this.O))},t.prototype.v=function(t){t(Yh.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),ef=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();ef.q=-1;var nf=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Gh(Wh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Gh(Wh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Gh(Wh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Gh(Wh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?qh(this.nanoseconds,t.nanoseconds):qh(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),rf=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new nf(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),of=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Lh(),void 0===n?n=t.length-e:n>t.length-e&&Lh(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),sf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yo.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Gh(Wh.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(of),af=/^[_a-zA-Z][_a-zA-Z0-9]*$/,uf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yo.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return af.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Gh(Wh.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Gh(Wh.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Gh(Wh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Gh(Wh.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(of),cf=function(){function t(t){this.path=t}return t._t=function(e){return new t(sf.ot(e))},t.ft=function(e){return new t(sf.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===sf.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return sf.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new sf(e.slice()))},t}();function lf(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hf(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ff(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var df=function(){function t(t){this.fields=t,t.sort(uf.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return Hh(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),pf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gf(t){if(Uh(!!t),"string"==typeof t){var e=0,n=pf.exec(t);if(Uh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vf(t.seconds),nanos:vf(t.nanos)}}function vf(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function bf(t){return"string"==typeof t?Bh.fromBase64String(t):Bh.fromUint8Array(t)}function mf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function yf(t){var e=t.mapValue.fields.__previous_value__;return mf(e)?yf(e):e}function _f(t){var e=gf(t.mapValue.fields.__local_write_time__.timestampValue);return new nf(e.seconds,e.nanos)}function wf(t){return null==t}function Cf(t){return 0===t&&1/t==-1/0}function Of(t){return"number"==typeof t&&Number.isInteger(t)&&!Cf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Sf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mf(t)?4:10:Lh()}function Ef(t,e){var n=Sf(t);if(n!==Sf(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _f(t).isEqual(_f(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=gf(t.timestampValue),r=gf(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return bf(t.bytesValue).isEqual(bf(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return vf(t.geoPointValue.latitude)===vf(e.geoPointValue.latitude)&&vf(t.geoPointValue.longitude)===vf(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return vf(t.integerValue)===vf(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=vf(t.doubleValue),r=vf(e.doubleValue);return n===r?Cf(n)===Cf(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Hh(t.arrayValue.values||[],e.arrayValue.values||[],Ef);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(lf(n)!==lf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ef(n[i],r[i])))return!1;return!0}(t,e);default:return Lh()}}function xf(t,e){return void 0!==(t.values||[]).find(function(t){return Ef(t,e)})}function Tf(t,e){var n=Sf(t),r=Sf(e);if(n!==r)return qh(n,r);switch(n){case 0:return 0;case 1:return qh(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=vf(t.integerValue||t.doubleValue),r=vf(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return If(t.timestampValue,e.timestampValue);case 4:return If(_f(t),_f(e));case 5:return qh(t.stringValue,e.stringValue);case 6:return function(t,e){var n=bf(t),r=bf(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=qh(n[i],r[i]);if(0!==o)return o}return qh(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=qh(vf(t.latitude),vf(e.latitude));return 0!==n?n:qh(vf(t.longitude),vf(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Tf(n[i],r[i]);if(o)return o}return qh(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=qh(r[s],o[s]);if(0!==a)return a;var u=Tf(n[r[s]],i[o[s]]);if(0!==u)return u}return qh(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Lh()}}function If(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return qh(t,e);var n=gf(t),r=gf(e),i=qh(n.seconds,r.seconds);return 0!==i?i:qh(n.nanos,r.nanos)}function Pf(t){return jf(t)}function jf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=gf(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?bf(t.bytesValue).toBase64():"referenceValue"in t?cf.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=jf(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+jf(t.fields[o])}return e+"}"}(t.mapValue):Lh();var e}function Af(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function kf(t){return!!t&&"integerValue"in t}function Df(t){return!!t&&"arrayValue"in t}function Nf(t){return!!t&&"nullValue"in t}function Rf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mf(t){return!!t&&"mapValue"in t}var Lf=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Mf(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return Ef(this.proto,t.proto)},t}(),Uf=function(){function t(t){void 0===t&&(t=Lf.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Sf(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(uf.ct(),this.At);return null!=t?new Lf(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=Mf(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Ff(t){var e=[];return hf(t.fields||{},function(t,n){var r=new uf([t]);if(Mf(n)){var i=Ff(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new df(e)}var Vf=function(t,e){this.key=t,this.version=e},Qf=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Yo.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Vf),qf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Yo.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Vf),Hf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yo.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Vf),zf=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function Bf(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new zf(t,e,n,r,i,o,s)}function Wf(t){var e=Fh(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+Pf(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),wf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=od(e.startAt)),e.endAt&&(n+="|ub:",n+=od(e.endAt)),e.vt=n}return e.vt}function Gf(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ad(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Ef(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cd(t.startAt,e.startAt)&&cd(t.endAt,e.endAt)}function $f(t){return cf.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Yf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Yo.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new Kf(t,n,r):"array-contains"===n?new td(t,r):"in"===n?new ed(t,r):"not-in"===n?new nd(t,r):"array-contains-any"===n?new rd(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new Xf(t,n):new Zf(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(Tf(e,this.value)):null!==e&&Sf(this.value)===Sf(e)&&this.Dt(Tf(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Lh()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Kf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=cf.ft(r.referenceValue),i}return Object(Yo.c)(e,t),e.prototype.matches=function(t){var e=cf.H(t.key,this.key);return this.Dt(e)},e}(Yf),Xf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Jf(0,n),r}return Object(Yo.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Yf),Zf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Jf(0,n),r}return Object(Yo.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Yf);function Jf(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return cf.ft(t.referenceValue)})}var td=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Yo.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Df(e)&&xf(e.arrayValue,this.value)},e}(Yf),ed=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Yo.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&xf(this.value.arrayValue,e)},e}(Yf),nd=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Yo.c)(e,t),e.prototype.matches=function(t){if(xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!xf(this.value.arrayValue,e)},e}(Yf),rd=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Yo.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Df(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return xf(e.value.arrayValue,t)})},e}(Yf),id=function(t,e){this.position=t,this.before=e};function od(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Pf(t)}).join(",")}var sd=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ad(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ud(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?cf.H(cf.ft(s.referenceValue),n.key):Tf(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function cd(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ef(t.position[n],e.position[n]))return!1;return!0}var ld=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Nt=null,this.$t=null};function hd(t,e,n,r,i,o,s,a){return new ld(t,e,n,r,i,o,s,a)}function fd(t){return new ld(t)}function dd(t){return!wf(t.limit)&&"F"===t.limitType}function pd(t){return!wf(t.limit)&&"L"===t.limitType}function gd(t){return t.xt.length>0?t.xt[0].field:null}function vd(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function bd(t){return null!==t.collectionGroup}function md(t){var e=Fh(t);if(null===e.Nt){e.Nt=[];var n=vd(e),r=gd(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new sd(n)),e.Nt.push(new sd(uf.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var a=s[o];e.Nt.push(a),a.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new sd(uf.ht(),u))}}}return e.Nt}function yd(t){var e=Fh(t);if(!e.$t)if("F"===e.limitType)e.$t=Bf(e.path,e.collectionGroup,md(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=md(e);r<i.length;r++){var o=i[r];n.push(new sd(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new id(e.endAt.position,!e.endAt.before):null,a=e.startAt?new id(e.startAt.position,!e.startAt.before):null;e.$t=Bf(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.$t}function _d(t,e,n){return new ld(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wd(t,e){return Gf(yd(t),yd(e))&&t.limitType===e.limitType}function Cd(t){return Wf(yd(t))+"|lt:"+t.limitType}function Od(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+Pf(e.value);var e}).join(", ")+"]"),wf(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+od(t.startAt)),t.endAt&&(e+=", endAt: "+od(t.endAt)),"Target("+e+")"}(yd(t))+"; limitType="+t.limitType+")"}function Sd(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):cf.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ud(t.startAt,md(t),e)||t.endAt&&ud(t.endAt,md(t),e))}(t,e)}function Ed(t){return function(e,n){for(var r=!1,i=0,o=md(t);i<o.length;i++){var s=o[i],a=xd(s,e,n);if(0!==a)return a;r=r||s.field.ut()}return 0}}function xd(t,e,n){var r=t.field.ut()?cf.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Tf(r,i):Lh()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Lh()}}var Td=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=rf.min()),void 0===o&&(o=rf.min()),void 0===s&&(s=Bh.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function Id(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cf(e)?"-0":e}}function Pd(t){return{integerValue:""+t}}function jd(t,e){return Of(e)?Pd(e):Id(t,e)}var Ad=function(){this.qt=void 0};function kd(t,e,n){return t instanceof Rd?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Md?Ld(t,e):t instanceof Ud?Fd(t,e):function(t,e){var n=Nd(t,e),r=Qd(n)+Qd(t.Ut);return kf(n)&&kf(t.Ut)?Pd(r):Id(t.Qt,r)}(t,e)}function Dd(t,e,n){return t instanceof Md?Ld(t,e):t instanceof Ud?Fd(t,e):n}function Nd(t,e){return t instanceof Vd?kf(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Rd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yo.c)(e,t),e}(Ad),Md=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Yo.c)(e,t),e}(Ad);function Ld(t,e){for(var n=qd(e),r=function(t){n.some(function(e){return Ef(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ud=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Yo.c)(e,t),e}(Ad);function Fd(t,e){for(var n=qd(e),r=function(t){n=n.filter(function(e){return!Ef(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Vd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(Yo.c)(e,t),e}(Ad);function Qd(t){return vf(t.integerValue||t.doubleValue)}function qd(t){return Df(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Hd=function(t,e){this.field=t,this.transform=e},zd=function(t,e){this.version=t,this.transformResults=e},Bd=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Wd(t,e){return void 0!==t.updateTime?e instanceof Qf&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Qf}var Gd=function(){};function $d(t,e,n){return t instanceof Jd?function(t,e,n){var r=t.value,i=np(t.fieldTransforms,e,n.transformResults);return r=ip(t.fieldTransforms,r,i),new Qf(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof tp?function(t,e,n){if(!Wd(t.jt,e))return new Hf(t.key,n.version);var r=ep(t,e,np(t.fieldTransforms,e,n.transformResults));return new Qf(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new qf(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Yd(t,e,n){return t instanceof Jd?function(t,e,n){if(!Wd(t.jt,e))return e;var r=t.value,i=rp(t.fieldTransforms,n,e);r=ip(t.fieldTransforms,r,i);var o=Zd(e);return new Qf(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof tp?function(t,e,n){if(!Wd(t.jt,e))return e;var r=Zd(e),i=ep(t,e,rp(t.fieldTransforms,n,e));return new Qf(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Wd(t.jt,e)?new qf(t.key,rf.min()):e}(t,e)}function Kd(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Qf?e.field(o.field):void 0,a=Nd(o.transform,s||null);null!=a&&(n=null==n?(new Uf).set(o.field,a):n.set(o.field,a))}return n?n.Pt():null}(t.fieldTransforms,e)}function Xd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Hh(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Md&&e instanceof Md||t instanceof Ud&&e instanceof Ud?Hh(t.elements,e.elements,Ef):t instanceof Vd&&e instanceof Vd?Ef(t.Ut,e.Ut):t instanceof Rd&&e instanceof Rd}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function Zd(t){return t instanceof Qf?t.version:rf.min()}var Jd=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(Yo.c)(e,t),e}(Gd),tp=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Object(Yo.c)(e,t),e}(Gd);function ep(t,e,n){var r;return r=function(t,e){var n=new Uf(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof Qf?e.data():Lf.empty()),ip(t.fieldTransforms,r,n)}function np(t,e,n){var r=[];Uh(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Qf&&(a=e.field(o.field)),r.push(Dd(s,a,n[i]))}return r}function rp(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=null;n instanceof Qf&&(u=n.field(s.field)),r.push(kd(a,u,e))}return r}function ip(t,e,n){for(var r=new Uf(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var op,sp,ap=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(Yo.c)(e,t),e}(Gd),up=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(Yo.c)(e,t),e}(Gd),cp=function(t){this.count=t};function lp(t){switch(t){case Wh.OK:return Lh();case Wh.CANCELLED:case Wh.UNKNOWN:case Wh.DEADLINE_EXCEEDED:case Wh.RESOURCE_EXHAUSTED:case Wh.INTERNAL:case Wh.UNAVAILABLE:case Wh.UNAUTHENTICATED:return!1;case Wh.INVALID_ARGUMENT:case Wh.NOT_FOUND:case Wh.ALREADY_EXISTS:case Wh.PERMISSION_DENIED:case Wh.FAILED_PRECONDITION:case Wh.ABORTED:case Wh.OUT_OF_RANGE:case Wh.UNIMPLEMENTED:case Wh.DATA_LOSS:return!0;default:return Lh()}}function hp(t){if(void 0===t)return Nh("GRPC error has no .code"),Wh.UNKNOWN;switch(t){case op.OK:return Wh.OK;case op.CANCELLED:return Wh.CANCELLED;case op.UNKNOWN:return Wh.UNKNOWN;case op.DEADLINE_EXCEEDED:return Wh.DEADLINE_EXCEEDED;case op.RESOURCE_EXHAUSTED:return Wh.RESOURCE_EXHAUSTED;case op.INTERNAL:return Wh.INTERNAL;case op.UNAVAILABLE:return Wh.UNAVAILABLE;case op.UNAUTHENTICATED:return Wh.UNAUTHENTICATED;case op.INVALID_ARGUMENT:return Wh.INVALID_ARGUMENT;case op.NOT_FOUND:return Wh.NOT_FOUND;case op.ALREADY_EXISTS:return Wh.ALREADY_EXISTS;case op.PERMISSION_DENIED:return Wh.PERMISSION_DENIED;case op.FAILED_PRECONDITION:return Wh.FAILED_PRECONDITION;case op.ABORTED:return Wh.ABORTED;case op.OUT_OF_RANGE:return Wh.OUT_OF_RANGE;case op.UNIMPLEMENTED:return Wh.UNIMPLEMENTED;case op.DATA_LOSS:return Wh.DATA_LOSS;default:return Lh()}}(sp=op||(op={}))[sp.OK=0]="OK",sp[sp.CANCELLED=1]="CANCELLED",sp[sp.UNKNOWN=2]="UNKNOWN",sp[sp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sp[sp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sp[sp.NOT_FOUND=5]="NOT_FOUND",sp[sp.ALREADY_EXISTS=6]="ALREADY_EXISTS",sp[sp.PERMISSION_DENIED=7]="PERMISSION_DENIED",sp[sp.UNAUTHENTICATED=16]="UNAUTHENTICATED",sp[sp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sp[sp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sp[sp.ABORTED=10]="ABORTED",sp[sp.OUT_OF_RANGE=11]="OUT_OF_RANGE",sp[sp.UNIMPLEMENTED=12]="UNIMPLEMENTED",sp[sp.INTERNAL=13]="INTERNAL",sp[sp.UNAVAILABLE=14]="UNAVAILABLE",sp[sp.DATA_LOSS=15]="DATA_LOSS";var fp=function(){function t(t,e){this.H=t,this.root=e||pp.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,pp.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,pp.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new dp(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new dp(this.root,t,this.H,!1)},t.prototype.ne=function(){return new dp(this.root,null,this.H,!0)},t.prototype.se=function(t){return new dp(this.root,t,this.H,!0)},t}(),dp=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),pp=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Lh();if(this.right.le())throw Lh();var t=this.left.Ie();if(t!==this.right.Ie())throw Lh();return t+(this.le()?0:1)},t}();pp.EMPTY=null,pp.RED=!0,pp.Ht=!1,pp.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Lh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Lh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Lh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Lh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Lh()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new pp(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var gp=function(){function t(t){this.H=t,this.data=new fp(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new vp(this.data.te())},t.prototype.ee=function(t){return new vp(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),vp=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),bp=new fp(cf.H);function mp(){return bp}function yp(){return mp()}var _p=new fp(cf.H);function wp(){return _p}var Cp=new fp(cf.H);function Op(){return Cp}var Sp=new gp(cf.H);function Ep(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Sp,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var xp=new gp(qh);function Tp(){return xp}var Ip=function(){function t(t){this.H=t?function(e,n){return t(e,n)||cf.H(e.key,n.key)}:function(t,e){return cf.H(t.key,e.key)},this.ge=wp(),this.Ve=new fp(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),Pp=function(){function t(){this.be=new fp(cf.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Lh():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),jp=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=a}return t.Ne=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Ip.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&wd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ap=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,kp.Le(e,n)),new t(rf.min(),r,Tp(),mp(),Ep())},t}(),kp=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(Bh.T,n,Ep(),Ep(),Ep())},t}(),Dp=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},Np=function(t,e){this.targetId=t,this.je=e},Rp=function(t,e,n,r){void 0===n&&(n=Bh.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Mp=function(){function t(){this.Ge=0,this.ze=Fp(),this.He=Bh.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=Ep(),e=Ep(),n=Ep();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Lh()}}),new kp(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=Fp()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Lp=function(){function t(t){this.un=t,this.hn=new Map,this.ln=mp(),this._n=Up(),this.fn=new gp(qh)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof Qf?this.wn(r,t.We):t.We instanceof qf&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Lh()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if($f(i))if(0===n){var o=new cf(i.path);this.En(e,o,new qf(o,rf.min()))}else Uh(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var o=e.yn(i);if(o){if(r.Be&&$f(o.target)){var s=new cf(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new qf(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=Ep();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Ap(t,n,this.fn,this.ln,r);return this.ln=mp(),this._n=Up(),this.fn=new gp(qh),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new Mp,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new gp(qh),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||Dh("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new Mp),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function Up(){return new fp(cf.H)}function Fp(){return new fp(cf.H)}var Vp={asc:"ASCENDING",desc:"DESCENDING"},Qp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qp=function(t,e){this.t=t,this.Bt=e};function Hp(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function zp(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Bp(t,e){return Hp(t,e.j())}function Wp(t){return Uh(!!t),rf.K(function(t){var e=gf(t);return new nf(e.seconds,e.nanos)}(t))}function Gp(t,e){return function(t){return new sf(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function $p(t){var e=sf.ot(t);return Uh(mg(e)),e}function Yp(t,e){return Gp(t.t,e.path)}function Kp(t,e){var n=$p(e);if(n.get(1)!==t.t.projectId)throw new Gh(Wh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Gh(Wh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new cf(tg(n))}function Xp(t,e){return Gp(t.t,e)}function Zp(t){var e=$p(t);return 4===e.length?sf.ct():tg(e)}function Jp(t){return new sf(["projects",t.t.projectId,"databases",t.t.database]).rt()}function tg(t){return Uh(t.length>4&&"documents"===t.get(4)),t.Y(5)}function eg(t,e,n){return{name:Yp(t,e),fields:n.proto.mapValue.fields}}function ng(t,e,n){var r=Kp(t,e.name),i=Wp(e.updateTime),o=new Lf({mapValue:{fields:e.fields}});return new Qf(r,i,o,{hasCommittedMutations:!!n})}function rg(t,e){var n;if(e instanceof Jd)n={update:eg(t,e.key,e.value)};else if(e instanceof ap)n={delete:Yp(t,e.key)};else if(e instanceof tp)n={update:eg(t,e.key,e.data),updateMask:bg(e.Gt)};else{if(!(e instanceof up))return Lh();n={verify:Yp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Rd)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Md)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof Ud)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof Vd)return{fieldPath:e.field.rt(),increment:n.Ut};throw Lh()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Bp(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Lh()}(t,e.jt)),n}function ig(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Bd.updateTime(Wp(t.updateTime)):void 0!==t.exists?Bd.exists(t.exists):Bd.Kt()}(e.currentDocument):Bd.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Uh("REQUEST_TIME"===e.setToServerValue),n=new Rd):"appendMissingElements"in e?n=new Md(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ud(e.removeAllFromArray.values||[]):"increment"in e?n=new Vd(t,e.increment):Lh();var r=uf.lt(e.fieldPath);return new Hd(r,n)}(t,e)}):[];if(e.update){var i=Kp(t,e.update.name),o=new Lf({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new df((t.fieldPaths||[]).map(function(t){return uf.lt(t)}))}(e.updateMask);return new tp(i,o,s,n,r)}return new Jd(i,o,n,r)}if(e.delete){var a=Kp(t,e.delete);return new ap(a,n)}if(e.verify){var u=Kp(t,e.verify);return new up(u,n)}return Lh()}function og(t,e){return{documents:[Xp(t,e.path)]}}function sg(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Xp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Xp(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Rf(t.value))return{unaryFilter:{field:dg(t.field),op:"IS_NAN"}};if(Nf(t.value))return{unaryFilter:{field:dg(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Rf(t.value))return{unaryFilter:{field:dg(t.field),op:"IS_NOT_NAN"}};if(Nf(t.value))return{unaryFilter:{field:dg(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dg(t.field),op:fg(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:dg(t.field),direction:hg(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||wf(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=cg(e.startAt)),e.endAt&&(n.structuredQuery.endAt=cg(e.endAt)),n}function ag(t){var e=Zp(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Uh(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=ug(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new sd(pg(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return wf(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=lg(n.startAt));var l=null;return n.endAt&&(l=lg(n.endAt)),hd(e,i,a,s,u,"F",c,l)}function ug(t){return t?void 0!==t.unaryFilter?[vg(t)]:void 0!==t.fieldFilter?[gg(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return ug(t)}).reduce(function(t,e){return t.concat(e)}):Lh():[]}function cg(t){return{before:t.before,values:t.position}}function lg(t){return new id(t.values||[],!!t.before)}function hg(t){return Vp[t]}function fg(t){return Qp[t]}function dg(t){return{fieldPath:t.rt()}}function pg(t){return uf.lt(t.fieldPath)}function gg(t){return Yf.create(pg(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Lh()}}(t.fieldFilter.op),t.fieldFilter.value)}function vg(t){switch(t.unaryFilter.op){case"IS_NAN":var e=pg(t.unaryFilter.field);return Yf.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=pg(t.unaryFilter.field);return Yf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=pg(t.unaryFilter.field);return Yf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=pg(t.unaryFilter.field);return Yf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Lh()}}function bg(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function mg(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var yg=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},_g=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Lh(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}})},t.prototype.On=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Mn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Mn(r)},t}(),wg=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new yg,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new Sg(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=Pg(e.target.error);n.Bn.reject(new Sg(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Sg(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(Dh("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new xg(e)},t}(),Cg=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(Ta.n)())&&Nh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Dh("SimpleDb","Removing database:",t),Tg(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Ta.n)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(Yo.b)(this,void 0,void 0,function(){var e,n=this;return Object(Yo.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Dh("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Sg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Gh(Wh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Sg(t,n))},i.onupgradeneeded=function(t){Dh("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Dh("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Yo.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(Yo.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Yo.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=h.sent(),e=wg.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),_g.reject(t)}).On(),u={},s.catch(function(){}),[4,e.qn];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Dh("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Og=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return Tg(this.Zn.delete())},t}(),Sg=function(t){function e(e,n){var r=this;return(r=t.call(this,Wh.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Yo.c)(e,t),e}(Gh);function Eg(t){return"IndexedDbTransactionError"===t.name}var xg=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Dh("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Dh("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Tg(n)},t.prototype.add=function(t){return Dh("SimpleDb","ADD",this.store.name,t,t),Tg(this.store.add(t))},t.prototype.get=function(t){var e=this;return Tg(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Dh("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Dh("SimpleDb","DELETE",this.store.name,t),Tg(this.store.delete(t))},t.prototype.count=function(){return Dh("SimpleDb","COUNT",this.store.name),Tg(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){Dh("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new _g(function(n,r){e.onerror=function(t){var e=Pg(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new _g(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Og(i),s=e(i.primaryKey,i.value,o);if(s instanceof _g){var a=s.catch(function(t){return o.done(),_g.reject(t)});n.push(a)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}}).next(function(){return _g.Mn(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Tg(t){return new _g(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Pg(t.target.error);n(e)}})}var Ig=!1;function Pg(t){var e=Cg.Qn(Object(Ta.n)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Gh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ig||(Ig=!0,setTimeout(function(){throw r},0)),r}}return t}var jg=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new yg,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new Gh(Wh.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function Ag(t,e){if(Nh("AsyncQueue",e+": "+t),Eg(t))return new Gh(Wh.UNAVAILABLE,e+": "+t);throw t}var kg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dg=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function Ng(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Mg(e)),e=Rg(t.get(n),e);return Mg(e)}function Rg(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Mg(t){return t+"\x01\x01"}function Lg(t){var e=t.length;if(Uh(e>=2),2===e)return Uh("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),sf.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Lh(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Lh()}o=s+2}return new sf(r)}var Ug=function(t,e){this.seconds=t,this.nanoseconds=e},Fg=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Fg.store="owner",Fg.key="owner";var Vg=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Vg.store="mutationQueues",Vg.keyPath="userId";var Qg=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Qg.store="mutations",Qg.keyPath="batchId",Qg.userMutationsIndex="userMutationsIndex",Qg.userMutationsKeyPath=["userId","batchId"];var qg=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ng(e)]},t.key=function(t,e,n){return[t,Ng(e),n]},t}();qg.store="documentMutations",qg.PLACEHOLDER=new qg;var Hg=function(t,e){this.path=t,this.readTime=e},zg=function(t,e){this.path=t,this.version=e},Bg=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Bg.store="remoteDocuments",Bg.readTimeIndex="readTimeIndex",Bg.readTimeIndexPath="readTime",Bg.collectionReadTimeIndex="collectionReadTimeIndex",Bg.collectionReadTimeIndexPath=["parentPath","readTime"];var Wg=function(t){this.byteSize=t};Wg.store="remoteDocumentGlobal",Wg.key="remoteDocumentGlobalKey";var Gg=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Gg.store="targets",Gg.keyPath="targetId",Gg.queryTargetsIndexName="queryTargetsIndex",Gg.queryTargetsKeyPath=["canonicalId","targetId"];var $g=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};$g.store="targetDocuments",$g.keyPath=["targetId","path"],$g.documentTargetsIndex="documentTargetsIndex",$g.documentTargetsKeyPath=["path","targetId"];var Yg=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Yg.key="targetGlobalKey",Yg.store="targetGlobal";var Kg=function(t,e){this.collectionId=t,this.parent=e};Kg.store="collectionParents",Kg.keyPath=["collectionId","parent"];var Xg=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Xg.store="clientMetadata",Xg.keyPath="clientId";var Zg=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Zg.store="bundles",Zg.keyPath="bundleId";var Jg=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Jg.store="namedQueries",Jg.keyPath="name";var tv=Object(Yo.f)(Object(Yo.f)([],Object(Yo.f)(Object(Yo.f)([],Object(Yo.f)(Object(Yo.f)([],Object(Yo.f)(Object(Yo.f)([],[Vg.store,Qg.store,qg.store,Bg.store,Gg.store,Fg.store,Yg.store,$g.store]),[Xg.store])),[Wg.store])),[Kg.store])),[Zg.store,Jg.store]),ev=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(Yo.c)(e,t),e}(Dg);function nv(t,e){var n=Fh(t);return Cg.zn(n.ps,e)}var rv=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=$d(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=Yd(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=Yd(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ep())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Hh(this.mutations,t.mutations,function(t,e){return Xd(t,e)})&&Hh(this.baseMutations,t.baseMutations,function(t,e){return Xd(t,e)})},t}(),iv=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){Uh(e.mutations.length===r.length);for(var i=Op(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),ov=function(t){this.Fs=t};function sv(t,e){if(e.document)return ng(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=cf.Et(e.noDocument.path),r=hv(e.noDocument.readTime);return new qf(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=cf.Et(e.unknownDocument.path);return r=hv(e.unknownDocument.version),new Hf(i,r)}return Lh()}function av(t,e,n){var r=uv(n),i=e.key.path.X().it();if(e instanceof Qf){var o=function(t,e){return{name:Yp(t,e.key),fields:e.bt().mapValue.fields,updateTime:Hp(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new Bg(null,null,o,s,r,i)}if(e instanceof qf){var a=e.key.path.it(),u=lv(e.version);return s=e.hasCommittedMutations,new Bg(null,new Hg(a,u),null,s,r,i)}if(e instanceof Hf){var c=e.key.path.it(),l=lv(e.version);return new Bg(new zg(c,l),null,null,!0,r,i)}return Lh()}function uv(t){var e=t.j();return[e.seconds,e.nanoseconds]}function cv(t){var e=new nf(t[0],t[1]);return rf.K(e)}function lv(t){var e=t.j();return new Ug(e.seconds,e.nanoseconds)}function hv(t){var e=new nf(t.seconds,t.nanoseconds);return rf.K(e)}function fv(t,e){for(var n=(e.baseMutations||[]).map(function(e){return ig(t.Fs,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return ig(t.Fs,e)}),o=nf.fromMillis(e.localWriteTimeMs);return new rv(e.batchId,o,n,i)}function dv(t){var e,n,r=hv(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?hv(t.lastLimboFreeSnapshotVersion):rf.min();return void 0!==t.query.documents?(Uh(1===(n=t.query).documents.length),e=yd(fd(Zp(n.documents[0])))):e=function(t){return yd(ag(t))}(t.query),new Td(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Bh.fromBase64String(t.resumeToken))}function pv(t,e){var n,r=lv(e.Ot),i=lv(e.lastLimboFreeSnapshotVersion);n=$f(e.target)?og(t.Fs,e.target):sg(t.Fs,e.target);var o=e.resumeToken.toBase64();return new Gg(e.targetId,Wf(e.target),r,o,e.sequenceNumber,i,n)}function gv(t){var e=ag({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?_d(e,e.limit,"L"):e}var vv=function(){function t(){}return t.prototype.Os=function(t,e){return bv(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:hv(e.createTime),version:e.version};var e})},t.prototype.ks=function(t,e){return bv(t).put({bundleId:(n=e).id,createTime:lv(Wp(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return mv(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:gv(e.bundledQuery),readTime:hv(e.readTime)};var e})},t.prototype.Ls=function(t,e){return mv(t).put(function(t){return{name:t.name,readTime:lv(Wp(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function bv(t){return nv(t,Zg.store)}function mv(t){return nv(t,Jg.store)}var yv=function(){function t(){this.Bs=new _v}return t.prototype.qs=function(t,e){return this.Bs.add(e),_g.resolve()},t.prototype.Us=function(t,e){return _g.resolve(this.Bs.getEntries(e))},t}(),_v=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new gp(sf.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new gp(sf.H)).it()},t}(),wv=function(){function t(){this.Qs=new _v}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var o={collectionId:r,parent:Ng(i)};return Cv(t).put(o)}return _g.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[zh(e),""],!1,!0);return Cv(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Lg(o.parent))}return n})},t}();function Cv(t){return nv(t,Kg.store)}var Ov={Ks:!1,Ws:0,js:0,Gs:0},Sv=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function Ev(t){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(e){if(t.code!==Wh.FAILED_PRECONDITION||t.message!==kg)throw t;return Dh("LocalStore","Unexpectedly lost primary lease"),[2]})})}Sv.Xs=10,Sv.Zs=1e3,Sv.ti=new Sv(41943040,Sv.Xs,Sv.Zs),Sv.ei=new Sv(-1,0,0);var xv=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.si(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){hf(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.et=function(){return ff(this.ii)},t}(),Tv=function(){function t(){this.ri=new xv(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:rf.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?_g.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function Iv(t,e,n){var r=t.store(Qg.store),i=t.store(qg.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.hs({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Uh(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=qg.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return _g.Mn(o).next(function(){return c})}function Pv(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Lh();e=t.noDocument}return JSON.stringify(e).length}var jv=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return Uh(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kv(t).hs({index:Qg.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,o=Dv(t),s=kv(t);return s.add({}).next(function(a){Uh("number"==typeof a);for(var u=new rv(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return rg(t.Fs,e)}),i=n.mutations.map(function(e){return rg(t.Fs,e)});return new Qg(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),l=[],h=new gp(function(t,e){return qh(t.rt(),e.rt())}),f=0,d=r;f<d.length;f++){var p=d[f],g=qg.key(i.userId,p.key.path,a);h=h.add(p.key.path.X()),l.push(s.put(c)),l.push(o.put(g,qg.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[a]=u.keys()}),_g.Mn(l).next(function(){return u})})},t.prototype.Pi=function(t,e){var n=this;return kv(t).get(e).next(function(t){return t?(Uh(t.userId===n.userId),fv(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?_g.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return kv(t).hs({index:Qg.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Uh(e.batchId>=r),o=fv(n.Qt,e)),i.done()}).next(function(){return o})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return kv(t).hs({index:Qg.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kv(t).rs(Qg.userMutationsIndex,n).next(function(t){return t.map(function(t){return fv(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=qg.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Dv(t).hs({range:i},function(r,i,s){var a=r[0],u=r[2],c=Lg(r[1]);if(a===n.userId&&e.path.isEqual(c))return kv(t).get(u).next(function(t){if(!t)throw Lh();Uh(t.userId===n.userId),o.push(fv(n.Qt,t))});s.done()}).next(function(){return o})},t.prototype.vi=function(t,e){var n=this,r=new gp(qh),i=[];return e.forEach(function(e){var o=qg.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Dv(t).hs({range:s},function(t,i,o){var s=t[0],a=t[2],u=Lg(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),_g.Mn(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=qg.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new gp(qh);return Dv(t).hs({range:s},function(t,e,o){var s=t[0],u=t[2],c=Lg(t[1]);s===n.userId&&r.nt(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Si(t,a)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(kv(t).get(e).next(function(t){if(null===t)throw Lh();Uh(t.userId===n.userId),r.push(fv(n.Qt,t))}))}),_g.Mn(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return Iv(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),_g.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return _g.resolve();var r=IDBKeyRange.lowerBound(qg.prefixForUser(e.userId)),i=[];return Dv(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var o=Lg(t[1]);i.push(o)}else r.done()}).next(function(){Uh(0===i.length)})})},t.prototype.Fi=function(t,e){return Av(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Nv(t).get(this.userId).next(function(t){return t||new Vg(e.userId,-1,"")})},t}();function Av(t,e,n){var r=qg.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Dv(t).hs({range:o,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function kv(t){return nv(t,Qg.store)}function Dv(t){return nv(t,qg.store)}function Nv(t){return nv(t,Vg.store)}var Rv=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),Mv=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new Rv(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return rf.K(new nf(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return Lv(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return Uh(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return Lv(t).hs(function(s,a){var u=dv(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))}).next(function(){return _g.Mn(o)}).next(function(){return i})},t.prototype.In=function(t,e){return Lv(t).hs(function(t,n){var r=dv(n);e(r)})},t.prototype.qi=function(t){return Uv(t).get(Yg.key).next(function(t){return Uh(null!==t),t})},t.prototype.Ui=function(t,e){return Uv(t).put(Yg.key,e)},t.prototype.Gi=function(t,e){return Lv(t).put(pv(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=Wf(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Lv(t).hs({range:r,index:Gg.queryTargetsIndexName},function(t,n,r){var o=dv(n);Gf(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],o=Fv(t);return e.forEach(function(e){var s=Ng(e.path);i.push(o.put(new $g(n,s))),i.push(r.Ti.nr(t,n,e))}),_g.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=Fv(t);return _g.forEach(e,function(e){var o=Ng(e.path);return _g.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=Fv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Fv(t),i=Ep();return r.hs({range:n,us:!0},function(t,e,n){var r=Lg(t[1]),o=new cf(r);i=i.add(o)}).next(function(){return i})},t.prototype.Fi=function(t,e){var n=Ng(e.path),r=IDBKeyRange.bound([n],[zh(n)],!1,!0),i=0;return Fv(t).hs({index:$g.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return Lv(t).get(e).next(function(t){return t?dv(t):null})},t}();function Lv(t){return nv(t,Gg.store)}function Uv(t){return nv(t,Yg.store)}function Fv(t){return nv(t,$g.store)}function Vv(t,e){var n=t[1],r=e[1],i=qh(t[0],e[0]);return 0===i?qh(n,r):i}var Qv=function(){function t(t){this.cr=t,this.buffer=new gp(Vv),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Vv(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),qv=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;Dh("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Object(Yo.b)(e,void 0,void 0,function(){var e;return Object(Yo.d)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return Eg(e=n.sent())?(Dh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ev(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),Hv=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return _g.resolve(ef.q);var r=new Qv(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(Dh("LruGarbageCollector","Garbage collection skipped; disabled"),_g.resolve(Ov)):this.pr(t).next(function(r){return r<n.params.zs?(Dh("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Ov):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>c.params.Js?(Dh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Xi(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.gr(t,n)}).next(function(t){return u=Date.now(),kh()<=xa.a.DEBUG&&Dh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),_g.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),zv=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new Hv(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return Bv(t,n)},t.prototype.ir=function(t,e,n){return Bv(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Bv(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Nv(t).ls(function(r){return Av(t,r,e).next(function(t){return t&&(n=!0),_g.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,function(s,a){if(a<=e){var u=n.Cr(t,s).next(function(e){if(!e)return o++,r._i(t,s).next(function(){return r.li(s),Fv(t).delete([0,Ng(s.path)])})});i.push(u)}}).next(function(){return _g.Mn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return Bv(t,e)},t.prototype.Dr=function(t,e){var n,r=Fv(t),i=ef.q;return r.hs({index:$g.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==ef.q&&e(new cf(Lg(n)),i),i=s,n=o):i=ef.q}).next(function(){i!==ef.q&&e(new cf(Lg(n)),i)})},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function Bv(t,e){return Fv(t).put(function(t,e){return new $g(0,Ng(t.path),e)}(e,t.bs))}var Wv=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return Yv(t).put(Kv(e),n)},t.prototype.li=function(t,e){var n=Yv(t),r=Kv(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.kr(t,r)})},t.prototype._i=function(t,e){var n=this;return Yv(t).get(Kv(e)).next(function(t){return n.Mr(t)})},t.prototype.Lr=function(t,e){var n=this;return Yv(t).get(Kv(e)).next(function(t){var e=n.Mr(t);return e?{hi:e,size:Pv(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=yp();return this.Br(t,e,function(t,e){var i=n.Mr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=yp(),i=new fp(cf.H);return this.Br(t,e,function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,Pv(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return _g.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return Yv(t).hs({range:r},function(t,e,r){for(var s=cf.Et(t);o&&cf.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=wp(),o=e.path.length+1,s={};if(n.isEqual(rf.min())){var a=e.path.it();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.it(),c=uv(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Bg.collectionReadTimeIndex}return Yv(t).hs(s,function(t,n,s){if(t.length===o){var a=sv(r.Qt,n);e.path.nt(a.key.path)?a instanceof Qf&&Sd(e,a)&&(i=i.zt(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new Gv(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return $v(t).get(Wg.key).next(function(t){return Uh(!!t),t})},t.prototype.kr=function(t,e){return $v(t).put(Wg.key,e)},t.prototype.Mr=function(t){if(t){var e=sv(this.Qt,t);return e instanceof qf&&e.version.isEqual(rf.min())?null:e}return null},t}(),Gv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new xv(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Yo.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new gp(function(t,e){return qh(t.rt(),e.rt())});return this.ri.forEach(function(o,s){var a=e.Gr.get(o);if(s.hi){var u=av(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=Pv(u);r+=c-a,n.push(e.jr.ai(t,o,u))}else if(r-=a,e.Wr){var l=av(e.jr.Qt,new qf(o,rf.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),_g.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(Tv);function $v(t){return nv(t,Wg.store)}function Yv(t){return nv(t,Bg.store)}function Kv(t){return t.path.it()}var Xv=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;Uh(n<r&&n>=0&&r<=11);var o=new wg("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Fg.store)}(t),function(t){t.createObjectStore(Vg.store,{keyPath:Vg.keyPath}),t.createObjectStore(Qg.store,{keyPath:Qg.keyPath,autoIncrement:!0}).createIndex(Qg.userMutationsIndex,Qg.userMutationsKeyPath,{unique:!0}),t.createObjectStore(qg.store)}(t),Zv(t),function(t){t.createObjectStore(Bg.store)}(t));var s=_g.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore($g.store),t.deleteObjectStore(Gg.store),t.deleteObjectStore(Yg.store)}(t),Zv(t)),s=s.next(function(){return function(t){var e=t.store(Yg.store),n=new Yg(0,0,rf.min().j(),0);return e.put(Yg.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Qg.store).rs().next(function(n){t.deleteObjectStore(Qg.store),t.createObjectStore(Qg.store,{keyPath:Qg.keyPath,autoIncrement:!0}).createIndex(Qg.userMutationsIndex,Qg.userMutationsKeyPath,{unique:!0});var r=e.store(Qg.store),i=n.map(function(t){return r.put(t)});return _g.Mn(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Xg.store,{keyPath:Xg.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.zr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Wg.store)}(t),i.Hr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Jr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Yr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Bg.store);e.createIndex(Bg.readTimeIndex,Bg.readTimeIndexPath,{unique:!1}),e.createIndex(Bg.collectionReadTimeIndex,Bg.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Xr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Zg.store,{keyPath:Zg.keyPath})}(t),function(t){t.createObjectStore(Jg.store,{keyPath:Jg.keyPath})}(t)})),s},t.prototype.Hr=function(t){var e=0;return t.store(Bg.store).hs(function(t,n){e+=Pv(n)}).next(function(){var n=new Wg(e);return t.store(Wg.store).put(Wg.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(Vg.store),r=t.store(Qg.store);return n.rs().next(function(n){return _g.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(Qg.userMutationsIndex,i).next(function(r){return _g.forEach(r,function(r){Uh(r.userId===n.userId);var i=fv(e.Qt,r);return Iv(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store($g.store),n=t.store(Bg.store);return t.store(Yg.store).get(Yg.key).next(function(t){var r=[];return n.hs(function(n,i){var o=new sf(n),s=function(t){return[0,Ng(t)]}(o);r.push(e.get(s).next(function(n){return n?_g.resolve():function(n){return e.put(new $g(0,Ng(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return _g.Mn(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(Kg.store,{keyPath:Kg.keyPath});var n=e.store(Kg.store),r=new _v,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Ng(i)})}};return e.store(Bg.store).hs({us:!0},function(t,e){var n=new sf(t);return i(n.X())}).next(function(){return e.store(qg.store).hs({us:!0},function(t,e){var n=Lg(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(Gg.store);return n.hs(function(t,r){var i=dv(r),o=pv(e.Qt,i);return n.put(o)})},t}();function Zv(t){t.createObjectStore($g.store,{keyPath:$g.keyPath}).createIndex($g.documentTargetsIndex,$g.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Gg.store,{keyPath:Gg.keyPath}).createIndex(Gg.queryTargetsIndexName,Gg.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Yg.store)}var Jv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",tb=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=a,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new Gh(Wh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new zv(this,i),this.ho=n+"main",this.Qt=new ov(u),this.lo=new Cg(this.ho,11,new Xv(this.Qt)),this._o=new Mv(this.Ti,this.Qt),this.Ei=new wv,this.fo=function(t,e){return new Wv(t,e)}(this.Qt,this.Ei),this.wo=new vv,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&Nh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Gh(Wh.FAILED_PRECONDITION,Jv);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new ef(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(Yo.b)(e,void 0,void 0,function(){return Object(Yo.d)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Object(Yo.b)(e,void 0,void 0,function(){return Object(Yo.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Object(Yo.b)(e,void 0,void 0,function(){return Object(Yo.d)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return nb(e).put(new Xg(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(Eg(e))return Dh("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Dh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return eb(t).get(Fg.key).next(function(t){return _g.resolve(e.Do(t))})},t.prototype.Co=function(t){return nb(t).delete(this.clientId)},t.prototype.xo=function(){return Object(Yo.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Yo.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=nv(t,Xg.store);return e.rs().next(function(t){var n=r.$o(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return _g.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?_g.resolve(!0):eb(t).get(Fg.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new Gh(Wh.FAILED_PRECONDITION,Jv);return!1}}return!(!e.networkEnabled||!e.inForeground)||nb(t).rs().next(function(t){return void 0===e.$o(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Dh("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.ko=function(){return Object(Yo.b)(this,void 0,void 0,function(){var t=this;return Object(Yo.d)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Fg.store,Xg.store],function(e){var n=new ev(e,ef.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return nb(e).rs().next(function(e){return t.$o(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return jv.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Dh("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",tv,function(o){return r=new ev(o,i.so?i.so.next():ef.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw Nh("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new Gh(Wh.FAILED_PRECONDITION,kg);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return eb(t).get(Fg.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Gh(Wh.FAILED_PRECONDITION,Jv)})},t.prototype.So=function(t){var e=new Fg(this.clientId,this.allowTabSynchronization,Date.now());return eb(t).put(Fg.key,e)},t.Kn=function(){return Cg.Kn()},t.prototype.vo=function(t){var e=this,n=eb(t);return n.get(Fg.key).next(function(t){return e.Do(t)?(Dh("IndexedDbPersistence","Releasing primary lease."),n.delete(Fg.key)):_g.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Nh("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps(function(){return e.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return Dh("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Nh("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Nh("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function eb(t){return nv(t,Fg.store)}function nb(t){return nv(t,Xg.store)}function rb(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ib=function(t,e){this.progress=t,this.Go=e},ob=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=yp();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),o=mp();return i.forEach(function(t,e){e||(e=new qf(t,rf.min())),o=o.zt(t,e)}),o})},t.prototype.Kr=function(t,e,n){return function(t){return cf.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):bd(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new cf(e)).next(function(t){var e=wp();return t instanceof Qf&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=wp();return this.Ei.Us(t,i).next(function(s){return _g.forEach(s,function(s){var a=function(t,e){return new ld(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,a,n).next(function(t){t.forEach(function(t,e){o=o.zt(t,e)})})}).next(function(){return o})})},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,o.zo.Di(t,e)}).next(function(e){return o.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=Yd(u,r.get(c),o.vs);r=l instanceof Qf?r.zt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Sd(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=Ep(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof tp&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Qf&&(c=c.zt(t,e))}),c})},t}(),sb=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=Ep(),i=Ep(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ab=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(rf.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(o){var s=i.hc(e,o);return(dd(e)||pd(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(kh()<=xa.a.DEBUG&&Dh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Od(e)),i.ac.Kr(t,e,n).next(function(t){return s.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new gp(Ed(t));return e.forEach(function(e,r){r instanceof Qf&&Sd(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return kh()<=xa.a.DEBUG&&Dh("QueryEngine","Using full collection scan to execute query:",Od(e)),this.ac.Kr(t,e,rf.min())},t}(),ub=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new fp(qh),this.dc=new xv(function(t){return Wf(t)},Gf),this.wc=rf.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new ob(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function cb(t,e,n,r){return new ub(t,e,n,r)}function lb(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Yo.d)(this,function(s){switch(s.label){case 0:return n=Fh(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.zo.pi(t).next(function(s){return o=s,r=n.persistence.Qo(e),i=new ob(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],s=Ep(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return i.Xo(t,s).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}})})}function hb(t,e){var n=Fh(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=_g.resolve();return o.forEach(function(t){s=s.next(function(){return r._i(e,t)}).next(function(e){var o=e,s=n.$s.get(t);Uh(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)})}),s.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}function fb(t){var e=Fh(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function db(t,e){var n=Fh(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach(function(e,o){var a=i.get(o);if(a){s.push(n._o.sr(t,e.Qe,o).next(function(){return n._o.er(t,e.qe,o)}));var u=e.resumeToken;if(u.l()>0){var c=a.Mt(u,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return Uh(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(a,c,e)&&s.push(n._o.Hi(t,c))}}});var a=mp();if(e.Oe.forEach(function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))}),s.push(pb(t,o,e.Oe,r,void 0).next(function(t){a=t})),!r.isEqual(rf.min())){var u=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});s.push(u)}return _g.Mn(s).next(function(){return o.apply(t)}).next(function(){return n.Tc.Zo(t,a)})}).then(function(t){return n.fc=i,t})}function pb(t,e,n,r,i){var o=Ep();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=mp();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof qf&&s.version.isEqual(rf.min())?(e.li(n,u),o=o.zt(n,s)):null==a||s.version._(a.version)>0||0===s.version._(a.version)&&a.hasPendingWrites?(e.ai(s,u),o=o.zt(n,s)):Dh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function gb(t,e){var n=Fh(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function vb(t,e){var n=Fh(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?_g.resolve(r=i):n._o.Bi(t).next(function(i){return r=new Td(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function bb(t,e,n){return Object(Yo.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Yo.d)(this,function(a){switch(a.label){case 0:r=Fh(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Eg(s=a.sent()))throw s;return Dh("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function mb(t,e,n){var r=Fh(t),i=rf.min(),o=Ep();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Fh(t),i=r.dc.get(n);return void 0!==i?_g.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,yd(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){o=t})}).next(function(){return r._c.Kr(t,e,n?i:rf.min(),n?o:Ep())}).next(function(t){return{documents:t,Rc:o}})})}function yb(t,e){var n=Fh(t),r=Fh(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function _b(t){var e=Fh(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Fh(t),i=mp(),o=uv(n),s=Yv(e),a=IDBKeyRange.lowerBound(o,!0);return s.hs({index:Bg.readTimeIndex,range:a},function(t,e){var n=sv(r.Qt,e);i=i.zt(n.key,n),o=e.readTime}).next(function(){return{Go:i,readTime:cv(o)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function wb(t){return Object(Yo.b)(this,void 0,void 0,function(){var e;return Object(Yo.d)(this,function(n){return[2,(e=Fh(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Yv(t),n=rf.min();return e.hs({index:Bg.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=cv(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function Cb(t,e,n,r){return Object(Yo.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(Yo.d)(this,function(p){switch(p.label){case 0:for(i=Fh(t),o=Ep(),s=mp(),a=Op(),u=0,c=n;u<c.length;u++)h=e.Pc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),a=a.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,vb(i,function(t){return yd(fd(sf.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return pb(t,f,s,rf.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i._o.Yi(t,d.targetId).next(function(){return i._o.er(t,o,d.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function Ob(t,e,n){return void 0===n&&(n=Ep()),Object(Yo.b)(this,void 0,void 0,function(){var r,i;return Object(Yo.d)(this,function(o){switch(o.label){case 0:return[4,vb(t,yd(gv(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Fh(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Wp(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(Bh.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.Ls(t,e)})})]}})})}var Sb=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return _g.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:Wp(n.createTime)}),_g.resolve()},t.prototype.Ms=function(t,e){return _g.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:gv(t.bundledQuery),readTime:Wp(t.readTime)}}(e)),_g.resolve()},t}(),Eb=function(){function t(){this.vc=new gp(xb.Sc),this.Dc=new gp(xb.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new xb(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new xb(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Fc=function(t){var e=this,n=new cf(new sf([])),r=new xb(n,t),i=new xb(n,t+1),o=[];return this.Dc.me([r,i],function(t){e.Nc(t),o.push(t.key)}),o},t.prototype.Oc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new cf(new sf([])),n=new xb(e,t),r=new xb(e,t+1),i=Ep();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Fi=function(t){var e=new xb(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),xb=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return cf.H(t.key,e.key)||qh(t.Mc,e.Mc)},t.Cc=function(t,e){return qh(t.Mc,e.Mc)||cf.H(t.key,e.key)},t}(),Tb=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new gp(xb.Sc)}return t.prototype.Ai=function(t){return _g.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var o=new rv(i,e,n,r);this.zo.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Bc=this.Bc.add(new xb(u.key,i)),this.Ei.qs(t,u.key.path.X())}return _g.resolve(o)},t.prototype.Pi=function(t,e){return _g.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return _g.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return _g.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return _g.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new xb(e,0),i=new xb(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Mc);o.push(e)}),_g.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new gp(qh);return e.forEach(function(t){var e=new xb(t,0),i=new xb(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Mc)})}),_g.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;cf.wt(i)||(i=i.child(""));var o=new xb(new cf(i),0),s=new gp(qh);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)},o),_g.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;Uh(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return _g.forEach(e.mutations,function(i){var o=new xb(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new xb(e,0),r=this.Bc.Re(n);return _g.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return _g.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),Ib=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new fp(cf.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return _g.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=yp();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),_g.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=wp(),i=new cf(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),a=s.value,u=a.hi,c=a.readTime;if(!e.path.nt(s.key.path))break;c._(n)<=0||u instanceof Qf&&Sd(e,u)&&(r=r.zt(u.key,u))}return _g.resolve(r)},t.prototype.jc=function(t,e){return _g.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new Pb(this)},t.prototype.Or=function(t){return _g.resolve(this.size)},t}(),Pb=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(Yo.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),_g.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(Tv),jb=function(){function t(t){this.persistence=t,this.Gc=new xv(function(t){return Wf(t)},Gf),this.lastRemoteSnapshotVersion=rf.min(),this.highestTargetId=0,this.zc=0,this.Hc=new Eb,this.targetCount=0,this.Jc=Rv.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),_g.resolve()},t.prototype.Qi=function(t){return _g.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return _g.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),_g.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),_g.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new Rv(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,_g.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),_g.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,_g.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,a.targetId)),i++)}),_g.Mn(o).next(function(){return i})},t.prototype.Zi=function(t){return _g.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return _g.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),_g.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),_g.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),_g.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return _g.resolve(n)},t.prototype.Fi=function(t,e){return _g.resolve(this.Hc.Fi(e))},t}(),Ab=function(){function t(t,e){var n=this;this.Yc={},this.so=new ef(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new jb(this),this.Ei=new yv,this.fo=function(t,e){return new Ib(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new ov(e),this.wo=new Sb(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new Tb(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;Dh("MemoryPersistence","Starting transaction:",t);var i=new kb(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).On().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return _g.Ln(Object.values(this.Yc).map(function(n){return function(){return n.Fi(t,e)}}))},t}(),kb=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(Yo.c)(e,t),e}(Dg),Db=function(){function t(t){this.persistence=t,this.na=new Eb,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Lh()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),_g.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),_g.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),_g.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return _g.forEach(this.ra,function(r){var i=cf._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return _g.Ln([function(){return _g.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function Nb(t,e){return"firestore_clients_"+t+"_"+e}function Rb(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Mb(t,e){return"firestore_targets_"+t+"_"+e}var Lb=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Gh(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Nh("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ub=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Gh(i.error.code,i.error.message)),o?new t(e,i.state,r):(Nh("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Fb=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Tp(),s=0;i&&s<r.activeTargetIds.length;++s)i=Of(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Nh("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Vb=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Nh("SharedClientState","Failed to parse online state: "+e),null)},t}(),Qb=function(){function t(){this.activeTargetIds=Tp()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),qb=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new fp(qh),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Nb(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new Qb),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Yo.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Yo.d)(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Nb(this.persistenceKey,r)))&&(o=Fb.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(a=this.pa(s))&&this.ba(a),u=0,c=this.Ta;u<c.length;u++)this.wa(c[u]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Mb(this.persistenceKey,t));if(n){var r=Ub.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(Mb(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.$a(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Dh("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Dh("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Dh("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Dh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Nh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Object(Yo.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Yo.d)(this,function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=ef.q;if(null!=t)try{var n=JSON.parse(t);Uh("number"==typeof n),e=n}catch(t){Nh("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ef.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new Lb(this.currentUser,t,e,n),i=Rb(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=Rb(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=Mb(this.persistenceKey,t),i=new Ub(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return Fb.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return Lb.ca(new Yh(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Ub.ca(r,e)},t.prototype.pa=function(t){return Vb.ca(t)},t.prototype.Ya=function(t){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(Dh("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this._a.su(s,a).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=Tp();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),Hb=function(){function t(){this.iu=new Qb,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new Qb,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),zb=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),Bb=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){Dh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){Dh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Wb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Gb=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),$b=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Yo.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,o){var s=new Ih;s.listenOnce(Eh.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Sh.NO_ERROR:var e=s.getResponseJson();Dh("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Sh.TIMEOUT:Dh("Connection",'RPC "'+t+'" timed out'),o(new Gh(Wh.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:var n=s.getStatus();if(Dh("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Wh).indexOf(e)>=0?e:Wh.UNKNOWN}(r.status);o(new Gh(a,r.message))}else o(new Gh(Wh.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Gh(Wh.UNAVAILABLE,"Connection failed."));break;default:Lh()}}finally{Dh("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new yh,i=Cc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),Object(Ta.u)()||Object(Ta.x)()||Object(Ta.r)()||Object(Ta.t)()||Object(Ta.y)()||Object(Ta.q)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Dh("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Gb({fu:function(t){c?Dh("Connection","Not sending because WebChannel is closed:",t):(u||(Dh("Connection","Opening WebChannel transport."),a.open(),u=!0),Dh("Connection","WebChannel sending:",t),a.send(t))},du:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Th.EventType.OPEN,function(){c||Dh("Connection","WebChannel transport opened.")}),h(a,Th.EventType.CLOSE,function(){c||(c=!0,Dh("Connection","WebChannel transport closed"),l.Ru())}),h(a,Th.EventType.ERROR,function(t){c||(c=!0,Rh("Connection","WebChannel transport errored:",t),l.Ru(new Gh(Wh.UNAVAILABLE,"The operation could not be completed")))}),h(a,Th.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Uh(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Dh("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=op[t];if(void 0!==e)return hp(e)}(i),s=r.message;void 0===o&&(o=Wh.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new Gh(o,s)),a.close()}else Dh("Connection","WebChannel received:",n),l.Pu(n)}}),h(i,xh.STAT_EVENT,function(t){10===t.stat?Dh("Connection","Detected buffering proxy"):11===t.stat&&Dh("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Au()},0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);Dh("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then(function(t){return Dh("RestConnection","Received: ",t),t},function(e){throw Rh("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.0",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+Wb[t]},t}());function Yb(){return"undefined"!=typeof window?window:null}function Kb(){return"undefined"!=typeof document?document:null}function Xb(t){return new qp(t,!0)}var Zb=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&Dh("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,function(){return e.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),Jb=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new Zb(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===Wh.RESOURCE_EXHAUSTED?(Nh(e.toString()),Nh("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===Wh.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new Gh(Wh.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return Object(Yo.b)(t,void 0,void 0,function(){return Object(Yo.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return Dh("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(Dh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),tm=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Object(Yo.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Lh()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(Uh(void 0===e||"string"==typeof e),Bh.fromBase64String(e||"")):(Uh(void 0===e||e instanceof Uint8Array),Bh.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Wh.UNKNOWN:hp(t.code);return new Gh(e,t.message||"")}(a);n=new Rp(r,i,o,s||null)}else if("documentChange"in e){i=Kp(t,(r=e.documentChange).document.name),o=Wp(r.document.updateTime);var a=new Lf({mapValue:{fields:r.document.fields}}),u=(s=new Qf(i,o,a,{}),r.targetIds||[]);n=new Dp(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Kp(t,(r=e.documentDelete).document),o=r.readTime?Wp(r.readTime):rf.min(),a=new qf(i,o),n=new Dp([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Kp(t,(r=e.documentRemove).document),n=new Dp([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Lh();var c=e.filter;i=new cp(r=c.count||0),n=new Np(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return rf.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?rf.min():e.readTime?Wp(e.readTime):rf.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=Jp(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=$f(r)?{documents:og(t,r)}:{query:sg(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=zp(t,e.resumeToken):e.Ot._(rf.min())>0&&(n.readTime=Hp(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Lh()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=Jp(this.Qt),e.removeTarget=t,this.th(e)},e}(Jb),em=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Object(Yo.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(Uh(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(Uh(void 0!==e),t.map(function(t){return function(t,e){var n=Wp(t.updateTime?t.updateTime:e);return n.isEqual(rf.min())&&(n=Wp(e)),new zd(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Wp(t.commitTime);return this.listener.dh(n,e)}return Uh(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=Jp(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return rg(e.Qt,t)})};this.th(n)},e}(Jb),nm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(Yo.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new Gh(Wh.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===Wh.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===Wh.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),rm=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Nh(e),this.Rh=!1):Dh("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),im=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(t){n.Ps(function(){return Object(Yo.b)(o,void 0,void 0,function(){return Object(Yo.d)(this,function(t){switch(t.label){case 0:return dm(this)?(Dh("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Yo.b)(this,void 0,void 0,function(){var e;return Object(Yo.d)(this,function(n){switch(n.label){case 0:return(e=Fh(t)).Nh.add(4),[4,sm(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,om(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Oh=new rm(n,r)};function om(t){return Object(Yo.b)(this,void 0,void 0,function(){var e,n;return Object(Yo.d)(this,function(r){switch(r.label){case 0:if(!dm(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function sm(t){return Object(Yo.b)(this,void 0,void 0,function(){var e,n;return Object(Yo.d)(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function am(t,e){var n=Fh(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),fm(n)?hm(n):Im(n).Hu()&&cm(n,e))}function um(t,e){var n=Fh(t),r=Im(n);n.xh.delete(e),r.Hu()&&lm(n,e),0===n.xh.size&&(r.Hu()?r.Xu():dm(n)&&n.Oh.set("Unknown"))}function cm(t,e){t.kh.on(e.targetId),Im(t).uh(e)}function lm(t,e){t.kh.on(e),Im(t).hh(e)}function hm(t){t.kh=new Lp({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Im(t).start(),t.Oh.Ph()}function fm(t){return dm(t)&&!Im(t).zu()&&t.xh.size>0}function dm(t){return 0===Fh(t).Nh.size}function pm(t){t.kh=void 0}function gm(t){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(e){return t.xh.forEach(function(e,n){cm(t,e)}),[2]})})}function vm(t,e){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(n){return pm(t),fm(t)?(t.Oh.Vh(e),hm(t)):t.Oh.set("Unknown"),[2]})})}function bm(t,e,n){return Object(Yo.b)(this,void 0,void 0,function(){var r,i,o;return Object(Yo.d)(this,function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof Rp&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Yo.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Mh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Dh("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,mm(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Dp?t.kh.dn(e):e instanceof Np?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(rf.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,fb(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}}),n.Fe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(Bh.T,n.Ot)),lm(t,e);var r=new Td(n.target,e,1,n.sequenceNumber);cm(t,r)}}),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Dh("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,mm(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function mm(t,e,n){return Object(Yo.b)(this,void 0,void 0,function(){var r=this;return Object(Yo.d)(this,function(i){switch(i.label){case 0:if(!Eg(e))throw e;return t.Nh.add(1),[4,sm(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return fb(t.bh)}),t._s.po(function(){return Object(Yo.b)(r,void 0,void 0,function(){return Object(Yo.d)(this,function(e){switch(e.label){case 0:return Dh("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,om(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function ym(t,e){return e().catch(function(n){return mm(t,n,e)})}function _m(t){return Object(Yo.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Yo.d)(this,function(s){switch(s.label){case 0:e=Fh(t),n=Pm(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return dm(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,gb(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=Pm(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,mm(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return wm(e)&&Cm(e),[2]}})})}function wm(t){return dm(t)&&!Pm(t).zu()&&t.Ch.length>0}function Cm(t){Pm(t).start()}function Om(t){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(e){return Pm(t).Eh(),[2]})})}function Sm(t){return Object(Yo.b)(this,void 0,void 0,function(){var e,n,r;return Object(Yo.d)(this,function(i){for(e=Pm(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function Em(t,e,n){return Object(Yo.b)(this,void 0,void 0,function(){var r,i;return Object(Yo.d)(this,function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=iv.from(r,e,n),[4,ym(t,function(){return t.Dh.Bh(i)})];case 1:return o.sent(),[4,_m(t)];case 2:return o.sent(),[2]}})})}function xm(t,e){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(n){switch(n.label){case 0:return e&&Pm(t)._h?[4,function(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r;return Object(Yo.d)(this,function(i){switch(i.label){case 0:return lp(r=e.code)&&r!==Wh.ABORTED?(n=t.Ch.shift(),Pm(t).Yu(),[4,ym(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,_m(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return wm(t)&&Cm(t),[2]}})})}function Tm(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n;return Object(Yo.d)(this,function(r){switch(r.label){case 0:return n=Fh(t),e?(n.Nh.delete(2),[4,om(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,sm(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Im(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=Fh(t);return r.Ih(),new tm(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:gm.bind(null,t),Tu:vm.bind(null,t),ah:bm.bind(null,t)}),t.$h.push(function(n){return Object(Yo.b)(e,void 0,void 0,function(){return Object(Yo.d)(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),fm(t)?hm(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),pm(t),e.label=3;case 3:return[2]}})})})),t.Uh}function Pm(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Fh(t);return r.Ih(),new em(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Om.bind(null,t),Tu:xm.bind(null,t),wh:Sm.bind(null,t),dh:Em.bind(null,t)}),t.$h.push(function(n){return Object(Yo.b)(e,void 0,void 0,function(){return Object(Yo.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,_m(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(Dh("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var jm=function(){this.Kh=void 0,this.listeners=[]},Am=function(){this.queries=new xv(function(t){return Cd(t)},wd),this.onlineState="Unknown",this.Wh=new Set};function km(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Yo.d)(this,function(c){switch(c.label){case 0:if(n=Fh(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new jm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return a=c.sent(),u=Ag(a,"Initialization of query '"+Od(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&Mm(n),[2]}})})}function Dm(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Yo.d)(this,function(a){return n=Fh(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function Nm(t,e){for(var n=Fh(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].zh(s)&&(r=!0);a.Kh=s}}r&&Mm(n)}function Rm(t,e,n){var r=Fh(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Mm(t){t.Wh.forEach(function(t){t.next()})}var Lm=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new jp(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=jp.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),Um=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),Fm=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return Kp(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?ng(this.Qt,t.document,!1):new qf(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return Wp(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new Fm(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Ep()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Yo.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Yo.d)(this,function(o){switch(o.label){case 0:return[4,Cb(this.bh,new Fm(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Ob(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ib(Object.assign({},this.progress),t))]}})})}}();var Vm=function(t){this.key=t},Qm=function(t){this.key=t},qm=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=Ep(),this.De=Ep(),this.hl=Ed(t),this.ll=new Ip(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new Pp,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,a=!1,u=dd(this.query)&&i.size===this.query.limit?i.last():null,c=pd(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof Qf?e:null;h&&(h=Sd(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.hl(h,u)>0||c&&n.hl(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),dd(this.query)||pd(this.query))for(;s.size>this.query.limit;){var l=dd(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:a,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lh()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var s=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,u=a!==this.al;return this.al=a,0!==o.length||u?{snapshot:new jp(this.query,t.ll,i,o,t.De,0===a,u,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new Pp,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=Ep(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new Qm(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new Vm(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=Ep();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return jp.Ne(this.query,this.ll,this.De,0===this.al)},t}(),Hm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},zm=function(t){this.key=t,this.Pl=!1},Bm=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new xv(function(t){return Cd(t)},wd),this.Sl=new Map,this.Dl=new Set,this.Cl=new fp(cf.H),this.xl=new Map,this.Nl=new Eb,this.$l={},this.Fl=new Map,this.Ol=Rv.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function Wm(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Yo.d)(this,function(a){switch(a.label){case 0:return n=wy(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,vb(n.bh,yd(e))];case 2:return o=a.sent(),s=n.Vl.Fa(o.targetId),[4,Gm(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.Ml&&am(n.yl,o),a.label=4;case 4:return[2,r]}})})}function Gm(t,e,n,r){return Object(Yo.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(Yo.d)(this,function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(Yo.b)(this,void 0,void 0,function(){var i,o,s;return Object(Yo.d)(this,function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,mb(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(sy(t,e.targetId,s.Il),s.snapshot)]}})})}(t,e,n,r)},[4,mb(t.bh,e,!0)];case 1:return i=l.sent(),o=new qm(e,i.Rc),s=o.fl(i.documents),a=kp.Le(n,r&&"Offline"!==t.onlineState),u=o.wi(s,t.Ml,a),sy(t,n,u.Il),c=new Hm(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}})})}function $m(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yo.d)(this,function(o){switch(o.label){case 0:return n=Fh(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!wd(t,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,bb(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),um(n.yl,r.targetId),iy(n,r.targetId)}).catch(Ev)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return iy(n,r.targetId),[4,bb(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Ym(t,e,n){return Object(Yo.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Yo.d)(this,function(a){switch(a.label){case 0:r=Cy(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Fh(t),i=nf.now(),o=e.reduce(function(t,e){return t.add(e.key)},Ep());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Kd(c,n.get(c.key));null!=l&&s.push(new tp(c.key,l,Ff(l.proto.mapValue),Bd.exists(!0)))}return r.zo.Ri(t,i,s,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new fp(qh)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,cy(r,i.ri)];case 3:return a.sent(),[4,_m(r.yl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Ag(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Km(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r;return Object(Yo.d)(this,function(i){switch(i.label){case 0:n=Fh(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,db(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(t,e){var r=n.xl.get(e);r&&(Uh(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?Uh(r.Pl):t.Qe.size>0&&(Uh(r.Pl),r.Pl=!1))}),[4,cy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ev(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Xm(t,e,n){var r=Fh(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Fh(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)}),r&&Mm(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function Zm(t,e,n){return Object(Yo.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Yo.d)(this,function(c){switch(c.label){case 0:return(r=Fh(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new fp(cf.H)).zt(o,new qf(o,rf.min())),a=Ep().add(o),u=new Ap(rf.min(),new Map,new gp(qh),s,a),[4,Km(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),uy(r),[3,4];case 2:return[4,bb(r.bh,e,!1).then(function(){return iy(r,e,n)}).catch(Ev)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Jm(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yo.d)(this,function(o){switch(o.label){case 0:n=Fh(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,hb(n.bh,e)];case 2:return i=o.sent(),ry(n,r,null),ny(n,r),n.Vl.Na(r,"acknowledged"),[4,cy(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ev(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ty(t,e,n){return Object(Yo.b)(this,void 0,void 0,function(){var r,i;return Object(Yo.d)(this,function(o){switch(o.label){case 0:r=Fh(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Fh(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return Uh(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=o.sent(),ry(r,e,n),ny(r,e),r.Vl.Na(e,"rejected",n),[4,cy(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ev(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ey(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Yo.d)(this,function(a){switch(a.label){case 0:dm((n=Fh(t)).yl)||Dh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Fh(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=a.sent(),s=Ag(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function ny(t,e){(t.Fl.get(e)||[]).forEach(function(t){t.resolve()}),t.Fl.delete(e)}function ry(t,e,n){var r=Fh(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function iy(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(e){t.Nl.Fi(e)||oy(t,e)})}function oy(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(um(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),uy(t))}function sy(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Vm?(t.Nl.nr(o.key,e),ay(t,o)):o instanceof Qm?(Dh("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||oy(t,o.key)):Lh()}}function ay(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(Dh("SyncEngine","New document in limbo: "+n),t.Dl.add(r),uy(t))}function uy(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new cf(sf.ot(e)),r=t.Ol.next();t.xl.set(r,new zm(n)),t.Cl=t.Cl.zt(n,r),am(t.yl,new Td(yd(fd(n.path)),r,2,ef.q))}}function cy(t,e,n){return Object(Yo.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Yo.d)(this,function(a){switch(a.label){case 0:return r=Fh(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,a){s.push(r.Ll(a,e,n).then(function(t){if(t){r.Ml&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=sb.oc(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(Yo.d)(this,function(l){switch(l.label){case 0:n=Fh(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return _g.forEach(e,function(e){return _g.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return _g.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Eg(r=l.sent()))throw r;return Dh("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.fc.get(a),c=u.Lt(u.Ot),n.fc=n.fc.zt(a,c));return[2]}})})}(r.bh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function ly(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r;return Object(Yo.d)(this,function(i){switch(i.label){case 0:return(n=Fh(t)).currentUser.isEqual(e)?[3,3]:(Dh("SyncEngine","User change. New user:",e.A()),[4,lb(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach(function(t){t.forEach(function(t){t.reject(new Gh(Wh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,cy(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function hy(t,e){var n=Fh(t),r=n.xl.get(e);if(r&&r.Pl)return Ep().add(r.key);var i=Ep(),o=n.Sl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.vl.get(a[s]);i=i.Pe(u.view._l)}return i}function fy(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yo.d)(this,function(o){switch(o.label){case 0:return[4,mb((n=Fh(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&sy(n,e.targetId,i.Il),i)]}})})}function dy(t){return Object(Yo.b)(this,void 0,void 0,function(){var e;return Object(Yo.d)(this,function(n){return[2,_b((e=Fh(t)).bh).then(function(t){return cy(e,t)})]})})}function py(t,e,n,r){return Object(Yo.b)(this,void 0,void 0,function(){var i,o;return Object(Yo.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Fh(t),r=Fh(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):_g.resolve(null)})})}((i=Fh(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,_m(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ry(i,e,r||null),ny(i,e),function(t,e){Fh(Fh(t).zo).xi(e)}(i.bh,e)):Lh(),s.label=4;case 4:return[4,cy(i,o)];case 5:return s.sent(),[3,7];case 6:Dh("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function gy(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Yo.d)(this,function(c){switch(c.label){case 0:return wy(n=Fh(t)),Cy(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,vy(n,r.it())]);case 1:return i=c.sent(),n.kl=!0,[4,Tm(n.yl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)am(n.yl,s[o]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(a=[],u=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.Ma(e)?a.push(e):u=u.then(function(){return iy(n,e),bb(n.bh,e,!0)}),um(n.yl,e)}),[4,u]);case 4:return c.sent(),[4,vy(n,a)];case 5:return c.sent(),function(t){var e=Fh(t);e.xl.forEach(function(t,n){um(e.yl,n)}),e.Nl.Oc(),e.xl=new Map,e.Cl=new fp(cf.H)}(n),n.kl=!1,[4,Tm(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function vy(t,e,n){return Object(Yo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Yo.d)(this,function(g){switch(g.label){case 0:n=Fh(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Sl.get(a=s[o]))&&0!==c.length?[4,vb(n.bh,yd(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,fy(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,yb(n.bh,a)];case 8:return p=g.sent(),[4,vb(n.bh,p)];case 9:return u=g.sent(),[4,Gm(n,by(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function by(t){return hd(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function my(t){var e=Fh(t);return Fh(Fh(e.bh).persistence).Uo()}function yy(t,e,n,r){return Object(Yo.b)(this,void 0,void 0,function(){var i,o,s;return Object(Yo.d)(this,function(a){switch(a.label){case 0:return(i=Fh(t)).kl?(Dh("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,_b(i.bh)];case 3:return o=a.sent(),s=Ap.Me(e,"current"===n),[4,cy(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,bb(i.bh,e,!0)];case 6:return a.sent(),iy(i,e,r),[3,8];case 7:Lh(),a.label=8;case 8:return[2]}})})}function _y(t,e,n){return Object(Yo.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(Yo.d)(this,function(f){switch(f.label){case 0:if(!(r=wy(t)).kl)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(s=o[i])?(Dh("SyncEngine","Adding an already active target "+s),[3,5]):[4,yb(r.bh,s)]:[3,6];case 2:return a=f.sent(),[4,vb(r.bh,a)];case 3:return u=f.sent(),[4,Gm(r,by(a),u.targetId,!1)];case 4:f.sent(),am(r.yl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Yo.d)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,bb(r.bh,t,!1).then(function(){um(r.yl,t),iy(r,t)}).catch(Ev)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function wy(t){var e=Fh(t);return e.yl.Dh.Lh=Km.bind(null,e),e.yl.Dh.vn=hy.bind(null,e),e.yl.Dh.Mh=Zm.bind(null,e),e.bl.ah=Nm.bind(null,e.gl),e.bl.Bl=Rm.bind(null,e.gl),e}function Cy(t){var e=Fh(t);return e.yl.Dh.Bh=Jm.bind(null,e),e.yl.Dh.qh=ty.bind(null,e),e}var Oy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(e){switch(e.label){case 0:return this.Qt=Xb(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return cb(this.persistence,new ab,t.Jl,this.Qt)},t.prototype.jl=function(t){return new Ab(Db.ia,this.Qt)},t.prototype.Wl=function(t){return new Hb},t.prototype.terminate=function(){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},t}(),Sy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Yo.c)(e,t),e.prototype.initialize=function(e){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,wb(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,Cy(this.Yl._a)];case 4:return n.sent(),[4,_m(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return cb(this.persistence,new ab,t.Jl,this.Qt)},e.prototype.zl=function(t){return new qv(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=rb(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?Sv.Ys(this.cacheSizeBytes):Sv.ti;return new tb(this.synchronizeTabs,e,t.clientId,n,t._s,Yb(),Kb(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Hb},e}(Oy),Ey=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Yo.c)(e,t),e.prototype.initialize=function(e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r=this;return Object(Yo.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof qb?(this.Vl._a={eu:py.bind(null,n),nu:yy.bind(null,n),su:_y.bind(null,n),Uo:my.bind(null,n),tu:dy.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Object(Yo.b)(r,void 0,void 0,function(){return Object(Yo.d)(this,function(e){switch(e.label){case 0:return[4,gy(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=Yb();if(!qb.Kn(e))throw new Gh(Wh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=rb(t.yu.t,t.yu.persistenceKey);return new qb(e,t._s,n,t.clientId,t.Jl)},e}(Sy),xy=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n=this;return Object(Yo.d)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Xm(n._a,t,1)},this.yl.Dh.n_=ly.bind(null,this._a),[4,Tm(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new Am},t.prototype.Xl=function(t){var e=Xb(t.yu.t),n=new $b(t.yu);return function(t,e,n){return new nm(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Xm(s._a,t,0)},o=Bb.Kn()?new Bb:new zb,new im(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Bm(t,e,n,r,i,o);return s&&(a.kl=!0),a}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(Yo.b)(this,void 0,void 0,function(){var e;return Object(Yo.d)(this,function(n){switch(n.label){case 0:return e=Fh(t),Dh("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,sm(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}})})}(this.yl)},t}(),Ty=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Iy=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new yg,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Object(Yo.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Yo.d)(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new Um(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Object(Yo.b)(this,void 0,void 0,function(){var t,e;return Object(Yo.d)(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Object(Yo.b)(this,void 0,void 0,function(){var e;return Object(Yo.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(Yo.b)(this,void 0,void 0,function(){var t,e;return Object(Yo.d)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Gh(Wh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new uf(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),Py=function(t){this._methodName=t},jy=function(t){this.d_=t};function Ay(t,e,n){if(!n)throw new Gh(Wh.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ky(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Gh(Wh.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Dy(t,e,n,r){if(!0===e&&!0===r)throw new Gh(Wh.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ny(t){if(!cf.wt(t))throw new Gh(Wh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ry(t){if(cf.wt(t))throw new Gh(Wh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function My(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Lh()}function Ly(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Gh(Wh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=My(t);throw new Gh(Wh.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Uy(t,e){if(e<=0)throw new Gh(Wh.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Fy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Gh(Wh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Gh(Wh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Dy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Vy=new Map,Qy=function(){function t(t,e){this.w_="(lite)",this.E_=new Fy({}),this.T_=!1,t instanceof jh?(this.I_=t,this.m_=new Xh):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Gh(Wh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jh(t.options.projectId)}(t),this.m_=new Zh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Gh(Wh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Gh(Wh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Fy(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Xh;switch(t.type){case"gapi":var e=t.client;return Uh(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new tf(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Gh(Wh.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=Vy.get(this))&&(Dh("ComponentProvider","Removing Datastore"),Vy.delete(this),t.terminate()),Promise.resolve();var t},t}(),qy=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new zy(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Hy=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),zy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,fd(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Yo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new qy(this.firestore,null,new cf(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Hy);function By(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof jy&&(t=t.d_),Ay("collection","path",e),t instanceof Qy)return Ry(n=sf.ot.apply(sf,Object(Yo.f)([e],r))),new zy(t,null,n);if(!(t instanceof qy||t instanceof zy))throw new Gh(Wh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ry(n=sf.ot.apply(sf,Object(Yo.f)([t.path],r)).child(sf.ot(e))),new zy(t.firestore,null,n)}function Wy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof jy&&(t=t.d_),1===arguments.length&&(e=Qh.u()),Ay("doc","path",e),t instanceof Qy)return Ny(n=sf.ot.apply(sf,Object(Yo.f)([e],r))),new qy(t,null,new cf(n));if(!(t instanceof qy||t instanceof zy))throw new Gh(Wh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ny(n=t.D_.child(sf.ot.apply(sf,Object(Yo.f)([e],r)))),new qy(t.firestore,t instanceof zy?t.v_:null,new cf(n))}function Gy(t,e){return t instanceof jy&&(t=t.d_),e instanceof jy&&(e=e.d_),(t instanceof qy||t instanceof zy)&&(e instanceof qy||e instanceof zy)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function $y(t,e){return t instanceof jy&&(t=t.d_),e instanceof jy&&(e=e.d_),t instanceof Hy&&e instanceof Hy&&t.firestore===e.firestore&&wd(t.C_,e.C_)&&t.v_===e.v_}var Yy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Gh(Wh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Gh(Wh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return qh(this.x_,t.x_)||qh(this.N_,t.N_)},t}(),Ky=/^__.*__$/,Xy=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new tp(t,this.data,this.Gt,e,this.fieldTransforms):new Jd(t,this.data,e,this.fieldTransforms)},t}(),Zy=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new tp(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function Jy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lh()}}var t_=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return __(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Jy(this.k_)&&Ky.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),e_=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Xb(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new t_({k_:t,methodName:e,j_:n,path:uf.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function n_(t){var e=t.p_(),n=Xb(t.I_);return new e_(t.I_,!!e.ignoreUndefinedProperties,n)}function r_(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);v_("Data must be an object, but it was:",s,r);var a,u,c=p_(r,s);if(o.merge)a=new df(s.Gt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=b_(e,f[h],n);if(!s.contains(d))throw new Gh(Wh.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");w_(l,d)||l.push(d)}a=new df(l),u=s.fieldTransforms.filter(function(t){return a.Tt(t.field)})}else a=null,u=s.fieldTransforms;return new Xy(new Lf(c),a,u)}var i_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yo.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Py);function o_(t,e,n){return new t_({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var s_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yo.c)(e,t),e.prototype.z_=function(t){return new Hd(t.path,new Rd)},e.prototype.isEqual=function(t){return t instanceof e},e}(Py),a_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Yo.c)(e,t),e.prototype.z_=function(t){var e=o_(this,t,!0),n=this.H_.map(function(t){return d_(t,e)}),r=new Md(n);return new Hd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Py),u_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Yo.c)(e,t),e.prototype.z_=function(t){var e=o_(this,t,!0),n=this.H_.map(function(t){return d_(t,e)}),r=new Ud(n);return new Hd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Py),c_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Yo.c)(e,t),e.prototype.z_=function(t){var e=new Vd(t.Qt,jd(t.Qt,this.J_));return new Hd(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Py);function l_(t,e,n,r){var i=t.G_(1,e,n);v_("Data must be an object, but it was:",i,r);var o=[],s=new Uf;hf(r,function(t,r){var a=y_(e,t,n);r instanceof jy&&(r=r.d_);var u=i.U_(a);if(r instanceof i_)o.push(a);else{var c=d_(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new df(o);return new Zy(s.Pt(),a,i.fieldTransforms)}function h_(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[b_(e,r,n)],u=[i];if(o.length%2!=0)throw new Gh(Wh.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(b_(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Uf,f=a.length-1;f>=0;--f)if(!w_(l,a[f])){var d=a[f],p=u[f];p instanceof jy&&(p=p.d_);var g=s.U_(d);if(p instanceof i_)l.push(d);else{var v=d_(p,g);null!=v&&(l.push(d),h.set(d,v))}}var b=new df(l);return new Zy(h.Pt(),b,s.fieldTransforms)}function f_(t,e,n,r){return void 0===r&&(r=!1),d_(n,t.G_(r?4:3,e))}function d_(t,e){if(t instanceof jy&&(t=t.d_),g_(t))return v_("Unsupported field value:",e,t),p_(t,e);if(t instanceof Py)return function(t,e){if(!Jy(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=d_(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof jy&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jd(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=nf.fromDate(t);return{timestampValue:Hp(e.Qt,n)}}if(t instanceof nf)return n=new nf(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Hp(e.Qt,n)};if(t instanceof Yy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $h)return{bytesValue:zp(e.Qt,t.I)};if(t instanceof qy){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Gp(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+My(t))}(t,e)}function p_(t,e){var n={};return ff(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):hf(t,function(t,r){var i=d_(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function g_(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof nf||t instanceof Yy||t instanceof $h||t instanceof qy||t instanceof Py)}function v_(t,e,n){if(!g_(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=My(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function b_(t,e,n){if(e instanceof jy&&(e=e.d_),e instanceof Iy)return e.f_;if("string"==typeof e)return y_(t,e);throw __("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var m_=new RegExp("[~\\*/\\[\\]]");function y_(t,e,n){if(e.search(m_)>=0)throw __("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Iy.bind.apply(Iy,Object(Yo.f)([void 0],e.split("."))))).f_}catch(r){throw __("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function __(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Gh(Wh.INVALID_ARGUMENT,(a+=". ")+t+u)}function w_(t,e){return t.some(function(t){return t.isEqual(e)})}var C_=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Yo.b)(this,void 0,void 0,function(){var e,n=this;return Object(Yo.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Gh(Wh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Yo.d)(this,function(u){switch(u.label){case 0:return n=Fh(t),r=Jp(n.Qt)+"/documents",i={documents:e.map(function(t){return Yp(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Uh(!!e.found);var n=Kp(t,e.found.name),r=Wp(e.found.updateTime),i=new Lf({mapValue:{fields:e.found.fields}});return new Qf(n,r,i,{})}(t,e):"missing"in e?function(t,e){Uh(!!e.missing),Uh(!!e.readTime);var n=Kp(t,e.missing),r=Wp(e.readTime);return new qf(n,r)}(t,e):Lh()}(n.Qt,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Uh(!!e),a.push(e)}),a)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof qf||t instanceof Qf?n.sf(t):Lh()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new ap(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Yo.b)(this,void 0,void 0,function(){var t,e=this;return Object(Yo.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=cf._t(n);e.mutations.push(new up(r,e.jt(r)))}),[4,function(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yo.d)(this,function(o){switch(o.label){case 0:return n=Fh(t),r=Jp(n.Qt)+"/documents",i={writes:e.map(function(t){return rg(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Qf)e=t.version;else{if(!(t instanceof qf))throw Lh();e=rf.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Gh(Wh.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Bd.updateTime(e):Bd.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(rf.min()))throw new Gh(Wh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bd.updateTime(e)}return Bd.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),O_=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new Zb(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu(function(){return Object(Yo.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Yo.d)(this,function(r){return t=new C_(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!wf(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!lp(e)}return!1},t}(),S_=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=Yh.UNAUTHENTICATED,this.clientId=Qh.u(),this._f=function(){},this.C=new yg,this.credentials.v(function(t){Dh("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new Gh(Wh.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new yg;return this._s.Tf(function(){return Object(Yo.b)(t,void 0,void 0,function(){var t,n;return Object(Yo.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ag(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function E_(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Yo.d)(this,function(o){switch(o.label){case 0:return t._s.Af(),Dh("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Object(Yo.b)(i,void 0,void 0,function(){return Object(Yo.d)(this,function(t){switch(t.label){case 0:return[4,lb(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function x_(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r;return Object(Yo.d)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,T_(t)];case 1:return n=i.sent(),Dh("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r;return Object(Yo.d)(this,function(i){switch(i.label){case 0:return(n=Fh(t))._s.Af(),Dh("RemoteStore","RemoteStore received new credentials"),r=dm(n),n.Nh.add(3),[4,sm(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,om(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function T_(t){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Dh("FirestoreClient","Using default OfflineComponentProvider"),[4,E_(t,new Oy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function I_(t){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Dh("FirestoreClient","Using default OnlineComponentProvider"),[4,x_(t,new xy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function P_(t){return T_(t).then(function(t){return t.persistence})}function j_(t){return T_(t).then(function(t){return t.bh})}function A_(t){return I_(t).then(function(t){return t.yl})}function k_(t){return I_(t).then(function(t){return t._a})}function D_(t){return Object(Yo.b)(this,void 0,void 0,function(){var e,n;return Object(Yo.d)(this,function(r){switch(r.label){case 0:return[4,I_(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Wm.bind(null,e._a),n.Hh=$m.bind(null,e._a),n)]}})})}function N_(t,e,n){var r=this;void 0===n&&(n={});var i=new yg;return t._s.Ps(function(){return Object(Yo.b)(r,void 0,void 0,function(){var r;return Object(Yo.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Ty({next:function(o){e.Ps(function(){return Dm(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Gh(Wh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Gh(Wh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Lm(fd(n.path),o,{includeMetadataChanges:!0,nl:!0});return km(t,s)},[4,D_(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}function R_(t,e,n){var r=this;void 0===n&&(n={});var i=new yg;return t._s.Ps(function(){return Object(Yo.b)(r,void 0,void 0,function(){var r;return Object(Yo.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Ty({next:function(n){e.Ps(function(){return Dm(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Gh(Wh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Lm(n,o,{includeMetadataChanges:!0,nl:!0});return km(t,s)},[4,D_(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}var M_=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new Zb(this,"async_queue_retry"),this.vf=function(){var e=Kb();e&&Dh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=Kb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Kb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Yo.b)(this,void 0,void 0,function(){var t,e=this;return Object(Yo.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!Eg(t=n.sent()))throw t;return Dh("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Nh("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=jg.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Lh()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Yo.b)(this,void 0,void 0,function(){var t;return Object(Yo.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function L_(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new yg,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var U_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new M_,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Yo.c)(e,t),e.prototype.b_=function(){return this.qf||V_(this),this.qf.terminate()},e}(Qy);function F_(t){return t.qf||V_(t),t.qf.df(),t.qf}function V_(t){var e=t.p_(),n=function(t,e,n){return new Ph(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new S_(t.m_,t.Bf,n)}function Q_(t,e,n){var r=this,i=new yg;return t._s.enqueue(function(){return Object(Yo.b)(r,void 0,void 0,function(){var r;return Object(Yo.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,E_(t,n)];case 1:return o.sent(),[4,x_(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Wh.FAILED_PRECONDITION||t.code===Wh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function q_(t){if(t.R_||t.P_)throw new Gh(Wh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var H_=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),Sf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vf(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(bf(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Lh()}},t.prototype.Hf=function(t,e){var n=this,r={};return hf(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new Yy(vf(t.latitude),vf(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=yf(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(_f(t));default:return null}},t.prototype.Qf=function(t){var e=gf(t);return new nf(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=sf.ot(t);Uh(mg(n));var r=new jh(n.get(1),n.get(3)),i=new cf(n.Y(5));return r.isEqual(e)||Nh("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),z_=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new qy(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new B_(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(W_("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),B_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yo.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(z_);function W_(t,e){return"string"==typeof e?y_(t,e):e instanceof jy?e.d_.f_:e.f_}function G_(t){if(pd(t)&&0===t.xt.length)throw new Gh(Wh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $_=function(){};function Y_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var K_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(Yo.c)(e,t),e.prototype.td=function(t){var e=n_(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new Gh(Wh.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){rw(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(nw(r,t,l[c]));a={arrayValue:{values:u}}}else a=nw(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||rw(s,o),a=f_(n,"where",s,"in"===o||"not-in"===o);var h=Yf.create(i,o,a);return function(t,e){if(e.Ct()){var n=vd(t);if(null!==n&&!n.isEqual(e.field))throw new Gh(Wh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=gd(t);null!==r&&iw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Gh(Wh.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new Hy(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new ld(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}($_),X_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(Yo.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Gh(Wh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Gh(Wh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new sd(e,n);return function(t,e){if(null===gd(t)){var n=vd(t);null!==n&&iw(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new Hy(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new ld(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}($_),Z_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(Yo.c)(e,t),e.prototype.td=function(t){return new Hy(t.firestore,t.v_,_d(t.C_,this.od,this.ad))},e}($_),J_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Yo.c)(e,t),e.prototype.td=function(t){var e=ew(t,this.type,this.ud,this.hd);return new Hy(t.firestore,t.v_,function(t,e){return new ld(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}($_),tw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Yo.c)(e,t),e.prototype.td=function(t){var e=ew(t,this.type,this.ud,this.hd);return new Hy(t.firestore,t.v_,function(t,e){return new ld(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}($_);function ew(t,e,n,r){if(n[0]instanceof jy&&(n[0]=n[0].d_),n[0]instanceof z_)return function(t,e,n,r,i){if(!r)throw new Gh(Wh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=md(t);s<a.length;s++){var u=a[s];if(u.field.ut())o.push(Af(e,r.key));else{var c=r.field(u.field);if(mf(c))throw new Gh(Wh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.rt();throw new Gh(Wh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new id(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=n_(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new Gh(Wh.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ut()){if("string"!=typeof c)throw new Gh(Wh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!bd(t)&&-1!==c.indexOf("/"))throw new Gh(Wh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(sf.ot(c));if(!cf.wt(l))throw new Gh(Wh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new cf(l);a.push(Af(e,h))}else{var f=f_(n,r,c);a.push(f)}}return new id(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function nw(t,e,n){if(n instanceof jy&&(n=n.d_),"string"==typeof n){if(""===n)throw new Gh(Wh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!bd(e)&&-1!==n.indexOf("/"))throw new Gh(Wh.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(sf.ot(n));if(!cf.wt(r))throw new Gh(Wh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Af(t,new cf(r))}if(n instanceof qy)return Af(t,n.S_);throw new Gh(Wh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+My(n)+".")}function rw(t,e){if(!Array.isArray(t)||0===t.length)throw new Gh(Wh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Gh(Wh.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function iw(t,e,n){if(!n.isEqual(e))throw new Gh(Wh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ow(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var sw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Yo.c)(e,t),e.prototype.Wf=function(t){return new $h(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new qy(this.firestore,null,e)},e}(H_),aw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),uw=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).Yf=e,a.ld=e,a.metadata=o,a}return Object(Yo.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new cw(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(W_("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(z_),cw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yo.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(uw),lw=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new aw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new cw(n.Yf,n.Xf,r.key,r,new aw(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new Gh(Wh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new cw(t.Yf,t.Xf,e.doc.key,e.doc,new aw(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new cw(t.Yf,t.Xf,e.doc.key,e.doc,new aw(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:hw(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.dd=e),this.fd},t}();function hw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lh()}}function fw(t,e){return t instanceof uw&&e instanceof uw?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof lw&&e instanceof lw&&t.Yf===e.Yf&&$y(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var dw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Yo.c)(e,t),e.prototype.Wf=function(t){return new $h(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new qy(this.firestore,null,e)},e}(H_);function pw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ly(t,qy);var o=Ly(t.firestore,U_),s=n_(o);return e instanceof jy&&(e=e.d_),vw(o,[("string"==typeof e||e instanceof Iy?h_(s,"updateDoc",t.S_,e,n,r):l_(s,"updateDoc",t.S_,e)).F_(t.S_,Bd.exists(!0))])}function gw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof jy&&(t=t.d_);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||L_(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(L_(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof qy)c=Ly(t.firestore,U_),l=fd(t.S_.path),u={next:function(e){i[a]&&i[a](bw(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Ly(t,Hy);c=Ly(d.firestore,U_),l=d.C_;var p=new dw(c);u={next:function(t){i[a]&&i[a](new lw(c,p,d,t))},error:i[a+1],complete:i[a+2]},G_(t.C_)}return function(t,e,n,r){var i=this,o=new Ty(r),s=new Lm(e,o,n);return t._s.Ps(function(){return Object(Yo.b)(i,void 0,void 0,function(){var e;return Object(Yo.d)(this,function(n){switch(n.label){case 0:return e=km,[4,D_(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.i_(),t._s.Ps(function(){return Object(Yo.b)(i,void 0,void 0,function(){var e;return Object(Yo.d)(this,function(n){switch(n.label){case 0:return e=Dm,[4,D_(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(F_(c),l,h,u)}function vw(t,e){return function(t,e){var n=this,r=new yg;return t._s.Ps(function(){return Object(Yo.b)(n,void 0,void 0,function(){var n;return Object(Yo.d)(this,function(i){switch(i.label){case 0:return n=Ym,[4,k_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(F_(t),e)}function bw(t,e,n){var r=n.docs.get(e.S_),i=new dw(t);return new uw(t,i,e.S_,r,new aw(n.hasPendingWrites,n.fromCache),e.v_)}var mw=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=n_(t)}return t.prototype.set=function(t,e,n){this.md();var r=yw(t,this.Yf),i=ow(r.v_,e,n),o=r_(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,Bd.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=yw(t,this.Yf);return e instanceof jy&&(e=e.d_),o="string"==typeof e||e instanceof Iy?h_(this.Id,"WriteBatch.update",s.S_,e,n,r):l_(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,Bd.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=yw(t,this.Yf);return this.Ed=this.Ed.concat(new ap(e.S_,Bd.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new Gh(Wh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function yw(t,e){if(t instanceof jy&&(t=t.d_),t.firestore!==e)throw new Gh(Wh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var _w=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(Yo.c)(e,t),e.prototype.get=function(e){var n=this,r=yw(e,this.Yf),i=new dw(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new uw(n.Yf,i,r.S_,t.Zf,new aw(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=n_(t)}return t.prototype.get=function(t){var e=this,n=yw(t,this.Yf),r=new sw(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Lh();var i=t[0];if(i instanceof qf)return new z_(e.Yf,r,n.S_,null,n.v_);if(i instanceof Qf)return new z_(e.Yf,r,i.key,i,n.v_);throw Lh()})},t.prototype.set=function(t,e,n){var r=yw(t,this.Yf),i=ow(r.v_,e,n),o=r_(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=yw(t,this.Yf);return e instanceof jy&&(e=e.d_),o="string"==typeof e||e instanceof Iy?h_(this.Id,"Transaction.update",s.S_,e,n,r):l_(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=yw(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function ww(){if("undefined"==typeof Uint8Array)throw new Gh(Wh.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Cw(){if("undefined"==typeof atob)throw new Gh(Wh.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ow=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yo.c)(e,t),e.fromBase64String=function(t){return Cw(),new e($h.fromBase64String(t))},e.fromUint8Array=function(t){return ww(),new e($h.fromUint8Array(t))},e.prototype.toBase64=function(){return Cw(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return ww(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(jy),Sw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){q_(t=Ly(t,U_));var n=F_(t),r=t.p_(),i=new xy;return Q_(n,i,new Sy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){q_(t=Ly(t,U_));var e=F_(t),n=t.p_(),r=new xy;return Q_(e,r,new Ey(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Gh(Wh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new yg;return t.Bf.Tf(function(){return Object(Yo.b)(e,void 0,void 0,function(){var e;return Object(Yo.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Yo.b)(this,void 0,void 0,function(){return Object(Yo.d)(this,function(e){switch(e.label){case 0:return Cg.Kn()?[4,Cg.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(rb(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),Ew=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof jh||(i.Pd=e),i}return Object(Yo.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Ly(t,Qy)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Rh("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Yo.b)(e,void 0,void 0,function(){var e,n;return Object(Yo.d)(this,function(r){switch(r.label){case 0:return[4,P_(t)];case 1:return e=r.sent(),[4,A_(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=Fh(t);return e.Nh.delete(0),om(e)}(n))]}})})})}(F_(Ly(this.d_,U_)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Yo.b)(e,void 0,void 0,function(){var e,n;return Object(Yo.d)(this,function(r){switch(r.label){case 0:return[4,P_(t)];case 1:return e=r.sent(),[4,A_(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(Yo.b)(this,void 0,void 0,function(){var e;return Object(Yo.d)(this,function(n){switch(n.label){case 0:return(e=Fh(t)).Nh.add(0),[4,sm(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}})})}(n))]}})})})}(F_(Ly(this.d_,U_)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Dy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new yg;return t._s.Ps(function(){return Object(Yo.b)(e,void 0,void 0,function(){var e;return Object(Yo.d)(this,function(r){switch(r.label){case 0:return e=ey,[4,k_(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(F_(Ly(this.d_,U_)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Ty(e);return t._s.Ps(function(){return Object(Yo.b)(n,void 0,void 0,function(){var e;return Object(Yo.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Fh(t).Wh.add(e),e.next()},[4,D_(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Object(Yo.b)(n,void 0,void 0,function(){var e;return Object(Yo.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Fh(t).Wh.delete(e)},[4,D_(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(F_(t=Ly(t,U_)),L_(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new Gh(Wh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Fw(this,By(this.d_,t))}catch(t){throw Aw(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new jw(this,Wy(this.d_,t))}catch(t){throw Aw(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Mw(this,function(t,e){if(t=Ly(t,Qy),Ay("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Gh(Wh.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Hy(t,null,function(t){return new ld(sf.ct(),t)}(e))}(this.d_,t))}catch(t){throw Aw(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new yg;return t._s.Ps(function(){return Object(Yo.b)(n,void 0,void 0,function(){var n;return Object(Yo.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return I_(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new O_(t._s,n,e,r).run(),[2]}})})}),r.promise}(F_(t),function(n){return e(new _w(t,n))})}(this.d_,function(n){return t(new Tw(e,n))})},e.prototype.batch=function(){var t=this;return F_(this.d_),new Iw(new mw(this.d_,function(e){return vw(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new Gh(Wh.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Gh(Wh.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(jy),xw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Yo.c)(e,t),e.prototype.Wf=function(t){return new Ow(new $h(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return jw.yd(e,this.firestore,null)},e}(H_),Tw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new xw(e),r}return Object(Yo.c)(e,t),e.prototype.get=function(t){var e=this,n=Vw(t);return this.d_.get(n).then(function(t){return new Nw(e.Yf,new uw(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=Vw(t);return n?(ky("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Vw(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Yo.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Vw(t);return this.d_.delete(e),this},e}(jy),Iw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yo.c)(e,t),e.prototype.set=function(t,e,n){var r=Vw(t);return n?(ky("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Vw(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Yo.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Vw(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(jy),Pw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(Yo.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new cw(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new Rw(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new xw(t),n),i.set(n,o)),o},e}(jy);Pw.Vd=new WeakMap;var jw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new xw(e),r}return Object(Yo.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new Gh(Wh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new qy(n.d_,r,new cf(t)))},e.yd=function(t,n,r){return new e(n,new qy(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Fw(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Fw(this.firestore,By(this.d_,t))}catch(t){throw Aw(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof jy&&(t=t.d_),t instanceof qy&&Gy(this.d_,t)},e.prototype.set=function(t,e){e=ky("DocumentReference.set",e);try{return function(t,e,n){t=Ly(t,qy);var r=Ly(t.firestore,U_),i=ow(t.v_,e,n);return vw(r,[r_(n_(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Bd.Kt())])}(this.d_,t,e)}catch(t){throw Aw(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?pw(this.d_,t):pw.apply(void 0,Object(Yo.f)([this.d_,t,e],n))}catch(t){throw Aw(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return vw(Ly((t=this.d_).firestore,U_),[new ap(t.S_,Bd.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=kw(e),i=Dw(e,function(e){return new Nw(t.firestore,new uw(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return gw(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ly(t,qy);var e=Ly(t.firestore,U_),n=F_(e),r=new dw(e);return function(t,e){var n=this,r=new yg;return t._s.Ps(function(){return Object(Yo.b)(n,void 0,void 0,function(){var n;return Object(Yo.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Yo.b)(this,void 0,void 0,function(){var r,i;return Object(Yo.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Fh(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Qf?n.resolve(i):i instanceof qf?n.resolve(null):n.reject(new Gh(Wh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Ag(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,j_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new uw(e,r,t.S_,n,new aw(n instanceof Qf&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Ly(t,qy);var e=Ly(t.firestore,U_);return N_(F_(e),t.S_,{source:"server"}).then(function(n){return bw(e,t,n)})}(this.d_):function(t){t=Ly(t,qy);var e=Ly(t.firestore,U_);return N_(F_(e),t.S_).then(function(n){return bw(e,t,n)})}(this.d_)).then(function(t){return new Nw(e.firestore,new uw(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(t?Pw.gd(this.firestore,t):null))},e}(jy);function Aw(t,e,n){return t.message=t.message.replace(e,n),t}function kw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!L_(r))return r}return{}}function Dw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=L_(t[0])?t[0]:L_(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Nw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Yo.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new jw(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return fw(this.d_,t.d_)},e}(jy),Rw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yo.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Nw),Mw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new xw(e),r}return Object(Yo.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Y_(this.d_,function(t,e,n){var r=e,i=W_("where",t);return new K_(i,r,n)}(t,n,r)))}catch(t){throw Aw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Y_(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=W_("orderBy",t);return new X_(r,n)}(t,n)))}catch(t){throw Aw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Y_(this.d_,function(t){return Uy("limit",t),new Z_("limit",t,"F")}(t)))}catch(t){throw Aw(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Y_(this.d_,function(t){return Uy("limitToLast",t),new Z_("limitToLast",t,"L")}(t)))}catch(t){throw Aw(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Y_(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new J_("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Aw(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Y_(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new J_("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Aw(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Y_(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tw("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Aw(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Y_(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tw("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Aw(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return $y(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ly(t,Hy);var e=Ly(t.firestore,U_),n=F_(e),r=new dw(e);return function(t,e){var n=this,r=new yg;return t._s.Ps(function(){return Object(Yo.b)(n,void 0,void 0,function(){var n;return Object(Yo.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Yo.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(Yo.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,mb(t,e,!0)];case 1:return a=u.sent(),r=new qm(e,a.Rc),i=r.fl(a.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Ag(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,j_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new lw(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Ly(t,Hy);var e=Ly(t.firestore,U_),n=F_(e),r=new dw(e);return R_(n,t.C_,{source:"server"}).then(function(n){return new lw(e,r,t,n)})}(this.d_):function(t){t=Ly(t,Hy);var e=Ly(t.firestore,U_),n=F_(e),r=new dw(e);return G_(t.C_),R_(n,t.C_).then(function(n){return new lw(e,r,t,n)})}(this.d_)).then(function(t){return new Uw(e.firestore,new lw(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=kw(e),i=Dw(e,function(e){return new Uw(t.firestore,new lw(t.firestore.d_,t.Xf,t.d_,e._d))});return gw(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(t?Pw.gd(this.firestore,t):null))},e}(jy),Lw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Yo.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Rw(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(jy),Uw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Yo.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Mw(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new Rw(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new Lw(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new Rw(n.Yf,r))})},e.prototype.isEqual=function(t){return fw(this.d_,t.d_)},e}(jy),Fw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(Yo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new jw(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new jw(this.firestore,void 0===t?Wy(this.d_):Wy(this.d_,t))}catch(t){throw Aw(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ly(t.firestore,U_),r=Wy(t),i=ow(t.v_,e);return vw(n,[r_(n_(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Bd.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new jw(e.firestore,t)})},e.prototype.isEqual=function(t){return Gy(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(t?Pw.gd(this.firestore,t):null))},e}(Mw);function Vw(t){return t instanceof jy&&(t=t.d_),Ly(t,qy)}var Qw,qw=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Iy.bind.apply(Iy,Object(Yo.f)([void 0],e))))||this}return Object(Yo.c)(e,t),e.documentId=function(){return new e(uf.ht().rt())},e.prototype.isEqual=function(t){return t instanceof jy&&(t=t.d_),t instanceof Iy&&this.d_.f_.isEqual(t.f_)},e}(jy),Hw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yo.c)(e,t),e.serverTimestamp=function(){var t=new s_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new i_("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new a_("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new u_("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new c_("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(jy),zw=n("Ma0W"),Bw={Firestore:Ew,GeoPoint:Yy,Timestamp:nf,Blob:Ow,Transaction:Tw,WriteBatch:Iw,DocumentReference:jw,DocumentSnapshot:Nw,Query:Mw,QueryDocumentSnapshot:Rw,QuerySnapshot:Uw,CollectionReference:Fw,FieldPath:qw,FieldValue:Hw,setLogLevel:function(t){Ah.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Ww(t,e){return function(t,e=ys.b){return new At.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Gw(t,e){return Ww(t,e).pipe(Object(Ht.a)(t=>({payload:t,type:"query"})))}function $w(t,e){return Gw(t,e).pipe(Zt(void 0),ma(),Object(Ht.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Yw(t,e,n){return $w(t,n).pipe(Jt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Kw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Kw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Kw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),wa(),Object(Ht.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Kw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Xw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new zw.a("firestore",function(t){return function(t,e){return new Ew(t,new U_(t,e),new Sw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Bw)))})(Qw=Ea.a),Qw.registerVersion("@firebase/firestore","2.2.0");class Zw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=$w(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Ht.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Zt(void 0),ma(),ne(([t,e])=>e.length>0||!t),Object(Ht.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Jt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Xw(t);return Yw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Gw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ht.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(Xo.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Jw(this.ref.doc(t),this.afs)}}class Jw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=oC(n,e);return new Zw(r,i,this.afs)}snapshotChanges(){return Ww(this.ref,this.afs.schedulers.outsideAngular).pipe(Zt(void 0),ma(),Object(Ht.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Ht.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(_t.a)(this.ref.get(t)).pipe(Object(Xo.b)(this.afs.schedulers.insideAngular))}}class tC{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?$w(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ht.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ne(t=>t.length>0),this.afs.keepUnstableUntilFirst):$w(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Jt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Xw(t);return Yw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Gw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ht.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(Xo.b)(this.afs.schedulers.insideAngular))}}const eC=new r.r("angularfire2.enableFirestorePersistence"),nC=new r.r("angularfire2.firestore.persistenceSettings"),rC=new r.r("angularfire2.firestore.settings"),iC=new r.r("angularfire2.firestore.use-emulator");function oC(t,e=(t=>t)){return{query:e(t),ref:t}}let sC=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new os.d(o),this.keepUnstableUntilFirst=Object(os.h)(this.schedulers);const c=Object(os.g)(t,o,e);!Sa.a.auth&&u&&Object(os.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(os.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!F(i)){const e=()=>{try{return Object(_t.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Qw){return"undefined"!=typeof console&&console.warn(Qw),Object(wt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(wt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=oC(n,e),o=this.schedulers.ngZone.run(()=>r);return new Zw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new tC(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Jw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(os.c),r.Ub(os.b,8),r.Ub(eC,8),r.Ub(rC,8),r.Ub(r.C),r.Ub(r.A),r.Ub(nC,8),r.Ub(iC,8),r.Ub(ss,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(os.c),Object(r.Ub)(os.b,8),Object(r.Ub)(eC,8),Object(r.Ub)(rC,8),Object(r.Ub)(r.C),Object(r.Ub)(r.A),Object(r.Ub)(nC,8),Object(r.Ub)(iC,8),Object(r.Ub)(ss,8))},token:t,providedIn:"any"}),t})();class aC{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new uC(t,this.dueTime,this.scheduler))}}class uC extends Tt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(cC,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function cC(t){t.debouncedNext()}var lC="firebasestorage.googleapis.com",hC=function(t){function e(n,r){var i=t.call(this,fC(n),"Firebase Storage: "+r+" ("+fC(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(Yo.c)(e,t),e.prototype._codeEquals=function(t){return fC(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(Ta.c);function fC(t){return"storage/"+t}function dC(){return new hC("unknown","An unknown error occurred, please check the error payload for server response.")}function pC(){return new hC("canceled","User canceled the upload/download.")}function gC(){return new hC("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function vC(t){return new hC("invalid-argument",t)}function bC(){return new hC("app-deleted","The Firebase app was deleted.")}function mC(t){return new hC("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yC(t,e){return new hC("invalid-format","String does not match format '"+t+"': "+e)}function _C(t){throw new hC("internal-error","Internal error: "+t)}var wC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},CC=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function OC(t,e){switch(t){case wC.RAW:return new CC(SC(e));case wC.BASE64:case wC.BASE64URL:return new CC(EC(t,e));case wC.DATA_URL:return new CC((n=new xC(e)).base64?EC(wC.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(Qw){throw yC(wC.DATA_URL,"Malformed data URL.")}return SC(e)}(n.rest),new xC(e).contentType)}var n;throw dC()}function SC(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function EC(t,e){switch(t){case wC.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw yC(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case wC.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw yC(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(Qw){throw yC(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var xC=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw yC(wC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),TC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function IC(t){switch(t){case"running":case"pausing":case"canceling":return TC.RUNNING;case"paused":return TC.PAUSED;case"success":return TC.SUCCESS;case"canceled":return TC.CANCELED;case"error":default:return TC.ERROR}}var PC=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),jC=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=PC.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=PC.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=PC.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw _C("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw _C("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw _C("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Qw){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw _C("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),AC=function(){function t(){}return t.prototype.createXhrIo=function(){return new jC},t}();function kC(t){return"string"==typeof t||t instanceof String}function DC(t){return NC()&&t instanceof Blob}function NC(){return"undefined"!=typeof Blob}function RC(t,e,n,r){if(r<e)throw vC("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw vC("Invalid value for '"+t+"'. Expected "+n+" or less.")}function MC(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function LC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=MC();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(NC())return new Blob(t);throw new hC("unsupported-environment","This browser doesn't seem to support creating Blobs")}var UC=function(){function t(t,e){var n=0,r="";DC(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(DC(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(NC()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(LC.apply(null,r))}var i=e.map(function(t){return kC(t)?OC(wC.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),FC=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(Qw){return new t(e,"")}if(""===n.path)return n;throw new hC("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=lC.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new hC("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function VC(t){var e,n;try{e=JSON.parse(t)}catch(Qw){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function QC(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function qC(t){return"https://"+lC+"/v0"+t}function HC(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function zC(t,e){return e}var BC=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||zC}}(),WC=null;function GC(){if(WC)return WC;var t=[];t.push(new BC("bucket")),t.push(new BC("generation")),t.push(new BC("metageneration")),t.push(new BC("name","fullPath",!0));var e=new BC("name");e.xform=function(t,e){return function(t){return!kC(t)||t.length<2?t:QC(t)}(e)},t.push(e);var n=new BC("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new BC("timeCreated")),t.push(new BC("updated")),t.push(new BC("md5Hash",null,!0)),t.push(new BC("cacheControl",null,!0)),t.push(new BC("contentDisposition",null,!0)),t.push(new BC("contentEncoding",null,!0)),t.push(new BC("contentLanguage",null,!0)),t.push(new BC("contentType",null,!0)),t.push(new BC("metadata","customMetadata",!0)),WC=t}function $C(t,e,n){var r=VC(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new FC(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function YC(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var KC=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function XC(t){if(!t)throw dC()}function ZC(t,e){return function(n,r){var i=$C(t,r,e);return XC(null!==i),i}}function JC(t){return function(e,n){var r;return(r=401===e.getStatus()?new hC("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new hC("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new hC("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function tO(t){var e=JC(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new hC("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function eO(t,e,n){var r=qC(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new KC(r,"GET",ZC(t,n),i);return o.errorHandler=tO(e),o}function nO(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var rO=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function iO(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(Qw){XC(!1)}return XC(!!n&&-1!==(e||["active"]).indexOf(n)),n}var oO=262144,sO=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function aO(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var uO=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=GC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=nO(e,r,i),a={name:s.fullPath},u=qC(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=YC(s,n),h=new KC(u,"POST",function(t){var e;iO(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(Qw){XC(!1)}return XC(kC(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=JC(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new KC(n,"POST",function(t){var e=iO(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Qw){XC(!1)}n||XC(!1);var i=Number(n);return XC(!isNaN(i)),new rO(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=JC(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=oO*this._chunkMultiplier,n=new rO(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new rO(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new hC("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw gC();var p=new KC(n,"POST",function(t,n){var i,s=iO(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?ZC(e,o)(t,n):null,new rO(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=JC(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(Qw){return t._error=Qw,void t._transition("error")}var s=t._ref.storage._makeRequest(o,i);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){oO*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=eO(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=nO(e,r,i),c=YC(u,n),l=UC.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw gC();var h={name:u.fullPath},f=qC(o),d=t.maxUploadRetryTime,p=new KC(f,"POST",ZC(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=JC(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=pC(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=IC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new sO(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(IC(this._state)){case TC.SUCCESS:aO(this._resolve.bind(null,this.snapshot))();break;case TC.CANCELED:case TC.ERROR:aO(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(IC(this._state)){case TC.RUNNING:case TC.PAUSED:t.next&&aO(t.next.bind(t,this.snapshot))();break;case TC.SUCCESS:t.complete&&aO(t.complete.bind(t))();break;case TC.CANCELED:case TC.ERROR:t.error&&aO(t.error.bind(t,this._error))();break;default:t.error&&aO(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),cO=function(){function t(t,e){this._service=t,this._location=e instanceof FC?e:FC.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new FC(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return QC(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new FC(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw mC(t)},t}();function lO(t){var e={prefixes:[],items:[]};return hO(t,e).then(function(){return e})}function hO(t,e,n){return Object(Yo.b)(this,void 0,void 0,function(){var r,i,o;return Object(Yo.d)(this,function(s){switch(s.label){case 0:return[4,fO(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,hO(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function fO(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yo.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&RC("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=qC(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new KC(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=VC(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new FC(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new FC(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return XC(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=JC(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}})})}function dO(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new FC(t._location.bucket,n);return new cO(t.storage,r)}var pO=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),gO=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new pO(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new pO(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new pO(t,i,i._ref))}:{next:e.next?function(t){return e.next(new pO(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),vO=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new bO(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new bO(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),bO=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(dO(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new gO(function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new uO(t,new UC(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=wC.RAW),this._throwIfRoot("putString");var r=OC(e,t),i=Object(Yo.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new gO(new uO(this._delegate,new UC(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return lO(this._delegate).then(function(e){return new vO(e,t.storage)})},t.prototype.list=function(t){var e=this;return fO(this._delegate,t).then(function(t){return new vO(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(Yo.b)(this,void 0,void 0,function(){var e,n;return Object(Yo.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=eO(t.storage,t._location,GC()),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(Yo.b)(this,void 0,void 0,function(){var n,r;return Object(Yo.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=qC(e.fullServerUrl()),o=YC(n,r),s=t.maxOperationRetryTime,a=new KC(i,"PATCH",ZC(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=tO(e),a}(t.storage,t._location,e,GC()),[2,t.storage._makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(Yo.b)(this,void 0,void 0,function(){var e,n;return Object(Yo.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=qC(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new KC(r,"GET",function(t,e){return function(n,r){var i=$C(t,r,e);return XC(null!==i),function(t,e){var n=VC(e);if(null===n)return null;if(!kC(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return qC("/b/"+i(t.bucket)+"/o/"+i(n))+HC({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=tO(e),o}(t.storage,t._location,GC()),[2,t.storage._makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new hC("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(Yo.b)(this,void 0,void 0,function(){var e,n;return Object(Yo.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=qC(e.fullServerUrl()),r=new KC(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=tO(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw mC(t)},t}(),mO=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),yO=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(Qw){o(Qw)}else null!==s?((r=dC()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?bC():pC():new hC("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new _O(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new _O(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===PC.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new _O(s,n))}else{var a=n.getErrorCode()===PC.ABORT;e(!1,new _O(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Yo.f)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(Yo.f)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),_O=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function wO(t){return/^[A-Za-z]+:\/\//.test(t)}function CO(t,e){if(t instanceof xO){var n=t;if(null==n._bucket)throw new hC("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new cO(n,n._bucket);return null!=e?CO(r,e):r}if(void 0!==e){if(e.includes(".."))throw vC('`path` param cannot contain ".."');return dO(t,e)}return t}function OO(t,e){if(e&&wO(e)){if(t instanceof xO)return new cO(t,e);throw vC("To use ref(service, url), the first argument must be a Storage instance.")}return CO(t,e)}var SO,EO,xO=function(){function t(t,e,n,r,i){var o,s;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?FC.makeFromBucketSpec(r):null==(s=null==(o=this.app.options)?void 0:o.storageBucket)?null:FC.makeFromBucketSpec(s)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){RC("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){RC("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(Yo.b)(this,void 0,void 0,function(){var t,e;return Object(Yo.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new cO(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new mO(bC());var r=function(t,e,n,r,i){var o=HC(t.urlParams),s=t.url+o,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(a,i),new yO(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),TO=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(wO(t))throw vC("ref() expected a child path but got a URL, use refFromURL instead.");return new bO(OO(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!wO(t))throw vC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{FC.makeFromUrl(t)}catch(Qw){throw vC("refFromUrl() expected a valid full URL but got an invalid one.")}return new bO(OO(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function IO(t){const e=function(t){return new At.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=ys.a){return n=>n.lift(new aC(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(Ht.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function PO(t,e,n){return{getDownloadURL:()=>Object(wt.a)(void 0).pipe(Object(Xo.b)(e.outsideAngular),Bt(()=>t.getDownloadURL()),n),getMetadata:()=>Object(wt.a)(void 0).pipe(Object(Xo.b)(e.outsideAngular),Bt(()=>t.getMetadata()),n),delete:()=>Object(_t.a)(t.delete()),child:r=>PO(t.child(r),e,n),updateMetadata:e=>Object(_t.a)(t.updateMetadata(e)),put:(e,n)=>IO(t.put(e,n)),putString:(e,n,r)=>IO(t.putString(e,n,r)),listAll:()=>Object(_t.a)(t.listAll())}}EO={TaskState:TC,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:wC,Storage:xO,Reference:bO},(SO=Ea.a).INTERNAL.registerComponent(new zw.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new TO(n,new xO(n,r,new AC,e,Ea.a.SDK_VERSION))},"PUBLIC").setServiceProps(EO).setMultipleInstances(!0)),SO.registerVersion("@firebase/storage","0.4.4");const jO=new r.r("angularfire2.storageBucket"),AO=new r.r("angularfire2.storage.maxUploadRetryTime"),kO=new r.r("angularfire2.storage.maxOperationRetryTime");let DO=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new os.d(i),this.keepUnstableUntilFirst=Object(os.h)(this.schedulers);const a=Object(os.g)(t,i,e);this.storage=Object(os.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return PO(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return PO(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return PO(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(os.c),r.Ub(os.b,8),r.Ub(jO,8),r.Ub(r.C),r.Ub(r.A),r.Ub(AO,8),r.Ub(kO,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(os.c),Object(r.Ub)(os.b,8),Object(r.Ub)(jO,8),Object(r.Ub)(r.C),Object(r.Ub)(r.A),Object(r.Ub)(AO,8),Object(r.Ub)(kO,8))},token:t,providedIn:"any"}),t})();var NO=n("w1tV");class RO{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new MO(t,this.observables,this.project))}}class MO extends It{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(kt(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class LO{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new UO(t,this.predicate))}}class UO extends Tt.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}function FO(t){return null==t}function VO(t){return"function"==typeof t.set}function QO(t,e){return VO(e)?e:t.ref(e)}function qO(t,e){if("string"==typeof t)return e.stringCase();if(VO(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function HO(t,e,n="on",r=ys.b){return new At.a(i=>{let o=null;return o=t[n](e,(t,e)=>{r.schedule(()=>{i.next({snapshot:t,prevKey:e})}),"once"===n&&r.schedule(()=>i.complete())},t=>{r.schedule(()=>i.error(t))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(Object(Ht.a)(t=>{const{snapshot:n,prevKey:r}=t;let i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),Object(NO.a)())}function zO(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function BO(t,e){const{payload:n,prevKey:r,key:i}=e,o=zO(t,i),s=function(t,e){if(FO(e))return 0;{const n=zO(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const r={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,r],!1})}return t;case"child_added":if(o>-1){const i=t[o-1];(i&&i.key||null)!==r&&(t=t.filter(t=>t.payload.key!==n.key)).splice(s,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===i?e:t);case"child_moved":if(o>-1){const e=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,e),t}return t;default:return t}}function WO(t){return(FO(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function GO(t,e,n){return function(t,e,n){return HO(t,"value","once",n).pipe(Bt(r=>{const i=[Object(wt.a)(r)];return e.forEach(e=>i.push(HO(t,e,"on",n))),Object(Ko.a)(...i).pipe(Jt(BO,[]))}),wa())}(t,e=WO(e),n)}function $O(t,e,n){const r=(e=WO(e)).map(e=>HO(t,e,"on",n));return Object(Ko.a)(...r)}function YO(t,e){return function(n,r){return qO(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function KO(t,e){return function(){return HO(t,"value","on",e)}}n("yFUW");const XO=new r.r("angularfire2.realtimeDatabaseURL"),ZO=new r.r("angularfire2.database.use-emulator");let JO=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new os.d(i),this.keepUnstableUntilFirst=Object(os.h)(this.schedulers);const a=o,u=Object(os.g)(t,i,e);!Sa.a.auth&&s&&Object(os.j)(),this.database=Object(os.f)(`${u.name}.database.${n}`,"AngularFireDatabase",u,()=>{const t=i.runOutsideAngular(()=>u.database(n||void 0));return a&&t.useEmulator(...a),t},[a])}list(t,e){const n=this.schedulers.ngZone.runOutsideAngular(()=>QO(this.database,t));let r=n;return e&&(r=e(n)),function(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:YO(r,"update"),set:YO(r,"set"),push:t=>r.push(t),remove:(i=r,function(t){return t?qO(t,{stringCase:()=>i.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):i.remove()}),snapshotChanges:r=>GO(t,r,n).pipe(e.keepUnstableUntilFirst),stateChanges:r=>$O(t,r,n).pipe(e.keepUnstableUntilFirst),auditTrail:r=>function(t,e,n){return function(t,e,n){return function(t,e){return HO(t,"value","on",e).pipe(Object(Ht.a)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new RO(t,n))}}(e),Object(Ht.a)(([t,e])=>{const n=t.lastKeyToLoad,r=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),(r=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new LO(r))),Object(Ht.a)(t=>t.actions));var r}(t,$O(t,e).pipe(Jt((t,e)=>[...t,e],[])),n)}(t,r,n).pipe(e.keepUnstableUntilFirst),valueChanges:(r,i)=>GO(t,r,n).pipe(Object(Ht.a)(t=>t.map(t=>i&&i.idField?Object.assign(Object.assign({},t.payload.val()),{[i.idField]:t.key}):t.payload.val())),e.keepUnstableUntilFirst)};var i}(r,this)}object(t){const e=this.schedulers.ngZone.runOutsideAngular(()=>QO(this.database,t));return r=this,{query:n=e,snapshotChanges:()=>KO(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>KO(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst,Object(Ht.a)(t=>t.payload.exists()?t.payload.val():null))};var n,r}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(os.c),r.Ub(os.b,8),r.Ub(XO,8),r.Ub(r.C),r.Ub(r.A),r.Ub(ZO,8),r.Ub(ss,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(os.c),Object(r.Ub)(os.b,8),Object(r.Ub)(XO,8),Object(r.Ub)(r.C),Object(r.Ub)(r.A),Object(r.Ub)(ZO,8),Object(r.Ub)(ss,8))},token:t,providedIn:"any"}),t})(),tS=(()=>{class t{constructor(t,e,n){this.angularFirestore=t,this.storage=e,this.db=n,this.basePath="/uploads",this.videos=t.collection("/videos").valueChanges(),this.categories=t.collection("/categories").valueChanges()}addVideo(t){this.angularFirestore.collection("/videos").add(t)}addCategory(t){this.angularFirestore.collection("/categories").add(t)}pushFileToStorage(t){const e=`${this.basePath}/${t.file.name}`,n=this.storage.ref(e),r=this.storage.upload(e,t.file);return r.snapshotChanges().pipe(Ee(()=>{n.getDownloadURL().subscribe(e=>{t.url=e,console.log(e),t.name=t.file.name,this.saveFileData(t)})})).subscribe(),r.percentageChanges()}saveFileData(t){this.db.list(this.basePath).push(t)}getFiles(t){return this.db.list(this.basePath,e=>e.limitToLast(t))}deleteFile(t){this.deleteFileDatabase(t.key).then(()=>{this.deleteFileStorage(t.name)}).catch(t=>console.log(t))}deleteFileDatabase(t){return this.db.list(this.basePath).remove(t)}deleteFileStorage(t){this.storage.ref(this.basePath).child(t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(sC),r.Ub(DO),r.Ub(JO))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function eS(t,e){if(1&t&&(r.Qb(0,"div",29),r.Qb(1,"a",30),r.Qb(2,"div",31),r.Mb(3,"img",32),r.Qb(4,"div",33),r.Mb(5,"i",34),r.Pb(),r.Pb(),r.Qb(6,"div",35),r.Qb(7,"p",36),r.nc(8),r.Mb(9,"i",37),r.Pb(),r.Qb(10,"small",38),r.Mb(11,"i",39),r.nc(12),r.Mb(13,"i",40),r.nc(14),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.Zb().$implicit;r.Ab(3),r.ac("src",t.photo,r.kc),r.Ab(5),r.oc(" ",t.title," "),r.Ab(4),r.oc(" ",t.vew,"M \xa0 "),r.Ab(2),r.oc(" ",t.videoQuantity," ")}}function nS(t,e){1&t&&r.mc(0,eS,15,4,"ng-template",28)}const rS=function(t){return["play-video",t]};function iS(t,e){if(1&t&&(r.Qb(0,"div",41),r.Qb(1,"div",42),r.Qb(2,"div",43),r.Qb(3,"div",44),r.Mb(4,"i",45),r.Pb(),r.Qb(5,"div",46),r.nc(6),r.Pb(),r.Qb(7,"a",47),r.Mb(8,"img",48),r.Pb(),r.Pb(),r.Qb(9,"div",49),r.Qb(10,"a",50),r.Mb(11,"i",51),r.nc(12),r.Pb(),r.Pb(),r.Qb(13,"div",52),r.nc(14),r.Pb(),r.Qb(15,"div",53),r.Qb(16,"div",54),r.Qb(17,"div",55),r.Mb(18,"img",56),r.Pb(),r.Qb(19,"div",57),r.Qb(20,"div",58),r.nc(21),r.Mb(22,"i",37),r.Pb(),r.Qb(23,"div",59),r.nc(24),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=e.$implicit;r.Ab(6),r.oc(" ",t.duration," "),r.Ab(1),r.ac("routerLink",r.bc(8,rS,t.path)),r.Ab(1),r.ac("src",t.photo,r.kc),r.Ab(4),r.oc(" ",t.title," "),r.Ab(2),r.oc(" ",t.subtitle," "),r.Ab(7),r.oc(" ",t.author," "),r.Ab(3),r.pc(" ",t.view," views - ",t.timestamp," ")}}function oS(t,e){if(1&t&&(r.Qb(0,"div",60),r.Qb(1,"div",61),r.Qb(2,"a",30),r.Mb(3,"img",62),r.Pb(),r.Qb(4,"div",63),r.Qb(5,"button",64),r.nc(6," Regarder "),r.Qb(7,"strong"),r.nc(8,"ici"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(9,"div",65),r.Qb(10,"div",66),r.Qb(11,"a",30),r.nc(12),r.Pb(),r.Pb(),r.Qb(13,"div",67),r.nc(14),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.Zb().$implicit;r.Ab(3),r.ac("routerLink","play-video")("src",t.photo,r.kc),r.Ab(9),r.oc(" ",t.title," "),r.Ab(2),r.oc(" ",t.view," views ")}}function sS(t,e){1&t&&r.mc(0,oS,15,4,"ng-template",28)}let aS=(()=>{class t{constructor(t){this.dataService=t,this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,autoplay:!0,dots:!1,navSpeed:10,navText:["",""],responsive:{0:{items:2},400:{items:2},740:{items:3},940:{items:4}},nav:!1},this.dataService.videos.subscribe(t=>this.videos=t),this.dataService.categories.subscribe(t=>this.categories=t)}ngOnInit(){}playVideo(){}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(tS))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-list-videos"]],decls:78,vars:5,consts:[[1,"container-fluid","pb-0"],[1,"top-mobile-search"],[1,"row"],[1,"col-md-12"],[1,"mobile-search"],[1,"input-group"],["type","text","placeholder","Search for...",1,"form-control"],[1,"input-group-append"],["type","button",1,"btn","btn-dark"],[1,"fas","fa-search"],[1,"top-category","section-padding","mb-0"],[1,"main-title","mb-4"],[1,"btn-group","float-right","right-action"],["href","#","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"right-action-link","text-gray"],["aria-hidden","true",1,"fa","fa-ellipsis-h"],[1,"dropdown-menu","dropdown-menu-right"],["href","#",1,"dropdown-item"],[1,"fas","fa-fw","fa-star"],[1,"fas","fa-fw","fa-signal"],[1,"fas","fa-fw","fa-times-circle"],[1,"owl-carousel-category",3,"options"],[4,"ngFor","ngForOf"],[1,"mt-1","mb-4"],[1,"pb-4"],["aria-hidden","true",1,"fa","fa-caret-down"],["class","col-lg-3 col-md-6",4,"ngFor","ngForOf"],[1,"mt-0","mb-4"],[1,"video-block","section-padding"],["carouselSlide","","class","item"],[1,"text-center","bg-white","shadow-sm","p-4","rounded","channel-item",2,"margin-right","8px"],["href","#"],[1,"channel-item-image","mb-3"],["alt","",1,"rounded-circle",3,"src"],[1,"status-indicator","bg-primary"],[1,"fa","fa-video","text-white"],[1,"channel-item-body"],[1,"mb-1"],["data-toggle","tooltip","data-placement","top","title","","data-original-title","Verified",1,"fa","fa-check-circle","text-success"],[1,"text-muted"],[1,"fa","fa-eye"],[1,"fa","fa-video"],[1,"col-lg-3","col-md-6"],[1,"video-item"],[1,"video-item-image"],[1,"video-item-cate"],["data-toggle","tooltip","data-placement","top","title","","data-original-title","Music",1,"fa","fa-video","text-white"],[1,"video-item-time"],[3,"routerLink"],[1,"img-fluid",3,"src"],[1,"video-item-site","my-3"],["href","#",1,"gray-btn"],[1,"fa","fa-film","text-success","mr-1"],[1,"video-item-title","mb-3"],[1,"video-item-user"],[1,"d-flex","align-items-center"],[1,"dropdown-list-image","mr-3"],["src","./assets/img/s3.png","alt","",1,"rounded-circle"],[1,"font-weight-bold","mr-2"],[1,"text-truncate"],[1,"small","text-gray-500"],[1,"channels-card",2,"margin-right","8px","margin-bottom","10px"],[1,"channels-card-image"],["alt","",1,"img-fluid",3,"routerLink","src"],[1,"channels-card-image-btn"],["type","button",1,"btn","btn-outline-danger","btn-sm"],[1,"channels-card-body"],[1,"channels-title"],[1,"channels-view"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"form",4),r.Qb(5,"div",5),r.Mb(6,"input",6),r.Qb(7,"div",7),r.Qb(8,"button",8),r.Mb(9,"i",9),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(10,"div",10),r.Qb(11,"div",2),r.Qb(12,"div",3),r.Qb(13,"div",11),r.Qb(14,"div",12),r.Qb(15,"a",13),r.Mb(16,"i",14),r.Pb(),r.Qb(17,"div",15),r.Qb(18,"a",16),r.Mb(19,"i",17),r.nc(20," \xa0 Top Rated"),r.Pb(),r.Qb(21,"a",16),r.Mb(22,"i",18),r.nc(23," \xa0 Viewed"),r.Pb(),r.Qb(24,"a",16),r.Mb(25,"i",19),r.nc(26," \xa0 Close"),r.Pb(),r.Pb(),r.Pb(),r.Qb(27,"h5"),r.nc(28,"Cat\xe9gories"),r.Pb(),r.Pb(),r.Pb(),r.Qb(29,"div",3),r.Qb(30,"owl-carousel-o",20),r.mc(31,nS,1,0,void 0,21),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Mb(32,"hr",22),r.Qb(33,"section",23),r.Qb(34,"div"),r.Qb(35,"div",11),r.Qb(36,"div",12),r.Qb(37,"a",13),r.nc(38," Filtrer "),r.Mb(39,"i",24),r.Pb(),r.Qb(40,"div",15),r.Qb(41,"a",16),r.Mb(42,"i",17),r.nc(43," \xa0 Top Rated"),r.Pb(),r.Qb(44,"a",16),r.Mb(45,"i",18),r.nc(46," \xa0 Viewed"),r.Pb(),r.Qb(47,"a",16),r.Mb(48,"i",19),r.nc(49," \xa0 Close"),r.Pb(),r.Pb(),r.Pb(),r.Qb(50,"h5"),r.nc(51,"Videos sur Python"),r.Pb(),r.Pb(),r.Qb(52,"div",2),r.mc(53,iS,25,10,"div",25),r.Pb(),r.Pb(),r.Pb(),r.Mb(54,"hr",26),r.Qb(55,"div",27),r.Qb(56,"div",2),r.Qb(57,"div",3),r.Qb(58,"div",11),r.Qb(59,"div",12),r.Qb(60,"a",13),r.nc(61," Filtrer "),r.Mb(62,"i",24),r.Pb(),r.Qb(63,"div",15),r.Qb(64,"a",16),r.Mb(65,"i",17),r.nc(66," \xa0 Top Rated"),r.Pb(),r.Qb(67,"a",16),r.Mb(68,"i",18),r.nc(69," \xa0 Viewed"),r.Pb(),r.Qb(70,"a",16),r.Mb(71,"i",19),r.nc(72," \xa0 Close"),r.Pb(),r.Pb(),r.Pb(),r.Qb(73,"h5"),r.nc(74,"Les plus populaires"),r.Pb(),r.Pb(),r.Pb(),r.Qb(75,"div",3),r.Qb(76,"owl-carousel-o",20),r.mc(77,sS,1,0,void 0,21),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(30),r.ac("options",e.customOptions),r.Ab(1),r.ac("ngForOf",e.categories),r.Ab(22),r.ac("ngForOf",e.videos),r.Ab(23),r.ac("options",e.customOptions),r.Ab(1),r.ac("ngForOf",e.categories))},directives:[Lo,Zi,Mo,aa,j,sa,ei,ti],styles:[""]}),t})();const uS=function(t){return["/play-video",t]};function cS(t,e){if(1&t&&(r.Qb(0,"div",102),r.Qb(1,"div",84),r.Qb(2,"span",103),r.Mb(3,"i",86),r.Pb(),r.Mb(4,"img",96),r.Qb(5,"div",88),r.nc(6),r.Pb(),r.Pb(),r.Qb(7,"div",89),r.Qb(8,"a",104),r.Qb(9,"div",75),r.Qb(10,"span",105),r.Mb(11,"i",90),r.Pb(),r.Qb(12,"div",78),r.Qb(13,"span",106),r.Mb(14,"i",80),r.nc(15," \xa0 Top Rated"),r.Pb(),r.Qb(16,"span",106),r.Mb(17,"i",81),r.nc(18," \xa0 Viewed"),r.Pb(),r.Qb(19,"span",106),r.Mb(20,"i",82),r.nc(21," \xa0 Close"),r.Pb(),r.Pb(),r.Pb(),r.Qb(22,"div",91),r.nc(23),r.Pb(),r.Qb(24,"div",92),r.nc(25," Education "),r.Qb(26,"a",93),r.Mb(27,"i",23),r.Pb(),r.Pb(),r.Qb(28,"div",94),r.nc(29),r.Mb(30,"i",95),r.nc(31),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=e.$implicit;r.Ab(6),r.oc(" ",t.duration," "),r.Ab(2),r.ac("routerLink",r.bc(5,uS,t.path)),r.Ab(15),r.oc(" ",t.title," "),r.Ab(6),r.oc(" ",t.view," views \xa0"),r.Ab(2),r.oc(" ",t.timestamp," ")}}let lS=(()=>{class t{constructor(t,e,n){this.activatedRoute=t,this.domSanitizer=e,this.dataService=n,this.url=""}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.url="https://www.youtube.com/embed/"+t.videoId}),this.dataService.videos.subscribe(t=>this.videos=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Nn),r.Lb(pt),r.Lb(tS))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-play-video"]],decls:460,vars:2,consts:[[1,"container-fluid","pb-0"],[1,"video-block-right-list","section-padding"],[1,"row","mb-4"],[1,"col-md-8"],[1,"single-video","fixed","box","p-0","overflow-hidden","bg-dark"],["frameborder","0","allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"iframe",3,"src"],[1,"col-md-4","margin"],[1,"videosContent"],["class","video-card video-card-list active",4,"ngFor","ngForOf"],[1,"video-block","section-padding"],[1,"row"],[1,"single-video-left"],[1,"single-video-title","box","mb-3"],["href","#"],[1,"mb-0"],[1,"fas","fa-eye"],[1,"single-video-author","box","mb-3"],[1,"float-right"],["type","button",1,"btn","btn-danger"],["type","button",1,"btn","btn","btn-outline-danger"],[1,"fas","fa-bell"],["src","./assets/img/s4.png","alt","",1,"img-fluid"],["title","","data-placement","top","data-toggle","tooltip","data-original-title","Verified"],[1,"fas","fa-check-circle","text-success"],[1,"single-video-info-content","box","mb-3"],[1,"tags","mb-0"],[1,"box","mb-3","single-video-comment-tabs"],["role","tablist",1,"nav","nav-tabs"],[1,"nav-item"],["id","retro-comments-tab","data-toggle","tab","href","#retro-comments","role","tab","aria-controls","retro","aria-selected","false",1,"nav-link","active"],["id","disqus-comments-tab","data-toggle","tab","href","#disqus-comments","role","tab","aria-controls","disqus","aria-selected","true",1,"nav-link"],["id","facebook-comments-tab","data-toggle","tab","href","#facebook-comments","role","tab","aria-controls","facebook","aria-selected","false",1,"nav-link"],[1,"tab-content"],["id","disqus-comments","role","tabpanel","aria-labelledby","disqus-comments-tab",1,"tab-pane","fade"],["id","facebook-comments","role","tabpanel","aria-labelledby","facebook-comments-tab",1,"tab-pane","fade"],["id","retro-comments","role","tabpanel","aria-labelledby","retro-comments-tab",1,"tab-pane","fade","show","active"],[1,"reviews-members","pt-0"],[1,"media"],["src","./assets/img/s1.png","alt","Generic placeholder image",1,"mr-3"],[1,"media-body"],[1,"form-members-body"],["rows","1","placeholder","Add a public comment...",1,"form-control"],[1,"form-members-footer","text-right","mt-2"],[1,"float-left"],["type","button",1,"btn","btn-outline-danger","btn-sm"],["type","button",1,"btn","btn-danger","btn-sm"],[1,"reviews-members"],["src","./assets/img/s2.png","alt","Generic placeholder image",1,"mr-3"],[1,"reviews-members-header"],[1,"mb-1"],["href","#",1,"text-black"],[1,"text-gray"],[1,"reviews-members-body"],[1,"reviews-members-footer"],["href","#",1,"total-like"],[1,"fas","fa-thumbs-up"],[1,"fas","fa-thumbs-down"],["dir","rtl",1,"total-like-user-main","ml-2"],["href","#","title","Gurdeep Osahan","data-placement","top","data-toggle","tooltip"],["src","./assets/img/s1.png","alt","Generic placeholder image",1,"total-like-user"],["src","./assets/img/s2.png","alt","Generic placeholder image",1,"total-like-user"],["src","./assets/img/s3.png","alt","Generic placeholder image",1,"total-like-user"],["src","./assets/img/s4.png","alt","Generic placeholder image",1,"total-like-user"],["alt","Generic placeholder image","src","./assets/img/s3.png",1,"mr-3"],["data-toggle","tooltip","data-placement","top","title","Gurdeep Osahan","href","#"],["alt","Generic placeholder image","src","./assets/img/s5.png",1,"total-like-user"],["alt","Generic placeholder image","src","./assets/img/s6.png",1,"total-like-user"],["alt","Generic placeholder image","src","./assets/img/s7.png",1,"total-like-user"],["alt","Generic placeholder image","src","./assets/img/s8.png",1,"total-like-user"],[1,"col-md-4"],[1,"single-video-right"],[1,"col-md-12"],[1,"adblock"],[1,"img"],[1,"main-title"],[1,"btn-group","float-right","right-action"],["href","#","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"right-action-link","text-gray"],["aria-hidden","true",1,"fa","fa-caret-down"],[1,"dropdown-menu","dropdown-menu-right"],["href","#",1,"dropdown-item"],[1,"fas","fa-fw","fa-star"],[1,"fas","fa-fw","fa-signal"],[1,"fas","fa-fw","fa-times-circle"],[1,"video-card","video-card-list"],[1,"video-card-image"],["href","#",1,"play-icon"],[1,"fas","fa-play-circle"],["src","./assets/img/v1.png","alt","",1,"img-fluid"],[1,"time"],[1,"video-card-body"],["aria-hidden","true",1,"fa","fa-ellipsis-v"],[1,"video-title"],[1,"video-page","text-success"],["title","","data-placement","top","data-toggle","tooltip","href","#","data-original-title","Verified"],[1,"video-view"],[1,"fas","fa-calendar-alt"],["src","./assets/img/v2.png","alt","",1,"img-fluid"],["src","./assets/img/v3.png","alt","",1,"img-fluid"],["src","./assets/img/v4.png","alt","",1,"img-fluid"],["src","./assets/img/v5.png","alt","",1,"img-fluid"],["src","./assets/img/v6.png","alt","",1,"img-fluid"],[1,"adblock","mt-0"],[1,"video-card","video-card-list","active"],[1,"play-icon"],[3,"routerLink"],["data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"right-action-link","text-gray"],[1,"dropdown-item"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Mb(5,"iframe",5),r.Pb(),r.Pb(),r.Qb(6,"div",6),r.Qb(7,"div",7),r.mc(8,cS,32,7,"div",8),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(9,"div",9),r.Qb(10,"div",10),r.Qb(11,"div",3),r.Qb(12,"div",11),r.Qb(13,"div",12),r.Qb(14,"h2"),r.Qb(15,"a",13),r.nc(16,"Contrary to popular belief, Lorem Ipsum (2020) is not."),r.Pb(),r.Pb(),r.Qb(17,"p",14),r.Mb(18,"i",15),r.nc(19," 2,729,347 views"),r.Pb(),r.Pb(),r.Qb(20,"div",16),r.Qb(21,"div",17),r.Qb(22,"button",18),r.nc(23,"Subscribe "),r.Qb(24,"strong"),r.nc(25,"1.4M"),r.Pb(),r.Pb(),r.Qb(26,"button",19),r.Mb(27,"i",20),r.Pb(),r.Pb(),r.Mb(28,"img",21),r.Qb(29,"p"),r.Qb(30,"a",13),r.Qb(31,"strong"),r.nc(32,"Osahan Channel"),r.Pb(),r.Pb(),r.Qb(33,"span",22),r.Mb(34,"i",23),r.Pb(),r.Pb(),r.Qb(35,"small"),r.nc(36,"Published on Aug 10, 2020"),r.Pb(),r.Pb(),r.Qb(37,"div",24),r.Qb(38,"h6"),r.nc(39,"Cast:"),r.Pb(),r.Qb(40,"p"),r.nc(41,"Nathan Drake , Victor Sullivan , Sam Drake , Elena Fisher"),r.Pb(),r.Qb(42,"h6"),r.nc(43,"Category :"),r.Pb(),r.Qb(44,"p"),r.nc(45,"Gaming , PS4 Exclusive , Gameplay , 1080p"),r.Pb(),r.Qb(46,"h6"),r.nc(47,"About :"),r.Pb(),r.Qb(48,"p"),r.nc(49,"It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as evolved over the years, sometimes "),r.Pb(),r.Qb(50,"h6"),r.nc(51,"Tags :"),r.Pb(),r.Qb(52,"p",25),r.Qb(53,"span"),r.Qb(54,"a",13),r.nc(55,"Uncharted 4"),r.Pb(),r.Pb(),r.Qb(56,"span"),r.Qb(57,"a",13),r.nc(58,"Playstation 4"),r.Pb(),r.Pb(),r.Qb(59,"span"),r.Qb(60,"a",13),r.nc(61,"Gameplay"),r.Pb(),r.Pb(),r.Qb(62,"span"),r.Qb(63,"a",13),r.nc(64,"1080P"),r.Pb(),r.Pb(),r.Qb(65,"span"),r.Qb(66,"a",13),r.nc(67,"ps4Share"),r.Pb(),r.Pb(),r.Qb(68,"span"),r.Qb(69,"a",13),r.nc(70,"+ 6"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(71,"div",26),r.Qb(72,"ul",27),r.Qb(73,"li",28),r.Qb(74,"a",29),r.nc(75,"vidoe Comments"),r.Pb(),r.Pb(),r.Qb(76,"li",28),r.Qb(77,"a",30),r.nc(78,"Disqus Comments"),r.Pb(),r.Pb(),r.Qb(79,"li",28),r.Qb(80,"a",31),r.nc(81,"Facebook Comments"),r.Pb(),r.Pb(),r.Pb(),r.Qb(82,"div",32),r.Qb(83,"div",33),r.Qb(84,"h1"),r.nc(85,"Soon..."),r.Pb(),r.Pb(),r.Qb(86,"div",34),r.Qb(87,"h1"),r.nc(88,"Soon..."),r.Pb(),r.Pb(),r.Qb(89,"div",35),r.Qb(90,"div",36),r.Qb(91,"div",37),r.Qb(92,"a",13),r.Mb(93,"img",38),r.Pb(),r.Qb(94,"div",39),r.Qb(95,"div",40),r.Mb(96,"textarea",41),r.Pb(),r.Qb(97,"div",42),r.Qb(98,"b",43),r.nc(99,"12,725 Comments "),r.Pb(),r.Qb(100,"button",44),r.nc(101,"CANCEL"),r.Pb(),r.Qb(102,"button",45),r.nc(103,"COMMENT"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(104,"div",46),r.Qb(105,"div",37),r.Qb(106,"a",13),r.Mb(107,"img",47),r.Pb(),r.Qb(108,"div",39),r.Qb(109,"div",48),r.Qb(110,"h6",49),r.Qb(111,"a",50),r.nc(112,"Gurdeep Osahan "),r.Pb(),r.Qb(113,"small",51),r.nc(114,"2 months ago"),r.Pb(),r.Pb(),r.Pb(),r.Qb(115,"div",52),r.Qb(116,"p"),r.nc(117," reacthe last order. Even though they had Chefs in their open kitchen they weren\u2019t flexible to dish out few more items. Anyway the food was super specially their stone dessert."),r.Pb(),r.Pb(),r.Qb(118,"div",53),r.Qb(119,"a",54),r.Mb(120,"i",55),r.nc(121," 123"),r.Pb(),r.Qb(122,"a",54),r.Mb(123,"i",56),r.nc(124," 02"),r.Pb(),r.Qb(125,"span",57),r.Qb(126,"a",58),r.Mb(127,"img",59),r.Pb(),r.Qb(128,"a",58),r.Mb(129,"img",60),r.Pb(),r.Qb(130,"a",58),r.Mb(131,"img",61),r.Pb(),r.Qb(132,"a",58),r.Mb(133,"img",62),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(134,"div",46),r.Qb(135,"div",37),r.Qb(136,"a",13),r.Mb(137,"img",63),r.Pb(),r.Qb(138,"div",39),r.Qb(139,"div",48),r.Qb(140,"h6",49),r.Qb(141,"a",50),r.nc(142,"Gurdeep Osahan "),r.Pb(),r.Qb(143,"small",51),r.nc(144,"2 months ago"),r.Pb(),r.Pb(),r.Pb(),r.Qb(145,"div",52),r.Qb(146,"p"),r.nc(147,"Was here impromptu in their first week, reacthe last order. Even though they had Chefs in their open kitchen they weren\u2019t flexible to dish out few more items."),r.Pb(),r.Pb(),r.Qb(148,"div",53),r.Qb(149,"a",54),r.Mb(150,"i",55),r.nc(151," 123"),r.Pb(),r.Qb(152,"a",54),r.Mb(153,"i",56),r.nc(154," 02"),r.Pb(),r.Qb(155,"span",57),r.Qb(156,"a",64),r.Mb(157,"img",65),r.Pb(),r.Qb(158,"a",64),r.Mb(159,"img",66),r.Pb(),r.Qb(160,"a",64),r.Mb(161,"img",67),r.Pb(),r.Qb(162,"a",64),r.Mb(163,"img",68),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(164,"div",69),r.Qb(165,"div",70),r.Qb(166,"div",10),r.Qb(167,"div",71),r.Qb(168,"div",72),r.Qb(169,"div",73),r.nc(170," Google AdSense"),r.Mb(171,"br"),r.nc(172," 336 x 280 "),r.Pb(),r.Pb(),r.Qb(173,"div",74),r.Qb(174,"div",75),r.Qb(175,"a",76),r.nc(176," Sort by "),r.Mb(177,"i",77),r.Pb(),r.Qb(178,"div",78),r.Qb(179,"a",79),r.Mb(180,"i",80),r.nc(181," \xa0 Top Rated"),r.Pb(),r.Qb(182,"a",79),r.Mb(183,"i",81),r.nc(184," \xa0 Viewed"),r.Pb(),r.Qb(185,"a",79),r.Mb(186,"i",82),r.nc(187," \xa0 Close"),r.Pb(),r.Pb(),r.Pb(),r.Qb(188,"h6"),r.nc(189,"Up Next"),r.Pb(),r.Pb(),r.Pb(),r.Qb(190,"div",71),r.Qb(191,"div",83),r.Qb(192,"div",84),r.Qb(193,"a",85),r.Mb(194,"i",86),r.Pb(),r.Qb(195,"a",13),r.Mb(196,"img",87),r.Pb(),r.Qb(197,"div",88),r.nc(198,"3:50"),r.Pb(),r.Pb(),r.Qb(199,"div",89),r.Qb(200,"div",75),r.Qb(201,"a",76),r.Mb(202,"i",90),r.Pb(),r.Qb(203,"div",78),r.Qb(204,"a",79),r.Mb(205,"i",80),r.nc(206," \xa0 Top Rated"),r.Pb(),r.Qb(207,"a",79),r.Mb(208,"i",81),r.nc(209," \xa0 Viewed"),r.Pb(),r.Qb(210,"a",79),r.Mb(211,"i",82),r.nc(212," \xa0 Close"),r.Pb(),r.Pb(),r.Pb(),r.Qb(213,"div",91),r.Qb(214,"a",13),r.nc(215,"Here are many variati of passages of Lorem"),r.Pb(),r.Pb(),r.Qb(216,"div",92),r.nc(217," Education "),r.Qb(218,"a",93),r.Mb(219,"i",23),r.Pb(),r.Pb(),r.Qb(220,"div",94),r.nc(221," 1.8M views \xa0"),r.Mb(222,"i",95),r.nc(223," 11 Months ago "),r.Pb(),r.Pb(),r.Pb(),r.Qb(224,"div",83),r.Qb(225,"div",84),r.Qb(226,"a",85),r.Mb(227,"i",86),r.Pb(),r.Qb(228,"a",13),r.Mb(229,"img",96),r.Pb(),r.Qb(230,"div",88),r.nc(231,"3:50"),r.Pb(),r.Pb(),r.Qb(232,"div",89),r.Qb(233,"div",75),r.Qb(234,"a",76),r.Mb(235,"i",90),r.Pb(),r.Qb(236,"div",78),r.Qb(237,"a",79),r.Mb(238,"i",80),r.nc(239," \xa0 Top Rated"),r.Pb(),r.Qb(240,"a",79),r.Mb(241,"i",81),r.nc(242," \xa0 Viewed"),r.Pb(),r.Qb(243,"a",79),r.Mb(244,"i",82),r.nc(245," \xa0 Close"),r.Pb(),r.Pb(),r.Pb(),r.Qb(246,"div",91),r.Qb(247,"a",13),r.nc(248,"Duis aute irure dolor in reprehenderit in."),r.Pb(),r.Pb(),r.Qb(249,"div",92),r.nc(250," Education "),r.Qb(251,"a",93),r.Mb(252,"i",23),r.Pb(),r.Pb(),r.Qb(253,"div",94),r.nc(254," 1.8M views \xa0"),r.Mb(255,"i",95),r.nc(256," 11 Months ago "),r.Pb(),r.Pb(),r.Pb(),r.Qb(257,"div",83),r.Qb(258,"div",84),r.Qb(259,"a",85),r.Mb(260,"i",86),r.Pb(),r.Qb(261,"a",13),r.Mb(262,"img",97),r.Pb(),r.Qb(263,"div",88),r.nc(264,"3:50"),r.Pb(),r.Pb(),r.Qb(265,"div",89),r.Qb(266,"div",75),r.Qb(267,"a",76),r.Mb(268,"i",90),r.Pb(),r.Qb(269,"div",78),r.Qb(270,"a",79),r.Mb(271,"i",80),r.nc(272," \xa0 Top Rated"),r.Pb(),r.Qb(273,"a",79),r.Mb(274,"i",81),r.nc(275," \xa0 Viewed"),r.Pb(),r.Qb(276,"a",79),r.Mb(277,"i",82),r.nc(278," \xa0 Close"),r.Pb(),r.Pb(),r.Pb(),r.Qb(279,"div",91),r.Qb(280,"a",13),r.nc(281,"Culpa qui officia deserunt mollit anim"),r.Pb(),r.Pb(),r.Qb(282,"div",92),r.nc(283," Education "),r.Qb(284,"a",93),r.Mb(285,"i",23),r.Pb(),r.Pb(),r.Qb(286,"div",94),r.nc(287," 1.8M views \xa0"),r.Mb(288,"i",95),r.nc(289," 11 Months ago "),r.Pb(),r.Pb(),r.Pb(),r.Qb(290,"div",83),r.Qb(291,"div",84),r.Qb(292,"a",85),r.Mb(293,"i",86),r.Pb(),r.Qb(294,"a",13),r.Mb(295,"img",98),r.Pb(),r.Qb(296,"div",88),r.nc(297,"3:50"),r.Pb(),r.Pb(),r.Qb(298,"div",89),r.Qb(299,"div",75),r.Qb(300,"a",76),r.Mb(301,"i",90),r.Pb(),r.Qb(302,"div",78),r.Qb(303,"a",79),r.Mb(304,"i",80),r.nc(305," \xa0 Top Rated"),r.Pb(),r.Qb(306,"a",79),r.Mb(307,"i",81),r.nc(308," \xa0 Viewed"),r.Pb(),r.Qb(309,"a",79),r.Mb(310,"i",82),r.nc(311," \xa0 Close"),r.Pb(),r.Pb(),r.Pb(),r.Qb(312,"div",91),r.Qb(313,"a",13),r.nc(314,"Deserunt mollit anim id est laborum."),r.Pb(),r.Pb(),r.Qb(315,"div",92),r.nc(316," Education "),r.Qb(317,"a",93),r.Mb(318,"i",23),r.Pb(),r.Pb(),r.Qb(319,"div",94),r.nc(320," 1.8M views \xa0"),r.Mb(321,"i",95),r.nc(322," 11 Months ago "),r.Pb(),r.Pb(),r.Pb(),r.Qb(323,"div",83),r.Qb(324,"div",84),r.Qb(325,"a",85),r.Mb(326,"i",86),r.Pb(),r.Qb(327,"a",13),r.Mb(328,"img",99),r.Pb(),r.Qb(329,"div",88),r.nc(330,"3:50"),r.Pb(),r.Pb(),r.Qb(331,"div",89),r.Qb(332,"div",75),r.Qb(333,"a",76),r.Mb(334,"i",90),r.Pb(),r.Qb(335,"div",78),r.Qb(336,"a",79),r.Mb(337,"i",80),r.nc(338," \xa0 Top Rated"),r.Pb(),r.Qb(339,"a",79),r.Mb(340,"i",81),r.nc(341," \xa0 Viewed"),r.Pb(),r.Qb(342,"a",79),r.Mb(343,"i",82),r.nc(344," \xa0 Close"),r.Pb(),r.Pb(),r.Pb(),r.Qb(345,"div",91),r.Qb(346,"a",13),r.nc(347,"Exercitation ullamco laboris nisi ut."),r.Pb(),r.Pb(),r.Qb(348,"div",92),r.nc(349," Education "),r.Qb(350,"a",93),r.Mb(351,"i",23),r.Pb(),r.Pb(),r.Qb(352,"div",94),r.nc(353," 1.8M views \xa0"),r.Mb(354,"i",95),r.nc(355," 11 Months ago "),r.Pb(),r.Pb(),r.Pb(),r.Qb(356,"div",83),r.Qb(357,"div",84),r.Qb(358,"a",85),r.Mb(359,"i",86),r.Pb(),r.Qb(360,"a",13),r.Mb(361,"img",100),r.Pb(),r.Qb(362,"div",88),r.nc(363,"3:50"),r.Pb(),r.Pb(),r.Qb(364,"div",89),r.Qb(365,"div",75),r.Qb(366,"a",76),r.Mb(367,"i",90),r.Pb(),r.Qb(368,"div",78),r.Qb(369,"a",79),r.Mb(370,"i",80),r.nc(371," \xa0 Top Rated"),r.Pb(),r.Qb(372,"a",79),r.Mb(373,"i",81),r.nc(374," \xa0 Viewed"),r.Pb(),r.Qb(375,"a",79),r.Mb(376,"i",82),r.nc(377," \xa0 Close"),r.Pb(),r.Pb(),r.Pb(),r.Qb(378,"div",91),r.Qb(379,"a",13),r.nc(380,"There are many variations of passages of Lorem"),r.Pb(),r.Pb(),r.Qb(381,"div",92),r.nc(382," Education "),r.Qb(383,"a",93),r.Mb(384,"i",23),r.Pb(),r.Pb(),r.Qb(385,"div",94),r.nc(386," 1.8M views \xa0"),r.Mb(387,"i",95),r.nc(388," 11 Months ago "),r.Pb(),r.Pb(),r.Pb(),r.Qb(389,"div",101),r.Qb(390,"div",73),r.nc(391," Google AdSense"),r.Mb(392,"br"),r.nc(393," 336 x 280 "),r.Pb(),r.Pb(),r.Qb(394,"div",83),r.Qb(395,"div",84),r.Qb(396,"a",85),r.Mb(397,"i",86),r.Pb(),r.Qb(398,"a",13),r.Mb(399,"img",87),r.Pb(),r.Qb(400,"div",88),r.nc(401,"3:50"),r.Pb(),r.Pb(),r.Qb(402,"div",89),r.Qb(403,"div",75),r.Qb(404,"a",76),r.Mb(405,"i",90),r.Pb(),r.Qb(406,"div",78),r.Qb(407,"a",79),r.Mb(408,"i",80),r.nc(409," \xa0 Top Rated"),r.Pb(),r.Qb(410,"a",79),r.Mb(411,"i",81),r.nc(412," \xa0 Viewed"),r.Pb(),r.Qb(413,"a",79),r.Mb(414,"i",82),r.nc(415," \xa0 Close"),r.Pb(),r.Pb(),r.Pb(),r.Qb(416,"div",91),r.Qb(417,"a",13),r.nc(418,"Here are many variati of passages of Lorem"),r.Pb(),r.Pb(),r.Qb(419,"div",92),r.nc(420," Education "),r.Qb(421,"a",93),r.Mb(422,"i",23),r.Pb(),r.Pb(),r.Qb(423,"div",94),r.nc(424," 1.8M views \xa0"),r.Mb(425,"i",95),r.nc(426," 11 Months ago "),r.Pb(),r.Pb(),r.Pb(),r.Qb(427,"div",83),r.Qb(428,"div",84),r.Qb(429,"a",85),r.Mb(430,"i",86),r.Pb(),r.Qb(431,"a",13),r.Mb(432,"img",96),r.Pb(),r.Qb(433,"div",88),r.nc(434,"3:50"),r.Pb(),r.Pb(),r.Qb(435,"div",89),r.Qb(436,"div",75),r.Qb(437,"a",76),r.Mb(438,"i",90),r.Pb(),r.Qb(439,"div",78),r.Qb(440,"a",79),r.Mb(441,"i",80),r.nc(442," \xa0 Top Rated"),r.Pb(),r.Qb(443,"a",79),r.Mb(444,"i",81),r.nc(445," \xa0 Viewed"),r.Pb(),r.Qb(446,"a",79),r.Mb(447,"i",82),r.nc(448," \xa0 Close"),r.Pb(),r.Pb(),r.Pb(),r.Qb(449,"div",91),r.Qb(450,"a",13),r.nc(451,"Duis aute irure dolor in reprehenderit in."),r.Pb(),r.Pb(),r.Qb(452,"div",92),r.nc(453," Education "),r.Qb(454,"a",93),r.Mb(455,"i",23),r.Pb(),r.Pb(),r.Qb(456,"div",94),r.nc(457," 1.8M views \xa0"),r.Mb(458,"i",95),r.nc(459," 11 Months ago "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(5),r.ac("src",e.domSanitizer.bypassSecurityTrustResourceUrl(e.url),r.jc),r.Ab(3),r.ac("ngForOf",e.videos))},directives:[j,ei],styles:[".iframe[_ngcontent-%COMP%]{width:100%}@media (min-width:768px){.iframe[_ngcontent-%COMP%]{height:415px}}@media (max-width:768px){.iframe[_ngcontent-%COMP%]{height:235px}}@media screen and (max-width:600px){.fixed[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:0;z-index:1030;border-radius:0}.margin[_ngcontent-%COMP%]{margin-top:170px}}@media screen and (min-width:690px){.videosContent[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:1px;overflow:initial;padding:8px;box-shadow:none!important;border-radius:2px}}@media screen and (max-width:690px){.videosContent[_ngcontent-%COMP%]{background:transparent none repeat scroll 0 0;box-shadow:none!important;display:inline-block;margin-bottom:1rem;width:100%;border-radius:2px}}"]}),t})();class hS{constructor(t){this.file=t}}const fS=function(t){return{width:t}};function dS(t,e){if(1&t&&(r.Qb(0,"div",4),r.Qb(1,"div",5),r.nc(2),r.Pb(),r.Pb()),2&t){const t=r.Zb();r.Ab(1),r.ac("ngStyle",r.bc(3,fS,t.percentage+"%")),r.Bb("aria-valuenow",t.percentage),r.Ab(1),r.oc(" ",t.percentage,"% ")}}function pS(t,e){1&t&&(r.Qb(0,"div",22),r.Mb(1,"img",23),r.Qb(2,"h5",24),r.nc(3,"\u200bRegarder les vid\xe9os hors ligne"),r.Pb(),r.Qb(4,"p",25),r.nc(5,"when an unknown printer took a galley of type and scrambled"),r.Mb(6,"br"),r.nc(7," it to make a type specimen book. It has survived not "),r.Mb(8,"br"),r.nc(9,"only five centuries"),r.Pb(),r.Pb())}function gS(t,e){1&t&&(r.Qb(0,"div",22),r.Mb(1,"img",23),r.Qb(2,"h5",24),r.nc(3,"T\xe9l\xe9chargement rapide de vid\xe9os"),r.Pb(),r.Qb(4,"p",25),r.nc(5,"when an unknown printer took a galley of type and scrambled"),r.Mb(6,"br"),r.nc(7," it to make a type specimen book. It has survived not "),r.Mb(8,"br"),r.nc(9,"only five centuries"),r.Pb(),r.Pb())}function vS(t,e){1&t&&(r.Qb(0,"div",22),r.Mb(1,"img",23),r.Qb(2,"h5",24),r.nc(3,"Cr\xe9er des images"),r.Pb(),r.Qb(4,"p",25),r.nc(5,"when an unknown printer took a galley of type and scrambled"),r.Mb(6,"br"),r.nc(7," it to make a type specimen book. It has survived not "),r.Mb(8,"br"),r.nc(9,"only five centuries"),r.Pb(),r.Pb())}const bS=[{path:"",component:aS},{path:"signin",component:da},{path:"signup",component:ba},{path:"play-video/:videoId",component:lS},{path:"upload",component:(()=>{class t{constructor(t){this.dataService=t}ngOnInit(){}selectFile(t){this.selectedFiles=t.target.files}upload(){const t=this.selectedFiles.item(0);this.selectedFiles=void 0,this.currentFileUpload=new hS(t),this.dataService.pushFileToStorage(this.currentFileUpload).subscribe(t=>{this.percentage=Math.round(t)},t=>{console.log(t)})}addVideo(){this.dataService.addVideo({author:"string",category:"string",duration:"string",id:"string",like:123,path:"string",photo:"string",subtitle:"string",timestamp:"string",title:"string",type:"string",view:11})}addCategory(){this.dataService.addCategory({photo:"String",subtitle:"String",title:"String",videoQuantity:10,view:10})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(tS))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-upload"]],decls:9,vars:2,consts:[["type","file",1,"text-nowrap","text-truncate",3,"change"],[1,"btn","btn-success","btn-sm",3,"disabled","click"],["class","progress mt-2",4,"ngIf"],[3,"click"],[1,"progress","mt-2"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info",3,"ngStyle"]],template:function(t,e){1&t&&(r.Qb(0,"label"),r.Qb(1,"input",0),r.Xb("change",function(t){return e.selectFile(t)}),r.Pb(),r.Pb(),r.Qb(2,"button",1),r.Xb("click",function(){return e.upload()}),r.nc(3," Upload "),r.Pb(),r.mc(4,dS,3,5,"div",2),r.Qb(5,"button",3),r.Xb("click",function(){return e.addVideo()}),r.nc(6,"ajouter video"),r.Pb(),r.Qb(7,"button",3),r.Xb("click",function(){return e.addCategory()}),r.nc(8," ajouter category "),r.Pb()),2&t&&(r.Ab(2),r.ac("disabled",!e.selectedFiles),r.Ab(2),r.ac("ngIf",e.currentFileUpload))},directives:[k,R],styles:[""]}),t})()},{path:"user-infos",component:(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.email="",this.password="",this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,autoplay:!0,dots:!1,navSpeed:10,navText:["",""],responsive:{0:{items:1},400:{items:1},740:{items:1},940:{items:1}},nav:!1}}ngOnInit(){this.signinForm=new ko({email:new Ao(null,[Ri.email]),password:new Ao(null,[Ri.minLength(8)])})}signin(){this.authService.signin(this.email,this.password).then(()=>this.router.navigateByUrl(""))}getErrorMessage(){}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ds),r.Lb(Jr))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-user-infos"]],decls:39,vars:6,consts:[[1,"container-fluid","pl-0","pr-0"],[1,"row","no-gutters"],[1,"col-md-5","p-5","bg-white","full-height"],[1,"login-main-left"],[1,"text-center","mb-5","login-main-left-header","pt-4"],["src","./assets/img/favicon.png","alt","LOGO",1,"img-fluid"],[1,"mt-3","mb-3"],[3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","email","type","text","placeholder","Enter mobile number","required","",1,"form-control",3,"ngModel","ngModelChange"],["formControlName","password","type","password","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"mt-4"],[1,"row"],[1,"col-12"],["type","submit",1,"btn","btn-outline-primary","btn-block","btn-lg",3,"disabled"],[1,"text-center","mt-5"],[1,"light-gray"],[3,"routerLink"],[1,"col-md-7"],[1,"login-main-right","bg-white","p-5","mb-5",2,"margin-top","0rem!important"],[1,"owl-carousel-login",3,"options"],["carouselSlide","","class","item"],[1,"carousel-login-card","text-center"],["src","./assets/img/login.png","alt","LOGO",1,"img-fluid",2,"max-width","60%"],[1,"mt-5","mb-3"],[1,"mb-4"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Mb(5,"img",5),r.Qb(6,"h5",6),r.nc(7,"Bienvenue \xe0 Innov"),r.Pb(),r.Qb(8,"p"),r.nc(9,"It is a long established fact that a reader "),r.Mb(10,"br"),r.nc(11," will be distracted by the readable."),r.Pb(),r.Pb(),r.Qb(12,"form",7),r.Xb("ngSubmit",function(){return e.signin()}),r.Qb(13,"div",8),r.Qb(14,"label"),r.nc(15,"Email"),r.Pb(),r.Qb(16,"input",9),r.Xb("ngModelChange",function(t){return e.email=t}),r.Pb(),r.Qb(17,"span"),r.nc(18," Veuillez saisir un email correct "),r.Pb(),r.Pb(),r.Qb(19,"div",8),r.Qb(20,"label"),r.nc(21,"Mot de passe"),r.Pb(),r.Qb(22,"input",10),r.Xb("ngModelChange",function(t){return e.password=t}),r.Pb(),r.Pb(),r.Qb(23,"div",11),r.Qb(24,"div",12),r.Qb(25,"div",13),r.Qb(26,"button",14),r.nc(27,"Sign In"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(28,"div",15),r.Qb(29,"p",16),r.nc(30,"Je n'ai pas de compte? "),r.Qb(31,"a",17),r.nc(32,"S'inscrire"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(33,"div",18),r.Qb(34,"div",19),r.Qb(35,"owl-carousel-o",20),r.mc(36,pS,10,0,"ng-template",21),r.mc(37,gS,10,0,"ng-template",21),r.mc(38,vS,10,0,"ng-template",21),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(12),r.ac("formGroup",e.signinForm),r.Ab(4),r.ac("ngModel",e.email),r.Ab(6),r.ac("ngModel",e.password),r.Ab(4),r.ac("disabled",e.signinForm.invalid),r.Ab(5),r.ac("routerLink","signup"),r.Ab(4),r.ac("options",e.customOptions))},directives:[Lo,Zi,Vo,Pi,Xi,qo,zo,ei,aa,sa],styles:[""]}),t})()}];let mS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({imports:[[di.forRoot(bS)],di]}),t})();var yS=n("3a3M");function _S(t,e){if(1&t&&(r.Qb(0,"li",75),r.Qb(1,"a",76),r.Mb(2,"i"),r.Qb(3,"span"),r.nc(4),r.Pb(),r.Pb(),r.Pb()),2&t){const t=e.$implicit;r.Ab(1),r.ac("routerLink",t.path),r.Ab(1),r.Cb(t.icon),r.Ab(2),r.oc(" ",t.title," ")}}let wS=(()=>{class t{constructor(){this.sidemenuItems=[{title:"Accueil",icon:"fas fa-fw fa-home",path:""},{title:"Se connecter",icon:"fas fa-fw fa-home",path:"signin"},{title:"S'enregistrer",icon:"fas fa-fw fa-home",path:"signup"},{title:"Uploader",icon:"fas fa-fw fa-home",path:"upload"},{title:"Infos",icon:"fas fa-fw fa-home",path:"user-infos"}]}ngOnInit(){yS(document).on("click","#sidebarToggle",function(t){t.preventDefault(),yS("#page-top").toggleClass("sidebar-toggled"),yS(".sidebar").toggleClass("toggled"),yS(".narrow-letf-margin-footer").toggleClass("large-letf-margin-footer")})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-home"]],decls:197,vars:1,consts:[["id","page-top"],[1,"navbar","navbar-expand","navbar-light","bg-white","static-top","osahan-nav","sticky-top"],["id","sidebarToggle",1,"btn","btn-link","btn-sm","text-secondary","order-1","order-sm-0"],[1,"fas","fa-bars"],["href","index.html",1,"navbar-brand","mr-1"],["alt","","src","./assets/img/logo.png",1,"img-fluid"],[1,"d-none","d-md-inline-block","form-inline","ml-auto","mr-0","mr-md-5","my-2","my-md-0","osahan-navbar-search"],[1,"input-group"],["type","text","placeholder","Rechercher...",1,"form-control"],[1,"input-group-append"],["type","button",1,"btn","btn-light"],[1,"fas","fa-search"],[1,"navbar-nav","ml-auto","ml-md-0","osahan-right-navbar"],[1,"nav-item","dropdown","no-arrow","mx-1"],["href","#","id","alertsDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-bell","fa-fw"],["aria-labelledby","alertsDropdown",1,"dropdown-menu","dropdown-menu-right"],["href","#",1,"dropdown-item"],[1,"fas","fa-fw","fa-edit"],[1,"fas","fa-fw","fa-headphones-alt"],[1,"dropdown-divider"],[1,"fas","fa-fw","fa-star"],["href","#","id","messagesDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-envelope","fa-fw"],["aria-labelledby","messagesDropdown",1,"dropdown-menu","dropdown-menu-right"],[1,"nav-item","dropdown","no-arrow","osahan-right-navbar-user"],["href","#","id","userDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle","user-dropdown-link"],["alt","Avatar","src","./assets/img/user2.png"],["aria-labelledby","userDropdown",1,"dropdown-menu","dropdown-menu-right"],["href","account.html",1,"dropdown-item"],[1,"fas","fa-fw","fa-user-circle"],["href","subscriptions.html",1,"dropdown-item"],[1,"fas","fa-fw","fa-video"],["href","settings.html",1,"dropdown-item"],[1,"fas","fa-fw","fa-cog"],["href","#","data-toggle","modal","data-target","#logoutModal",1,"dropdown-item"],[1,"fas","fa-fw","fa-sign-out-alt"],["id","wrapper"],["id","nav",1,"sidebar","navbar-nav","toggled"],["class","nav-item active",4,"ngFor","ngForOf"],["id","content-wrapper"],[1,"sticky-footer"],[1,"section-padding","footer-list"],[1,"container"],[1,"row"],[1,"col-lg-3","col-md-3"],[1,"footer-logo","mb-4"],["href","index.html",1,"logo"],[1,"mb-0"],["href","#",1,"text-dark"],[1,"fas","fa-mobile","fa-fw"],[1,"fas","fa-globe","fa-fw"],[1,"col-lg-2","col-md-2"],[1,"mb-4"],["href","#"],["type","text","placeholder","Email Address...",1,"form-control"],["type","button",1,"btn","btn-primary"],[1,"fas","fa-arrow-right"],[1,"mb-2","mt-4"],[1,"app"],["alt","","src","./assets/img/google.png"],["alt","","src","./assets/img/apple.png"],["href","#page-top",1,"scroll-to-top","rounded"],[1,"fas","fa-angle-up"],["id","logoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-sm","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["href","login.html",1,"btn","btn-primary"],[1,"nav-item","active"],[1,"nav-link",3,"routerLink"]],template:function(t,e){1&t&&(r.Qb(0,"body",0),r.Qb(1,"nav",1),r.nc(2," \xa0\xa0 "),r.Qb(3,"button",2),r.Mb(4,"i",3),r.Pb(),r.nc(5," \xa0\xa0 "),r.Qb(6,"a",4),r.Mb(7,"img",5),r.Pb(),r.Qb(8,"form",6),r.Qb(9,"div",7),r.Mb(10,"input",8),r.Qb(11,"div",9),r.Qb(12,"button",10),r.Mb(13,"i",11),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(14,"ul",12),r.Qb(15,"li",13),r.Qb(16,"a",14),r.Mb(17,"i",15),r.Pb(),r.Qb(18,"div",16),r.Qb(19,"a",17),r.Mb(20,"i",18),r.nc(21," \xa0 Action"),r.Pb(),r.Qb(22,"a",17),r.Mb(23,"i",19),r.nc(24," \xa0 Another action"),r.Pb(),r.Mb(25,"div",20),r.Qb(26,"a",17),r.Mb(27,"i",21),r.nc(28," \xa0 Something else here"),r.Pb(),r.Pb(),r.Pb(),r.Qb(29,"li",13),r.Qb(30,"a",22),r.Mb(31,"i",23),r.Pb(),r.Qb(32,"div",24),r.Qb(33,"a",17),r.Mb(34,"i",18),r.nc(35," \xa0 Action"),r.Pb(),r.Qb(36,"a",17),r.Mb(37,"i",19),r.nc(38," \xa0 Another action"),r.Pb(),r.Mb(39,"div",20),r.Qb(40,"a",17),r.Mb(41,"i",21),r.nc(42," \xa0 Something else here"),r.Pb(),r.Pb(),r.Pb(),r.Qb(43,"li",25),r.Qb(44,"a",26),r.Mb(45,"img",27),r.Pb(),r.Qb(46,"div",28),r.Qb(47,"a",29),r.Mb(48,"i",30),r.nc(49," \xa0 My Account"),r.Pb(),r.Qb(50,"a",31),r.Mb(51,"i",32),r.nc(52," \xa0 Subscriptions"),r.Pb(),r.Qb(53,"a",33),r.Mb(54,"i",34),r.nc(55," \xa0 Settings"),r.Pb(),r.Mb(56,"div",20),r.Qb(57,"a",35),r.Mb(58,"i",36),r.nc(59," \xa0 Logout"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(60,"div",37),r.Qb(61,"ul",38),r.mc(62,_S,5,4,"li",39),r.Pb(),r.Qb(63,"div",40),r.Mb(64,"router-outlet"),r.Qb(65,"footer",41),r.Qb(66,"section",42),r.Qb(67,"div",43),r.Qb(68,"div",44),r.Qb(69,"div",45),r.Qb(70,"div",46),r.Qb(71,"a",47),r.Mb(72,"img",5),r.Pb(),r.Pb(),r.Qb(73,"p"),r.nc(74,"86 Petersham town, New South wales Waedll Steet, Australia"),r.Pb(),r.Qb(75,"p",48),r.Qb(76,"a",49),r.Mb(77,"i",50),r.nc(78," +61 525 240 310"),r.Pb(),r.Pb(),r.Qb(79,"p",48),r.Qb(80,"a",49),r.Mb(81,"i",23),r.nc(82," iamosahan@gmail.com"),r.Pb(),r.Pb(),r.Qb(83,"p",48),r.Qb(84,"a",49),r.Mb(85,"i",51),r.nc(86," www.askbootstrap.com"),r.Pb(),r.Pb(),r.Pb(),r.Qb(87,"div",52),r.Qb(88,"h6",53),r.nc(89,"Company"),r.Pb(),r.Qb(90,"ul"),r.Qb(91,"li"),r.Qb(92,"a",54),r.nc(93,"About us"),r.Pb(),r.Pb(),r.Qb(94,"li"),r.Qb(95,"a",54),r.nc(96,"Careers"),r.Pb(),r.Pb(),r.Qb(97,"li"),r.Qb(98,"a",54),r.nc(99,"Legal"),r.Pb(),r.Pb(),r.Qb(100,"li"),r.Qb(101,"a",54),r.nc(102,"FAQ"),r.Pb(),r.Pb(),r.Qb(103,"li"),r.Qb(104,"a",54),r.nc(105,"Privacy"),r.Pb(),r.Pb(),r.Qb(106,"li"),r.Qb(107,"a",54),r.nc(108,"Terms"),r.Pb(),r.Pb(),r.Qb(109,"li"),r.Qb(110,"a",54),r.nc(111,"Contact us"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(112,"div",52),r.Qb(113,"h6",53),r.nc(114,"Features"),r.Pb(),r.Qb(115,"ul"),r.Qb(116,"li"),r.Qb(117,"a",54),r.nc(118,"Retention"),r.Pb(),r.Pb(),r.Qb(119,"li"),r.Qb(120,"a",54),r.nc(121,"People"),r.Pb(),r.Pb(),r.Qb(122,"li"),r.Qb(123,"a",54),r.nc(124,"Messages"),r.Pb(),r.Pb(),r.Qb(125,"li"),r.Qb(126,"a",54),r.nc(127,"Infrastructure"),r.Pb(),r.Pb(),r.Qb(128,"li"),r.Qb(129,"a",54),r.nc(130,"Platform"),r.Pb(),r.Pb(),r.Qb(131,"li"),r.Qb(132,"a",54),r.nc(133,"Funnels"),r.Pb(),r.Pb(),r.Qb(134,"li"),r.Qb(135,"a",54),r.nc(136,"Live"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(137,"div",52),r.Qb(138,"h6",53),r.nc(139,"Solutions"),r.Pb(),r.Qb(140,"ul"),r.Qb(141,"li"),r.Qb(142,"a",54),r.nc(143,"Enterprise"),r.Pb(),r.Pb(),r.Qb(144,"li"),r.Qb(145,"a",54),r.nc(146,"Financial Services"),r.Pb(),r.Pb(),r.Qb(147,"li"),r.Qb(148,"a",54),r.nc(149,"Consumer Tech"),r.Pb(),r.Pb(),r.Qb(150,"li"),r.Qb(151,"a",54),r.nc(152,"Entertainment"),r.Pb(),r.Pb(),r.Qb(153,"li"),r.Qb(154,"a",54),r.nc(155,"Product"),r.Pb(),r.Pb(),r.Qb(156,"li"),r.Qb(157,"a",54),r.nc(158,"Marketing"),r.Pb(),r.Pb(),r.Qb(159,"li"),r.Qb(160,"a",54),r.nc(161,"Analytics"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(162,"div",45),r.Qb(163,"h6",53),r.nc(164,"NEWSLETTER"),r.Pb(),r.Qb(165,"div",7),r.Mb(166,"input",55),r.Qb(167,"div",9),r.Qb(168,"button",56),r.Mb(169,"i",57),r.Pb(),r.Pb(),r.Pb(),r.Qb(170,"small"),r.nc(171,"It is a long established fact that a reader will be distracted by.."),r.Pb(),r.Qb(172,"h6",58),r.nc(173,"DOWNLOAD APP"),r.Pb(),r.Qb(174,"div",59),r.Qb(175,"a",54),r.Mb(176,"img",60),r.Pb(),r.Qb(177,"a",54),r.Mb(178,"img",61),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(179,"a",62),r.Mb(180,"i",63),r.Pb(),r.Qb(181,"div",64),r.Qb(182,"div",65),r.Qb(183,"div",66),r.Qb(184,"div",67),r.Qb(185,"h5",68),r.nc(186,"Ready to Leave?"),r.Pb(),r.Qb(187,"button",69),r.Qb(188,"span",70),r.nc(189,"\xd7"),r.Pb(),r.Pb(),r.Pb(),r.Qb(190,"div",71),r.nc(191,'Select "Logout" below if you are ready to end your current session.'),r.Pb(),r.Qb(192,"div",72),r.Qb(193,"button",73),r.nc(194,"Cancel"),r.Pb(),r.Qb(195,"a",74),r.nc(196,"Logout"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(62),r.ac("ngForOf",e.sidemenuItems))},directives:[Lo,Zi,Mo,j,ri,ei],styles:[""]}),t})(),CS=(()=>{class t{constructor(){this.title="innov"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"app-home")},directives:[wS],styles:[""]}),t})();var OS={apiKey:"AIzaSyDVz2UkFP1xjVwJsqjZrcbcEqriNxqsZgc",authDomain:"innov-3298a.firebaseapp.com",databaseURL:"https://innov-3298a.firebaseio.com",projectId:"innov-3298a",storageBucket:"innov-3298a.appspot.com",messagingSenderId:"179899423845",appId:"1:179899423845:web:28a6e0f9bd61267a6bfa8c",measurementId:"G-LB8G9W81XF"};let SS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t,bootstrap:[CS]}),t.\u0275inj=r.Ib({providers:[ds,tS],imports:[[yt,mS,ca,os.a.initializeApp(OS),Go,$o]]}),t})();Object(r.T)(),bt().bootstrapModule(SS).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);